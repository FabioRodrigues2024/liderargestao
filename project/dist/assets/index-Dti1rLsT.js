import{r as Ne,a as wh,R as ui,g as Tu,c as $t}from"./vendor-xyw8oivv.js";import{M as Nh,B as es,L as Xl,a as jh,W as _h,R as Sh,C as Uc,b as Ah,U as kh,P as Lh,c as Ph,F as Ch,d as js,S as ho,T as Cl,A as zc,e as $c,f as Eh,D as Ih,g as Ql,h as An,i as Ln,X as ns,j as _s,k as hi,l as fi,m as fo,n as pi,o as Ou,p as Zl,q as ia,r as Fu,s as Ru,t as oo,u as Th,v as Du,K as Mu,w as Bu,x as qu,y as Oh,z as Fh,E as Uu,G as zu,H as Rh,I as Dh}from"./ui-CkAohDJP.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var $u={exports:{}},po={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh=Ne,Bh=Symbol.for("react.element"),qh=Symbol.for("react.fragment"),Uh=Object.prototype.hasOwnProperty,zh=Mh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$h={key:!0,ref:!0,__self:!0,__source:!0};function Hu(n,e,t){var r,i={},s=null,l=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)Uh.call(e,r)&&!$h.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Bh,type:n,key:s,ref:l,props:i,_owner:zh.current}}po.Fragment=qh;po.jsx=Hu;po.jsxs=Hu;$u.exports=po;var a=$u.exports,Wu,Hc=wh;Wu=Hc.createRoot,Hc.hydrateRoot;function Hh(n={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:r}=n,[i,s]=Ne.useState(!1),l=Ne.useRef(t);l.current=t;const u=Ne.useRef(r);return u.current=r,Ne.useEffect(()=>{const c=document.createElement("script");return c.src="https://accounts.google.com/gsi/client",c.async=!0,c.defer=!0,c.nonce=e,c.onload=()=>{var h;s(!0),(h=l.current)===null||h===void 0||h.call(l)},c.onerror=()=>{var h;s(!1),(h=u.current)===null||h===void 0||h.call(u)},document.body.appendChild(c),()=>{document.body.removeChild(c)}},[e]),i}const Wh=Ne.createContext(null);function Vh({clientId:n,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:r,children:i}){const s=Hh({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:r}),l=Ne.useMemo(()=>({clientId:n,scriptLoadedSuccessfully:s}),[n,s]);return ui.createElement(Wh.Provider,{value:l},i)}function Gh({children:n,onNavigate:e,currentView:t,user:r,onLogout:i}){const[s,l]=ui.useState(!0),[u,c]=ui.useState(!1),h=localStorage.getItem("systemLogo"),p=localStorage.getItem("systemName")||"Financial Control",v=[{icon:jh,label:"Dashboard",value:"dashboard"},{icon:_h,label:"Financeiro",value:"finance",submenu:[{icon:Sh,label:"Lançamentos",value:"transactions"},{icon:Uc,label:"Contas a Pagar",value:"payables"},{icon:Uc,label:"Contas a Receber",value:"receivables"},{icon:Ah,label:"Plano de Contas",value:"chart-accounts"}]},{icon:es,label:"Bancos",value:"banks"},{icon:kh,label:"Clientes",value:"customers"},{icon:Lh,label:"Produtos",value:"products"},{icon:Ph,label:"Serviços",value:"services"},{icon:Ch,label:"Orçamentos",value:"quotes"},{icon:js,label:"Relatórios",value:"reports"},{icon:ho,label:"Configurações",value:"settings"}];return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-white border-b px-4 py-3 flex items-center justify-between",children:[a.jsx("button",{onClick:()=>l(!s),className:"p-2 rounded-lg hover:bg-gray-100",children:a.jsx(Nh,{className:"h-6 w-6"})}),h?a.jsx("img",{src:h,alt:p,className:"h-8"}):a.jsx("span",{className:"text-lg font-semibold",children:p})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 lg:hidden z-40",onClick:()=>l(!1)}),a.jsxs("aside",{className:`
          ${s?"translate-x-0":"-translate-x-full"}
          fixed lg:static lg:translate-x-0 z-50 
          w-72 h-full min-h-screen
          bg-white border-r transition-transform duration-200 ease-in-out
          flex flex-col
        `,children:[a.jsx("div",{className:"h-24 flex items-center justify-center px-4 border-b",children:h?a.jsx("img",{src:h,alt:p,className:"h-16 w-auto"}):a.jsx("div",{className:"h-16 w-16 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(es,{className:"h-10 w-10 text-white"})})}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.name}),a.jsx("p",{className:"text-sm text-gray-500",children:r.email})]})}),a.jsx("nav",{className:"flex-1 px-4 space-y-1 overflow-y-auto",children:v.map(b=>a.jsx("div",{children:b.submenu?a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>c(!u),className:`
                      w-full flex items-center justify-between px-4 py-2.5 rounded-lg text-sm
                      ${t===b.value?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-100"}
                    `,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(b.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:b.label})]}),a.jsx("svg",{className:`h-5 w-5 transform transition-transform ${u?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u&&a.jsx("div",{className:"pl-4 space-y-1",children:b.submenu.map(m=>{const _=m.icon;return a.jsxs("button",{onClick:()=>{e(m.value),l(!1)},className:`
                              w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg text-sm
                              ${t===m.value?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-100"}
                            `,children:[a.jsx(_,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:m.label})]},m.value)})})]}):a.jsxs("button",{onClick:()=>{e(b.value),l(!1)},className:`
                    w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg text-sm
                    ${t===b.value?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-100"}
                  `,children:[a.jsx(b.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:b.label})]})},b.value))}),a.jsx("div",{className:"p-4 border-t mt-auto",children:a.jsxs("button",{onClick:i,className:"w-full flex items-center space-x-3 px-4 py-2.5 rounded-lg text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(Xl,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"Sair"})]})})]}),a.jsx("main",{className:"flex-1 min-h-screen p-4 lg:p-8 lg:ml-0 mt-16 lg:mt-0",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:n})})]})}function lo(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Dashboard"}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs("select",{className:"px-4 py-2 rounded-lg border bg-white",children:[a.jsx("option",{children:"Últimos 30 dias"}),a.jsx("option",{children:"Este mês"}),a.jsx("option",{children:"Este ano"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Cl,{className:"h-6 w-6 text-green-600"})}),a.jsxs("span",{className:"flex items-center text-green-600",children:[a.jsx(zc,{className:"h-4 w-4"}),"12%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Receitas"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"R$ 45.850,00"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:a.jsx($c,{className:"h-6 w-6 text-red-600"})}),a.jsxs("span",{className:"flex items-center text-red-600",children:[a.jsx(Eh,{className:"h-4 w-4"}),"8%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Despesas"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"R$ 32.150,00"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Ih,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("span",{className:"flex items-center text-green-600",children:[a.jsx(zc,{className:"h-4 w-4"}),"15%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600",children:"Saldo"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"R$ 13.700,00"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Transações Recentes"})}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(n=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${n%2===0?"bg-red-100":"bg-green-100"}`,children:n%2===0?a.jsx($c,{className:"h-5 w-5 text-red-600"}):a.jsx(Cl,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:n%2===0?"Pagamento Fornecedor":"Recebimento Cliente"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Itaú - 15/03/2024"})]})]}),a.jsxs("span",{className:`font-medium ${n%2===0?"text-red-600":"text-green-600"}`,children:[n%2===0?"-":"+","R$ ",(Math.random()*1e3).toFixed(2)]})]},n))})})]})]})}function Jh(n){const e=[];let t=null;try{const r=n.match(/<BANKID>(\d+)<\/BANKID>/),i=n.match(/<ORG>(.+?)<\/ORG>/),s=n.match(/<ACCTID>(.+?)<\/ACCTID>/),l=n.match(/<ACCTTYPE>(.+?)<\/ACCTTYPE>/);r&&i&&(t={bankId:r[1],bankName:i[1],accountNumber:s?s[1]:"",accountType:l?l[1]:""});const u=n.match(/<STMTTRN>[\s\S]*?<\/STMTTRN>/g)||[];e.push(...u.map(c=>{const h=c.match(/<DTPOSTED>(\d{8})<\/DTPOSTED>/),p=c.match(/<TRNAMT>(-?\d+\.\d+)<\/TRNAMT>/),v=c.match(/<MEMO>(.+?)<\/MEMO>/)||c.match(/<NAME>(.+?)<\/NAME>/),b=c.match(/<TRNTYPE>(.+?)<\/TRNTYPE>/);if(!h||!p)throw new Error("Transação inválida: data ou valor ausente");const m=Yh(h[1]),_=Math.abs(parseFloat(p[1])),N=v?v[1]:"Sem descrição",j=parseFloat(p[1])>0?"INCOME":"EXPENSE";return{date:m.toISOString(),amount:_,description:N,type:j,paymentMethod:"TRANSFER",bankId:(t==null?void 0:t.bankId)||"",category:"",originalDescription:N}}))}catch(r){throw console.error("Erro ao processar arquivo OFX:",r),new Error("Formato de arquivo OFX inválido")}return{transactions:e,bankInfo:t}}function Yh(n){const e=parseInt(n.substring(0,4),10),t=parseInt(n.substring(4,6),10)-1,r=parseInt(n.substring(6,8),10);return new Date(Date.UTC(e,t,r))}const Vu=[{id:"1",code:"1",name:"Receitas",type:"revenue",children:[{id:"1.1",code:"1.1",name:"Receita de Vendas",type:"revenue",parentId:"1"},{id:"1.2",code:"1.2",name:"Receita de Serviços",type:"revenue",parentId:"1"},{id:"1.3",code:"1.3",name:"Receitas Financeiras",type:"revenue",parentId:"1"},{id:"1.4",code:"1.4",name:"Outras Receitas",type:"revenue",parentId:"1"}]},{id:"2",code:"2",name:"Despesas",type:"expense",children:[{id:"2.1",code:"2.1",name:"Custos de Produtos/Serviços Vendidos",type:"expense",parentId:"2"},{id:"2.2",code:"2.2",name:"Salários e Encargos",type:"expense",parentId:"2"},{id:"2.3",code:"2.3",name:"Aluguel",type:"expense",parentId:"2"},{id:"2.4",code:"2.4",name:"Utilidades",type:"expense",parentId:"2"},{id:"2.5",code:"2.5",name:"Material de Escritório",type:"expense",parentId:"2"},{id:"2.6",code:"2.6",name:"Manutenção e Reparos",type:"expense",parentId:"2"},{id:"2.7",code:"2.7",name:"Marketing e Publicidade",type:"expense",parentId:"2"},{id:"2.8",code:"2.8",name:"Seguros",type:"expense",parentId:"2"},{id:"2.9",code:"2.9",name:"Impostos e Taxas",type:"expense",parentId:"2"},{id:"2.10",code:"2.10",name:"Despesas Financeiras",type:"expense",parentId:"2"},{id:"2.11",code:"2.11",name:"Depreciação",type:"expense",parentId:"2"},{id:"2.12",code:"2.12",name:"Viagens e Representação",type:"expense",parentId:"2"},{id:"2.13",code:"2.13",name:"Treinamento e Desenvolvimento",type:"expense",parentId:"2"},{id:"2.14",code:"2.14",name:"Serviços Profissionais",type:"expense",parentId:"2"},{id:"2.15",code:"2.15",name:"Despesas com Veículos",type:"expense",parentId:"2"}]}],Vi=[{id:"1",name:"Banco do Brasil",code:"001"},{id:"2",name:"Bradesco",code:"237"},{id:"3",name:"Caixa Econômica Federal",code:"104"},{id:"4",name:"Itaú",code:"341"},{id:"5",name:"Santander",code:"033"},{id:"6",name:"Nubank",code:"260"},{id:"7",name:"Inter",code:"077"}],Kh={razaoSocial:"TechSolutions Brasil LTDA",cnpj:"12.345.678/0001-90",email:"empresa@teste.com.br",whatsapp:"(11) 98765-4321",socioNome:"Roberto Santos Silva",socioCpf:"123.456.789-00",endereco:"Av. Paulista, 1000 - Bela Vista - São Paulo/SP - CEP 01310-100",telefoneFixo:"(11) 3456-7890",inscricaoEstadual:"123.456.789.110",inscricaoMunicipal:"1.234.567-8",dataAbertura:"2020-01-15",regimeTributario:"Simples Nacional",ramoAtividade:"Tecnologia da Informação",logo:"",contasBancarias:[{banco:"Itaú",agencia:"1234",conta:"56789-0",tipo:"Corrente"},{banco:"Bradesco",agencia:"5678",conta:"12345-6",tipo:"Corrente"}],contatos:[{nome:"Roberto Santos Silva",cargo:"Diretor",email:"roberto@teste.com.br",telefone:"(11) 98765-4321"},{nome:"Maria Oliveira",cargo:"Financeiro",email:"maria@teste.com.br",telefone:"(11) 98765-4322"}]},Xh=[{id:"1",name:"Notebook Premium",description:"Notebook com processador i7, 16GB RAM, SSD 512GB",price:4500,stock:10,sku:"NOT-001"},{id:"2",name:'Monitor 27"',description:'Monitor LED 27" Full HD',price:1200,stock:15,sku:"MON-001"}],El="demo-company-id",Qh=[{id:"1",name:"Instalação e Configuração",description:"Serviço de instalação e configuração de equipamentos",price:250,companyId:El,active:!0},{id:"2",name:"Suporte Técnico",description:"Suporte técnico mensal",price:150,companyId:El,active:!0}],Zh=[{id:"1",companyId:El,clientId:"client-1",clientName:"Cliente Exemplo LTDA",clientEmail:"contato@clienteexemplo.com.br",clientPhone:"(11) 98765-4321",items:[{type:"product",id:"1",quantity:2,price:4500,name:"Notebook Premium"},{type:"service",id:"1",quantity:2,price:250,name:"Instalação e Configuração"}],total:9500,date:new Date().toISOString(),status:"draft",validUntil:new Date(Date.now()+30*24*60*60*1e3).toISOString(),notes:"Orçamento válido por 30 dias."}],jn=n=>{const e=new Date;return e.setMonth(e.getMonth()-n),e.setDate(Math.floor(Math.random()*28)+1),e.toISOString()},mo=[{id:"1",date:jn(0),amount:4500,description:"Venda de Notebook - Cliente A",paymentMethod:"TRANSFER",type:"INCOME",bankId:"1",category:"Receita de Vendas",paid:!0},{id:"2",date:jn(0),amount:1200,description:"Venda de Monitor - Cliente B",paymentMethod:"TRANSFER",type:"INCOME",bankId:"1",category:"Receita de Vendas",paid:!0},{id:"3",date:jn(0),amount:2500,description:"Aluguel do Escritório",paymentMethod:"TRANSFER",type:"EXPENSE",bankId:"1",category:"Aluguel",paid:!0},{id:"4",date:jn(1),amount:3500,description:"Serviços de Consultoria - Cliente C",paymentMethod:"TRANSFER",type:"INCOME",bankId:"2",category:"Receita de Serviços",paid:!0},{id:"5",date:jn(1),amount:1500,description:"Conta de Energia",paymentMethod:"TRANSFER",type:"EXPENSE",bankId:"1",category:"Utilidades",paid:!0},{id:"6",date:jn(1),amount:800,description:"Internet e Telefone",paymentMethod:"TRANSFER",type:"EXPENSE",bankId:"1",category:"Utilidades",paid:!0},{id:"7",date:jn(2),amount:5500,description:"Projeto de TI - Cliente D",paymentMethod:"TRANSFER",type:"INCOME",bankId:"1",category:"Receita de Serviços",paid:!0},{id:"8",date:jn(2),amount:1200,description:"Material de Escritório",paymentMethod:"TRANSFER",type:"EXPENSE",bankId:"1",category:"Material de Escritório",paid:!0},{id:"9",date:jn(2),amount:3e3,description:"Marketing Digital",paymentMethod:"TRANSFER",type:"EXPENSE",bankId:"1",category:"Marketing",paid:!0},{id:"10",date:new Date(Date.now()+7*24*60*60*1e3).toISOString(),amount:2500,description:"Aluguel do Escritório",paymentMethod:"TRANSFER",type:"EXPENSE",bankId:"1",category:"Aluguel",paid:!1},{id:"11",date:new Date(Date.now()+15*24*60*60*1e3).toISOString(),amount:6e3,description:"Projeto Website - Cliente E",paymentMethod:"TRANSFER",type:"INCOME",bankId:"1",category:"Receita de Serviços",paid:!1}];function Gu(){const[n,e]=Ne.useState(mo),[t,r]=Ne.useState(!1),[i]=Ne.useState(Vu),[s,l]=Ne.useState(null),[u,c]=Ne.useState(!1),[h,p]=Ne.useState(null),v=Ne.useRef(null),[b,m]=Ne.useState(""),_=async $=>{var I;const R=(I=$.target.files)==null?void 0:I[0];if(R)try{const K=await R.text(),{transactions:J,bankInfo:C}=Jh(K);if(J.length===0)throw new Error("Nenhuma transação encontrada no arquivo");if(C){const B=Vi.find(U=>U.code===C.bankId)}const A=J.map(B=>({...B,id:crypto.randomUUID()}));e(B=>[...B,...A])}catch(K){console.error("Erro ao importar arquivo:",K),alert(K instanceof Error?K.message:"Erro ao processar arquivo OFX")}finally{v.current&&(v.current.value="")}},N=()=>{if(n.length===0){const J=document.createElement("div");J.className="fixed bottom-4 right-4 bg-yellow-600 text-white px-6 py-3 rounded-lg shadow-lg",J.textContent="Não há transações para exportar",document.body.appendChild(J),setTimeout(()=>J.remove(),3e3);return}const R=[["Data","Banco","Descrição","Valor","Tipo","Categoria"].join(","),...n.map(J=>{var C;return[new Date(J.date).toLocaleDateString(),((C=Vi.find(A=>A.id===J.bankId))==null?void 0:C.name)||"",`"${J.description}"`,J.amount.toFixed(2),J.type==="INCOME"?"Receita":"Despesa",J.category].join(",")})].join(`
`),I=new Blob([R],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a");K.href=URL.createObjectURL(I),K.download=`transacoes_${new Date().toISOString().split("T")[0]}.csv`,K.click()},j=$=>{l($),r(!0)},x=$=>{p($),c(!0)},w=()=>{if(h){e(n.filter(R=>R.id!==h.id)),c(!1),p(null);const $=document.createElement("div");$.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",$.textContent="Lançamento excluído com sucesso",document.body.appendChild($),setTimeout(()=>$.remove(),3e3)}},S=$=>{$.preventDefault();const R=$.currentTarget,I=new FormData(R),K={id:(s==null?void 0:s.id)||crypto.randomUUID(),date:I.get("date"),amount:parseFloat(I.get("amount")),description:I.get("description"),type:I.get("type")||"EXPENSE",paymentMethod:I.get("paymentMethod"),bankId:I.get("bankId"),category:I.get("category"),paid:!0};if(s){e(n.map(C=>C.id===s.id?K:C));const J=document.createElement("div");J.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",J.textContent="Lançamento atualizado com sucesso",document.body.appendChild(J),setTimeout(()=>J.remove(),3e3)}else{e([...n,K]);const J=document.createElement("div");J.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",J.textContent="Lançamento criado com sucesso",document.body.appendChild(J),setTimeout(()=>J.remove(),3e3)}r(!1),l(null)},F=ui.useCallback(($,R=[])=>($.forEach(I=>{R.push(I),I.children&&F(I.children,R)}),R),[]),H=n.filter($=>{var I,K;const R=b.toLowerCase();return $.description.toLowerCase().includes(R)||(((I=$.category)==null?void 0:I.toLowerCase())??"").includes(R)||(((K=Vi.find(J=>J.id===$.bankId))==null?void 0:K.name.toLowerCase())??"").includes(R)});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Lançamentos"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"file",ref:v,onChange:_,accept:".ofx,.qfx",className:"hidden"}),a.jsxs("button",{onClick:()=>{var $;return($=v.current)==null?void 0:$.click()},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg flex items-center space-x-2 hover:bg-gray-200",children:[a.jsx(Ql,{className:"h-5 w-5"}),a.jsx("span",{children:"Importar OFX"})]}),a.jsxs("button",{onClick:N,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg flex items-center space-x-2 hover:bg-gray-200",children:[a.jsx(An,{className:"h-5 w-5"}),a.jsx("span",{children:"Exportar CSV"})]}),a.jsxs("button",{onClick:()=>{l(null),r(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center space-x-2 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Lançamento"})]})]})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s?"Editar Lançamento":"Novo Lançamento"}),a.jsx("button",{onClick:()=>{r(!1),l(null)},className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(ns,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:S,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data"}),a.jsx("input",{type:"date",name:"date",defaultValue:(s==null?void 0:s.date.split("T")[0])||new Date().toISOString().split("T")[0],className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Valor"}),a.jsx("input",{type:"number",name:"amount",step:"0.01",defaultValue:(s==null?void 0:s.amount)||"",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descrição"}),a.jsx("input",{type:"text",name:"description",defaultValue:(s==null?void 0:s.description)||"",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),a.jsxs("select",{name:"type",defaultValue:(s==null?void 0:s.type)||"EXPENSE",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[a.jsx("option",{value:"INCOME",children:"Receita"}),a.jsx("option",{value:"EXPENSE",children:"Despesa"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Forma de Pagamento"}),a.jsxs("select",{name:"paymentMethod",defaultValue:(s==null?void 0:s.paymentMethod)||"TRANSFER",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[a.jsx("option",{value:"TRANSFER",children:"Transferência"}),a.jsx("option",{value:"CREDIT",children:"Cartão de Crédito"}),a.jsx("option",{value:"DEBIT",children:"Cartão de Débito"}),a.jsx("option",{value:"CASH",children:"Dinheiro"}),a.jsx("option",{value:"PIX",children:"PIX"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Banco"}),a.jsxs("select",{name:"bankId",defaultValue:(s==null?void 0:s.bankId)||"",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Selecione um banco"}),Vi.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Categoria"}),a.jsxs("select",{name:"category",defaultValue:(s==null?void 0:s.category)||"",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"",children:"Selecione uma categoria"}),F(i).map($=>a.jsx("option",{value:$.name,children:$.name},$.id))]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{r(!1),l(null)},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:s?"Salvar Alterações":"Criar Lançamento"})]})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl border",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Buscar lançamentos...",value:b,onChange:$=>m($.target.value),className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),a.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg flex items-center space-x-2 hover:bg-gray-200",children:[a.jsx(_s,{className:"h-5 w-5"}),a.jsx("span",{children:"Filtros"})]})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Data"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Banco"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Descrição"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Categoria"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Ações"})]})}),a.jsx("tbody",{children:H.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum lançamento encontrado"})}):H.map($=>{var R;return a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"px-6 py-4 text-gray-800",children:new Date($.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:(R=Vi.find(I=>I.id===$.bankId))==null?void 0:R.name}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:$.description}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:$.category}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:$.type==="INCOME"?"text-green-600":"text-red-600",children:[$.type==="INCOME"?"+":"-","R$ ",$.amount.toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>j($),className:"p-2 text-gray-400 hover:text-blue-600",title:"Editar",children:a.jsx(hi,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>x($),className:"p-2 text-gray-400 hover:text-red-600",title:"Excluir",children:a.jsx(fi,{className:"h-5 w-5"})})]})})]},$.id)})})]})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirmar Exclusão"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Tem certeza que deseja excluir este lançamento? Esta ação não pode ser desfeita."}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancelar"}),a.jsx("button",{onClick:w,className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Excluir"})]})]})})]})}function Ju(){const[n,e]=Ne.useState(!1),[t,r]=Ne.useState([{id:"1",name:"Itaú",code:"341"},{id:"2",name:"Bradesco",code:"237"},{id:"3",name:"Santander",code:"033"}]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Bancos"}),a.jsxs("button",{onClick:()=>e(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center space-x-2 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Banco"})]})]}),n&&a.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Adicionar Novo Banco"}),a.jsxs("form",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Banco"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Itaú"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código do Banco"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: 341"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar"}),a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancelar"})]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Nome"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Código"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Ações"})]})}),a.jsx("tbody",{children:t.map(i=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"px-6 py-4 text-gray-800",children:i.name}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:i.code}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{className:"p-2 text-gray-600 hover:text-blue-600",children:a.jsx(hi,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-600 hover:text-red-600",children:a.jsx(fi,{className:"h-5 w-5"})})]})})]},i.id))})]})})})]})}function ef(){const[n,e]=Ne.useState(!1),[t,r]=Ne.useState([]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Clientes"}),a.jsxs("button",{onClick:()=>e(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center space-x-2 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Cliente"})]})]}),n&&a.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Novo Cliente"}),a.jsxs("form",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nome completo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"email@exemplo.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),a.jsx("input",{type:"tel",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(00) 00000-0000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF/CNPJ"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"000.000.000-00"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar"}),a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancelar"})]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Nome"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Email"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Telefone"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"CPF/CNPJ"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Ações"})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum cliente cadastrado"})}):t.map(i=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"px-6 py-4 text-gray-800",children:i.name}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:i.email}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:i.phone}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:i.document}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{className:"p-2 text-gray-600 hover:text-blue-600",children:a.jsx(js,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-600 hover:text-blue-600",children:a.jsx(hi,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-600 hover:text-red-600",children:a.jsx(fi,{className:"h-5 w-5"})})]})})]},i.id))})]})})})]})}function tf(){const[n,e]=Ne.useState(!1),[t,r]=Ne.useState([]),i=ui.useRef(null),s=l=>{var h;const u=(h=l.target.files)==null?void 0:h[0];if(!u)return;const c=new FileReader;c.onload=p=>{try{const v=document.createElement("div");v.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg",v.textContent="Produtos importados com sucesso!",document.body.appendChild(v),setTimeout(()=>v.remove(),3e3)}catch{const b=document.createElement("div");b.className="fixed bottom-4 right-4 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg",b.textContent="Erro ao importar produtos",document.body.appendChild(b),setTimeout(()=>b.remove(),3e3)}},c.readAsText(u)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Produtos"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"file",ref:i,onChange:s,accept:".csv,.xlsx",className:"hidden"}),a.jsxs("button",{onClick:()=>{var l;return(l=i.current)==null?void 0:l.click()},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg flex items-center space-x-2 hover:bg-gray-200",children:[a.jsx(Ql,{className:"h-5 w-5"}),a.jsx("span",{children:"Importar Planilha"})]}),a.jsxs("button",{onClick:()=>e(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center space-x-2 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Produto"})]})]})]}),n&&a.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Novo Produto"}),a.jsxs("form",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nome do produto"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),a.jsx("textarea",{rows:3,className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Descrição detalhada do produto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço"}),a.jsx("input",{type:"number",step:"0.01",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0,00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque"}),a.jsx("input",{type:"number",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Código do produto"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar"}),a.jsx("button",{type:"button",onClick:()=>e(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancelar"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsx("input",{type:"text",placeholder:"Buscar produtos...",className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Nome"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"SKU"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Estoque"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Preço"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Ações"})]})}),a.jsx("tbody",{children:t.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum produto cadastrado"})}):t.map(l=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-800",children:l.name}),a.jsx("div",{className:"text-sm text-gray-500",children:l.description})]})}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:l.sku}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`px-2 py-1 rounded-full text-sm ${l.stock>10?"bg-green-100 text-green-800":l.stock>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[l.stock," unidades"]})}),a.jsxs("td",{className:"px-6 py-4 text-right text-gray-800",children:["R$ ",l.price.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{className:"p-2 text-gray-600 hover:text-blue-600",children:a.jsx(hi,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-600 hover:text-red-600",children:a.jsx(fi,{className:"h-5 w-5"})})]})})]},l.id))})]})})]})]})}const rf="modulepreload",nf=function(n){return"/"+n},Wc={},kn=function(e,t,r){let i=Promise.resolve();return t&&t.length>0&&(document.getElementsByTagName("link"),i=Promise.all(t.map(s=>{if(s=nf(s),s in Wc)return;Wc[s]=!0;const l=s.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":rf,l||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),l)return new Promise((h,p)=>{c.addEventListener("load",h),c.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})}))),i.then(()=>e()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s})};function gt(n){"@babel/helpers - typeof";return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(n)}var gr=Uint8Array,or=Uint16Array,aa=Uint32Array,go=new gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),vo=new gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Il=new gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yu=function(n,e){for(var t=new or(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new aa(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},Ku=Yu(go,2),Xu=Ku[0],Tl=Ku[1];Xu[28]=258,Tl[258]=28;var Qu=Yu(vo,0),sf=Qu[0],Vc=Qu[1],Ol=new or(32768);for(var St=0;St<32768;++St){var Wn=(St&43690)>>>1|(St&21845)<<1;Wn=(Wn&52428)>>>2|(Wn&13107)<<2,Wn=(Wn&61680)>>>4|(Wn&3855)<<4,Ol[St]=((Wn&65280)>>>8|(Wn&255)<<8)>>>1}var cn=function(n,e,t){for(var r=n.length,i=0,s=new or(e);i<r;++i)++s[n[i]-1];var l=new or(e);for(i=0;i<e;++i)l[i]=l[i-1]+s[i-1]<<1;var u;if(t){u=new or(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var h=i<<4|n[i],p=e-n[i],v=l[n[i]-1]++<<p,b=v|(1<<p)-1;v<=b;++v)u[Ol[v]>>>c]=h}else for(u=new or(r),i=0;i<r;++i)u[i]=Ol[l[n[i]-1]++]>>>15-n[i];return u},ts=new gr(288);for(var St=0;St<144;++St)ts[St]=8;for(var St=144;St<256;++St)ts[St]=9;for(var St=256;St<280;++St)ts[St]=7;for(var St=280;St<288;++St)ts[St]=8;var oa=new gr(32);for(var St=0;St<32;++St)oa[St]=5;var af=cn(ts,9,0),of=cn(ts,9,1),lf=cn(oa,5,0),cf=cn(oa,5,1),gl=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Wr=function(n,e,t){var r=e/8>>0;return(n[r]|n[r+1]<<8)>>>(e&7)&t},vl=function(n,e){var t=e/8>>0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>>(e&7)},ec=function(n){return(n/8>>0)+(n&7&&1)},Zu=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof or?or:n instanceof aa?aa:gr)(t-e);return r.set(n.subarray(e,t)),r},uf=function(n,e,t){var r=n.length,i=!e||t,s=!t||t.i;t||(t={}),e||(e=new gr(r*3));var l=function(ee){var ce=e.length;if(ee>ce){var ue=new gr(Math.max(ce*2,ee));ue.set(e),e=ue}},u=t.f||0,c=t.p||0,h=t.b||0,p=t.l,v=t.d,b=t.m,m=t.n,_=r*8;do{if(!p){t.f=u=Wr(n,c,1);var N=Wr(n,c+1,3);if(c+=3,N)if(N==1)p=of,v=cf,b=9,m=5;else if(N==2){var S=Wr(n,c,31)+257,F=Wr(n,c+10,15)+4,H=S+Wr(n,c+5,31)+1;c+=14;for(var $=new gr(H),R=new gr(19),I=0;I<F;++I)R[Il[I]]=Wr(n,c+I*3,7);c+=F*3;var K=gl(R),J=(1<<K)-1;if(!s&&c+H*(K+7)>_)break;for(var C=cn(R,K,1),I=0;I<H;){var A=C[Wr(n,c,J)];c+=A&15;var j=A>>>4;if(j<16)$[I++]=j;else{var B=0,U=0;for(j==16?(U=3+Wr(n,c,3),c+=2,B=$[I-1]):j==17?(U=3+Wr(n,c,7),c+=3):j==18&&(U=11+Wr(n,c,127),c+=7);U--;)$[I++]=B}}var oe=$.subarray(0,S),V=$.subarray(S);b=gl(oe),m=gl(V),p=cn(oe,b,1),v=cn(V,m,1)}else throw"invalid block type";else{var j=ec(c)+4,x=n[j-4]|n[j-3]<<8,w=j+x;if(w>r){if(s)throw"unexpected EOF";break}i&&l(h+x),e.set(n.subarray(j,w),h),t.b=h+=x,t.p=c=w*8;continue}if(c>_)throw"unexpected EOF"}i&&l(h+131072);for(var W=(1<<b)-1,X=(1<<m)-1,Q=b+m+18;s||c+Q<_;){var B=p[vl(n,c)&W],ie=B>>>4;if(c+=B&15,c>_)throw"unexpected EOF";if(!B)throw"invalid length/literal";if(ie<256)e[h++]=ie;else if(ie==256){p=null;break}else{var pe=ie-254;if(ie>264){var I=ie-257,k=go[I];pe=Wr(n,c,(1<<k)-1)+Xu[I],c+=k}var M=v[vl(n,c)&X],z=M>>>4;if(!M)throw"invalid distance";c+=M&15;var V=sf[z];if(z>3){var k=vo[z];V+=vl(n,c)&(1<<k)-1,c+=k}if(c>_)throw"unexpected EOF";i&&l(h+131072);for(var Y=h+pe;h<Y;h+=4)e[h]=e[h-V],e[h+1]=e[h+1-V],e[h+2]=e[h+2-V],e[h+3]=e[h+3-V];h=Y}}t.l=p,t.p=c,t.b=h,p&&(u=1,t.m=b,t.d=v,t.n=m)}while(!u);return h==e.length?e:Zu(e,0,h)},_n=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8},Gi=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},bl=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return[new gr(0),0];if(i==1){var l=new gr(t[0].s+1);return l[t[0].s]=1,[l,1]}t.sort(function(H,$){return H.f-$.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],h=0,p=1,v=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};p!=i-1;)u=t[t[h].f<t[v].f?h++:v++],c=t[h!=p&&t[h].f<t[v].f?h++:v++],t[p++]={s:-1,f:u.f+c.f,l:u,r:c};for(var b=s[0].s,r=1;r<i;++r)s[r].s>b&&(b=s[r].s);var m=new or(b+1),_=Fl(t[p-1],m,0);if(_>e){var r=0,N=0,j=_-e,x=1<<j;for(s.sort(function($,R){return m[R.s]-m[$.s]||$.f-R.f});r<i;++r){var w=s[r].s;if(m[w]>e)N+=x-(1<<_-m[w]),m[w]=e;else break}for(N>>>=j;N>0;){var S=s[r].s;m[S]<e?N-=1<<e-m[S]++-1:++r}for(;r>=0&&N;--r){var F=s[r].s;m[F]==e&&(--m[F],++N)}_=e}return[new gr(m),_]},Fl=function(n,e,t){return n.s==-1?Math.max(Fl(n.l,e,t+1),Fl(n.r,e,t+1)):e[n.s]=t},Gc=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new or(++e),r=0,i=n[0],s=1,l=function(c){t[r++]=c},u=1;u<=e;++u)if(n[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=n[u]}return[t.subarray(0,r),e]},Ji=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Rl=function(n,e,t){var r=t.length,i=ec(e+2);n[i]=r&255,n[i+1]=r>>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},Jc=function(n,e,t,r,i,s,l,u,c,h,p){_n(e,p++,t),++i[256];for(var v=bl(i,15),b=v[0],m=v[1],_=bl(s,15),N=_[0],j=_[1],x=Gc(b),w=x[0],S=x[1],F=Gc(N),H=F[0],$=F[1],R=new or(19),I=0;I<w.length;++I)R[w[I]&31]++;for(var I=0;I<H.length;++I)R[H[I]&31]++;for(var K=bl(R,7),J=K[0],C=K[1],A=19;A>4&&!J[Il[A-1]];--A);var B=h+5<<3,U=Ji(i,ts)+Ji(s,oa)+l,oe=Ji(i,b)+Ji(s,N)+l+14+3*A+Ji(R,J)+(2*R[16]+3*R[17]+7*R[18]);if(B<=U&&B<=oe)return Rl(e,p,n.subarray(c,c+h));var V,W,X,Q;if(_n(e,p,1+(oe<U)),p+=2,oe<U){V=cn(b,m,0),W=b,X=cn(N,j,0),Q=N;var ie=cn(J,C,0);_n(e,p,S-257),_n(e,p+5,$-1),_n(e,p+10,A-4),p+=14;for(var I=0;I<A;++I)_n(e,p+3*I,J[Il[I]]);p+=3*A;for(var pe=[w,H],k=0;k<2;++k)for(var M=pe[k],I=0;I<M.length;++I){var z=M[I]&31;_n(e,p,ie[z]),p+=J[z],z>15&&(_n(e,p,M[I]>>>5&127),p+=M[I]>>>12)}}else V=af,W=ts,X=lf,Q=oa;for(var I=0;I<u;++I)if(r[I]>255){var z=r[I]>>>18&31;Gi(e,p,V[z+257]),p+=W[z+257],z>7&&(_n(e,p,r[I]>>>23&31),p+=go[z]);var Y=r[I]&31;Gi(e,p,X[Y]),p+=Q[Y],Y>3&&(Gi(e,p,r[I]>>>5&8191),p+=vo[Y])}else Gi(e,p,V[r[I]]),p+=W[r[I]];return Gi(e,p,V[256]),p+W[256]},df=new aa([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),hf=function(n,e,t,r,i,s){var l=n.length,u=new gr(r+l+5*(1+Math.floor(l/7e3))+i),c=u.subarray(r,u.length-i),h=0;if(!e||l<8)for(var p=0;p<=l;p+=65535){var v=p+65535;v<l?h=Rl(c,h,n.subarray(p,v)):(c[p]=s,h=Rl(c,h,n.subarray(p,l)))}else{for(var b=df[e-1],m=b>>>13,_=b&8191,N=(1<<t)-1,j=new or(32768),x=new or(N+1),w=Math.ceil(t/3),S=2*w,F=function(He){return(n[He]^n[He+1]<<w^n[He+2]<<S)&N},H=new aa(25e3),$=new or(288),R=new or(32),I=0,K=0,p=0,J=0,C=0,A=0;p<l;++p){var B=F(p),U=p&32767,oe=x[B];if(j[U]=oe,x[B]=U,C<=p){var V=l-p;if((I>7e3||J>24576)&&V>423){h=Jc(n,c,0,H,$,R,K,J,A,p-A,h),J=I=K=0,A=p;for(var W=0;W<286;++W)$[W]=0;for(var W=0;W<30;++W)R[W]=0}var X=2,Q=0,ie=_,pe=U-oe&32767;if(V>2&&B==F(p-pe))for(var k=Math.min(m,V)-1,M=Math.min(32767,p),z=Math.min(258,V);pe<=M&&--ie&&U!=oe;){if(n[p+X]==n[p+X-pe]){for(var Y=0;Y<z&&n[p+Y]==n[p+Y-pe];++Y);if(Y>X){if(X=Y,Q=pe,Y>k)break;for(var ee=Math.min(pe,Y-2),ce=0,W=0;W<ee;++W){var ue=p-pe+W+32768&32767,fe=j[ue],Ae=ue-fe+32768&32767;Ae>ce&&(ce=Ae,oe=ue)}}}U=oe,oe=j[U],pe+=U-oe+32768&32767}if(Q){H[J++]=268435456|Tl[X]<<18|Vc[Q];var _e=Tl[X]&31,Ee=Vc[Q]&31;K+=go[_e]+vo[Ee],++$[257+_e],++R[Ee],C=p+X,++I}else H[J++]=n[p],++$[n[p]]}}h=Jc(n,c,s,H,$,R,K,J,A,p-A,h)}return Zu(u,0,r+ec(h)+i)},ff=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length,l=0;l!=s;){for(var u=Math.min(l+5552,s);l<u;++l)r+=t[l],i+=r;r%=65521,i%=65521}n=r,e=i},d:function(){return(n>>>8<<16|(e&255)<<8|e>>>8)+((n&255)<<23)*2}}},pf=function(n,e,t,r,i){return hf(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,r,!i)},mf=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},gf=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)},vf=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Dl(n,e){e===void 0&&(e={});var t=ff();t.p(n);var r=pf(n,e,2,4);return gf(r,e),mf(r,r.length-4,t.d()),r}function bf(n,e){return uf((vf(n),n.subarray(2,-4)),e)}var We=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function xl(){We.console&&typeof We.console.log=="function"&&We.console.log.apply(We.console,arguments)}var wt={log:xl,warn:function(n){We.console&&(typeof We.console.warn=="function"?We.console.warn.apply(We.console,arguments):xl.call(null,arguments))},error:function(n){We.console&&(typeof We.console.error=="function"?We.console.error.apply(We.console,arguments):xl(n))}};function yl(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ms(r.response,e,t)},r.onerror=function(){wt.error("could not download file")},r.send()}function Yc(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Za(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Qi,Ml,ms=We.saveAs||((typeof window>"u"?"undefined":gt(window))!=="object"||window!==We?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=We.URL||We.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?Yc(i.href)?yl(n,e,t):Za(i,i.target="_blank"):Za(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Za(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Yc(n))yl(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Za(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:gt(s)!=="object"&&(wt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return yl(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(We.HTMLElement)||We.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":gt(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},u.readAsDataURL(n)}else{var c=We.URL||We.webkitURL,h=c.createObjectURL(n);r?r.location=h:location.href=h,r=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ed(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,l=i.exec(n);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+u+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function wl(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=rr(t,r,i,s,e[0],7,-680876936),s=rr(s,t,r,i,e[1],12,-389564586),i=rr(i,s,t,r,e[2],17,606105819),r=rr(r,i,s,t,e[3],22,-1044525330),t=rr(t,r,i,s,e[4],7,-176418897),s=rr(s,t,r,i,e[5],12,1200080426),i=rr(i,s,t,r,e[6],17,-1473231341),r=rr(r,i,s,t,e[7],22,-45705983),t=rr(t,r,i,s,e[8],7,1770035416),s=rr(s,t,r,i,e[9],12,-1958414417),i=rr(i,s,t,r,e[10],17,-42063),r=rr(r,i,s,t,e[11],22,-1990404162),t=rr(t,r,i,s,e[12],7,1804603682),s=rr(s,t,r,i,e[13],12,-40341101),i=rr(i,s,t,r,e[14],17,-1502002290),t=nr(t,r=rr(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=nr(s,t,r,i,e[6],9,-1069501632),i=nr(i,s,t,r,e[11],14,643717713),r=nr(r,i,s,t,e[0],20,-373897302),t=nr(t,r,i,s,e[5],5,-701558691),s=nr(s,t,r,i,e[10],9,38016083),i=nr(i,s,t,r,e[15],14,-660478335),r=nr(r,i,s,t,e[4],20,-405537848),t=nr(t,r,i,s,e[9],5,568446438),s=nr(s,t,r,i,e[14],9,-1019803690),i=nr(i,s,t,r,e[3],14,-187363961),r=nr(r,i,s,t,e[8],20,1163531501),t=nr(t,r,i,s,e[13],5,-1444681467),s=nr(s,t,r,i,e[2],9,-51403784),i=nr(i,s,t,r,e[7],14,1735328473),t=sr(t,r=nr(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=sr(s,t,r,i,e[8],11,-2022574463),i=sr(i,s,t,r,e[11],16,1839030562),r=sr(r,i,s,t,e[14],23,-35309556),t=sr(t,r,i,s,e[1],4,-1530992060),s=sr(s,t,r,i,e[4],11,1272893353),i=sr(i,s,t,r,e[7],16,-155497632),r=sr(r,i,s,t,e[10],23,-1094730640),t=sr(t,r,i,s,e[13],4,681279174),s=sr(s,t,r,i,e[0],11,-358537222),i=sr(i,s,t,r,e[3],16,-722521979),r=sr(r,i,s,t,e[6],23,76029189),t=sr(t,r,i,s,e[9],4,-640364487),s=sr(s,t,r,i,e[12],11,-421815835),i=sr(i,s,t,r,e[15],16,530742520),t=ir(t,r=sr(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ir(s,t,r,i,e[7],10,1126891415),i=ir(i,s,t,r,e[14],15,-1416354905),r=ir(r,i,s,t,e[5],21,-57434055),t=ir(t,r,i,s,e[12],6,1700485571),s=ir(s,t,r,i,e[3],10,-1894986606),i=ir(i,s,t,r,e[10],15,-1051523),r=ir(r,i,s,t,e[1],21,-2054922799),t=ir(t,r,i,s,e[8],6,1873313359),s=ir(s,t,r,i,e[15],10,-30611744),i=ir(i,s,t,r,e[6],15,-1560198380),r=ir(r,i,s,t,e[13],21,1309151649),t=ir(t,r,i,s,e[4],6,-145523070),s=ir(s,t,r,i,e[11],10,-1120210379),i=ir(i,s,t,r,e[2],15,718787259),r=ir(r,i,s,t,e[9],21,-343485551),n[0]=Qn(t,n[0]),n[1]=Qn(r,n[1]),n[2]=Qn(i,n[2]),n[3]=Qn(s,n[3])}function bo(n,e,t,r,i,s){return e=Qn(Qn(e,n),Qn(r,s)),Qn(e<<i|e>>>32-i,t)}function rr(n,e,t,r,i,s,l){return bo(e&t|~e&r,n,e,i,s,l)}function nr(n,e,t,r,i,s,l){return bo(e&r|t&~r,n,e,i,s,l)}function sr(n,e,t,r,i,s,l){return bo(e^t^r,n,e,i,s,l)}function ir(n,e,t,r,i,s,l){return bo(t^(e|~r),n,e,i,s,l)}function td(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)wl(r,xf(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(wl(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,wl(r,i),r}function xf(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Qi=We.atob.bind(We),Ml=We.btoa.bind(We);var Kc="0123456789abcdef".split("");function yf(n){for(var e="",t=0;t<4;t++)e+=Kc[n>>8*t+4&15]+Kc[n>>8*t&15];return e}function wf(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Bl(n){return td(n).map(wf).join("")}var Nf=function(n){for(var e=0;e<n.length;e++)n[e]=yf(n[e]);return n.join("")}(td("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qn(n,e){if(Nf){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ql(n,e){var t,r,i,s;if(n!==t){for(var l=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),u=[],c=0;c<256;c++)u[c]=c;var h=0;for(c=0;c<256;c++){var p=u[c];h=(h+p+l.charCodeAt(c))%256,u[c]=u[h],u[h]=p}t=n,r=u}else u=r;var v=e.length,b=0,m=0,_="";for(c=0;c<v;c++)m=(m+(p=u[b=(b+1)%256]))%256,u[b]=u[m],u[m]=p,l=u[(u[b]+u[m])%256],_+=String.fromCharCode(e.charCodeAt(c)^l);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Xc={print:4,modify:8,copy:16,"annot-forms":32};function oi(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(Xc.perm!==void 0)throw new Error("Invalid permission: "+u);i+=Xc[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=Bl(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ql(this.encryptionKey,this.padding)}function li(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function Qc(n){if(gt(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var l=e[t][s];try{l[0].apply(n,r)}catch(u){We.console&&wt.error("jsPDF PubSub Error",u.message,u)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function la(n){if(!(this instanceof la))return new la(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function rd(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Kn(n,e,t,r,i){if(!(this instanceof Kn))return new Kn(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,rd.call(this,r,i)}function bs(n,e,t,r,i){if(!(this instanceof bs))return new bs(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,rd.call(this,r,i)}function Ue(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],l=[],u=1,c=16,h="S",p=null;gt(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),h=n.defaultPathOperation||"S"),l=n.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=Qc;var _="1.3",N=m.__private__.getPdfVersion=function(){return _};m.__private__.setPdfVersion=function(f){_=f};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return j};var x=m.__private__.getPageFormat=function(f){return j[f]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},S=w.COMPAT;function F(){this.saveGraphicsState(),Z(new $e(Te,0,0,-Te,0,In()*Te).toString()+" cm"),this.setFontSize(this.getFontSize()/Te),h="n",S=w.ADVANCED}function H(){this.restoreGraphicsState(),h="S",S=w.COMPAT}var $=m.__private__.combineFontStyleAndFontWeight=function(f,P){if(f=="bold"&&P=="normal"||f=="bold"&&P==400||f=="normal"&&P=="italic"||f=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(f=P==400||P==="normal"?f==="italic"?"italic":"normal":P!=700&&P!=="bold"||f!=="normal"?(P==700?"bold":P)+""+f:"bold"),f};m.advancedAPI=function(f){var P=S===w.COMPAT;return P&&F.call(this),typeof f!="function"||(f(this),P&&H.call(this)),this},m.compatAPI=function(f){var P=S===w.ADVANCED;return P&&H.call(this),typeof f!="function"||(f(this),P&&F.call(this)),this},m.isAdvancedAPI=function(){return S===w.ADVANCED};var R,I=function(f){if(S!==w.ADVANCED)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=m.roundToPrecision=m.__private__.roundToPrecision=function(f,P){var G=e||P;if(isNaN(f)||isNaN(G))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(G).replace(/0+$/,"")};R=m.hpf=m.__private__.hpf=typeof c=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return K(f,c)}:c==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return K(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return K(f,16)};var J=m.f2=m.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return K(f,2)},C=m.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return K(f,3)},A=m.scale=m.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return S===w.COMPAT?f*Te:S===w.ADVANCED?f:void 0},B=function(f){return S===w.COMPAT?In()-f:S===w.ADVANCED?f:void 0},U=function(f){return A(B(f))};m.__private__.setPrecision=m.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var oe,V="00000000000000000000000000000000",W=m.__private__.getFileId=function(){return V},X=m.__private__.setFileId=function(f){return V=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(er=new oi(p.userPermissions,p.userPassword,p.ownerPassword,V)),V};m.setFileId=function(f){return X(f),this},m.getFileId=function(){return W()};var Q=m.__private__.convertDateToPDFDate=function(f){var P=f.getTimezoneOffset(),G=P<0?"+":"-",te=Math.floor(Math.abs(P/60)),le=Math.abs(P%60),ge=[G,z(te),"'",z(le),"'"].join("");return["D:",f.getFullYear(),z(f.getMonth()+1),z(f.getDate()),z(f.getHours()),z(f.getMinutes()),z(f.getSeconds()),ge].join("")},ie=m.__private__.convertPDFDateToDate=function(f){var P=parseInt(f.substr(2,4),10),G=parseInt(f.substr(6,2),10)-1,te=parseInt(f.substr(8,2),10),le=parseInt(f.substr(10,2),10),ge=parseInt(f.substr(12,2),10),je=parseInt(f.substr(14,2),10);return new Date(P,G,te,le,ge,je,0)},pe=m.__private__.setCreationDate=function(f){var P;if(f===void 0&&(f=new Date),f instanceof Date)P=Q(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=f}return oe=P},k=m.__private__.getCreationDate=function(f){var P=oe;return f==="jsDate"&&(P=ie(oe)),P};m.setCreationDate=function(f){return pe(f),this},m.getCreationDate=function(f){return k(f)};var M,z=m.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},Y=m.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},ee=0,ce=[],ue=[],fe=0,Ae=[],_e=[],Ee=!1,Re=ue,He=function(){ee=0,fe=0,ue=[],ce=[],Ae=[],hn=Mt(),Tr=Mt()};m.__private__.setCustomOutputDestination=function(f){Ee=!0,Re=f};var ve=function(f){Ee||(Re=f)};m.__private__.resetCustomOutputDestination=function(){Ee=!1,Re=ue};var Z=m.__private__.out=function(f){return f=f.toString(),fe+=f.length+1,Re.push(f),Re},Xe=m.__private__.write=function(f){return Z(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},Me=m.__private__.getArrayBuffer=function(f){for(var P=f.length,G=new ArrayBuffer(P),te=new Uint8Array(G);P--;)te[P]=f.charCodeAt(P);return G},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Se};var ke=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(f){return ke=S===w.ADVANCED?f/Te:f,this};var Ie,Ce=m.__private__.getFontSize=m.getFontSize=function(){return S===w.COMPAT?ke:ke*Te},Be=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(f){return Be=f,this},m.__private__.getR2L=m.getR2L=function(){return Be};var Je,et=m.__private__.setZoomMode=function(f){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))Ie=f;else if(isNaN(f)){if(P.indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');Ie=f}else Ie=parseInt(f,10)};m.__private__.getZoomMode=function(){return Ie};var nt,lt=m.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');Je=f};m.__private__.getPageMode=function(){return Je};var vt=m.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');nt=f};m.__private__.getLayoutMode=function(){return nt},m.__private__.setDisplayMode=m.setDisplayMode=function(f,P,G){return et(f),vt(P),lt(G),this};var Ve={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(f){if(Object.keys(Ve).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ve[f]},m.__private__.getDocumentProperties=function(){return Ve},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(f){for(var P in Ve)Ve.hasOwnProperty(P)&&f[P]&&(Ve[P]=f[P]);return this},m.__private__.setDocumentProperty=function(f,P){if(Object.keys(Ve).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ve[f]=P};var st,Te,Zt,ut,Cr,xt={},At={},Xr=[],ht={},ss={},Lt={},Er={},dn=null,Pt=0,Ye=[],ft=new Qc(m),is=n.hotfixes||[],Xt={},Qr={},Zr=[],$e=function f(P,G,te,le,ge,je){if(!(this instanceof f))return new f(P,G,te,le,ge,je);isNaN(P)&&(P=1),isNaN(G)&&(G=0),isNaN(te)&&(te=0),isNaN(le)&&(le=1),isNaN(ge)&&(ge=0),isNaN(je)&&(je=0),this._matrix=[P,G,te,le,ge,je]};Object.defineProperty($e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty($e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty($e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty($e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty($e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty($e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty($e.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty($e.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty($e.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty($e.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty($e.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty($e.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty($e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($e.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$e.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(f)},$e.prototype.multiply=function(f){var P=f.sx*this.sx+f.shy*this.shx,G=f.sx*this.shy+f.shy*this.sy,te=f.shx*this.sx+f.sy*this.shx,le=f.shx*this.shy+f.sy*this.sy,ge=f.tx*this.sx+f.ty*this.shx+this.tx,je=f.tx*this.shy+f.ty*this.sy+this.ty;return new $e(P,G,te,le,ge,je)},$e.prototype.decompose=function(){var f=this.sx,P=this.shy,G=this.shx,te=this.sy,le=this.tx,ge=this.ty,je=Math.sqrt(f*f+P*P),Oe=(f/=je)*G+(P/=je)*te;G-=f*Oe,te-=P*Oe;var qe=Math.sqrt(G*G+te*te);return Oe/=qe,f*(te/=qe)<P*(G/=qe)&&(f=-f,P=-P,Oe=-Oe,je=-je),{scale:new $e(je,0,0,qe,0,0),translate:new $e(1,0,0,1,le,ge),rotate:new $e(f,P,-P,f,0,0),skew:new $e(1,0,Oe,1,0,0)}},$e.prototype.toString=function(f){return this.join(" ")},$e.prototype.inversed=function(){var f=this.sx,P=this.shy,G=this.shx,te=this.sy,le=this.tx,ge=this.ty,je=1/(f*te-P*G),Oe=te*je,qe=-P*je,Qe=-G*je,tt=f*je;return new $e(Oe,qe,Qe,tt,-Oe*le-Qe*ge,-qe*le-tt*ge)},$e.prototype.applyToPoint=function(f){var P=f.x*this.sx+f.y*this.shx+this.tx,G=f.x*this.shy+f.y*this.sy+this.ty;return new Us(P,G)},$e.prototype.applyToRectangle=function(f){var P=this.applyToPoint(f),G=this.applyToPoint(new Us(f.x+f.w,f.y+f.h));return new ki(P.x,P.y,G.x-P.x,G.y-P.y)},$e.prototype.clone=function(){var f=this.sx,P=this.shy,G=this.shx,te=this.sy,le=this.tx,ge=this.ty;return new $e(f,P,G,te,le,ge)},m.Matrix=$e;var Ir=m.matrixMult=function(f,P){return P.multiply(f)},en=new $e(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=en;var lr=function(f,P){if(!ss[f]){var G=(P instanceof Kn?"Sh":"P")+(Object.keys(ht).length+1).toString(10);P.id=G,ss[f]=G,ht[G]=P,ft.publish("addPattern",P)}};m.ShadingPattern=Kn,m.TilingPattern=bs,m.addShadingPattern=function(f,P){return I("addShadingPattern()"),lr(f,P),this},m.beginTilingPattern=function(f){I("beginTilingPattern()"),Ca(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},m.endTilingPattern=function(f,P){I("endTilingPattern()"),P.stream=_e[M].join(`
`),lr(f,P),ft.publish("endTilingPattern",P),Zr.pop().restore()};var Ht=m.__private__.newObject=function(){var f=Mt();return br(f,!0),f},Mt=m.__private__.newObjectDeferred=function(){return ee++,ce[ee]=function(){return fe},ee},br=function(f,P){return P=typeof P=="boolean"&&P,ce[f]=fe,P&&Z(f+" 0 obj"),f},Ls=m.__private__.newAdditionalObject=function(){var f={objId:Mt(),content:""};return Ae.push(f),f},hn=Mt(),Tr=Mt(),Or=m.__private__.decodeColorString=function(f){var P=f.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var G=parseFloat(P[0]);P=[G,G,G,"r"]}for(var te="#",le=0;le<3;le++)te+=("0"+Math.floor(255*parseFloat(P[le])).toString(16)).slice(-2);return te},Fr=m.__private__.encodeColorString=function(f){var P;typeof f=="string"&&(f={ch1:f});var G=f.ch1,te=f.ch2,le=f.ch3,ge=f.ch4,je=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof G=="string"&&G.charAt(0)!=="#"){var Oe=new ed(G);if(Oe.ok)G=Oe.toHex();else if(!/^\d*\.?\d*$/.test(G))throw new Error('Invalid color "'+G+'" passed to jsPDF.encodeColorString.')}if(typeof G=="string"&&/^#[0-9A-Fa-f]{3}$/.test(G)&&(G="#"+G[1]+G[1]+G[2]+G[2]+G[3]+G[3]),typeof G=="string"&&/^#[0-9A-Fa-f]{6}$/.test(G)){var qe=parseInt(G.substr(1),16);G=qe>>16&255,te=qe>>8&255,le=255&qe}if(te===void 0||ge===void 0&&G===te&&te===le)if(typeof G=="string")P=G+" "+je[0];else switch(f.precision){case 2:P=J(G/255)+" "+je[0];break;case 3:default:P=C(G/255)+" "+je[0]}else if(ge===void 0||gt(ge)==="object"){if(ge&&!isNaN(ge.a)&&ge.a===0)return P=["1.","1.","1.",je[1]].join(" ");if(typeof G=="string")P=[G,te,le,je[1]].join(" ");else switch(f.precision){case 2:P=[J(G/255),J(te/255),J(le/255),je[1]].join(" ");break;default:case 3:P=[C(G/255),C(te/255),C(le/255),je[1]].join(" ")}}else if(typeof G=="string")P=[G,te,le,ge,je[2]].join(" ");else switch(f.precision){case 2:P=[J(G),J(te),J(le),J(ge),je[2]].join(" ");break;case 3:default:P=[C(G),C(te),C(le),C(ge),je[2]].join(" ")}return P},tn=m.__private__.getFilters=function(){return l},_r=m.__private__.putStream=function(f){var P=(f=f||{}).data||"",G=f.filters||tn(),te=f.alreadyAppliedFilters||[],le=f.addLength1||!1,ge=P.length,je=f.objectId,Oe=function(tr){return tr};if(p!==null&&je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Oe=er.encryptor(je,0));var qe={};G===!0&&(G=["FlateEncode"]);var Qe=f.additionalKeyValues||[],tt=(qe=Ue.API.processDataByFilters!==void 0?Ue.API.processDataByFilters(P,G):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(qe.data.length!==0&&(Qe.push({key:"Length",value:qe.data.length}),le===!0&&Qe.push({key:"Length1",value:ge})),tt.length!=0)if(tt.split("/").length-1==1)Qe.push({key:"Filter",value:tt});else{Qe.push({key:"Filter",value:"["+tt+"]"});for(var ot=0;ot<Qe.length;ot+=1)if(Qe[ot].key==="DecodeParms"){for(var kt=[],Ct=0;Ct<qe.reverseChain.split("/").length-1;Ct+=1)kt.push("null");kt.push(Qe[ot].value),Qe[ot].value="["+kt.join(" ")+"]"}}Z("<<");for(var Bt=0;Bt<Qe.length;Bt++)Z("/"+Qe[Bt].key+" "+Qe[Bt].value);Z(">>"),qe.data.length!==0&&(Z("stream"),Z(Oe(qe.data)),Z("endstream"))},rn=m.__private__.putPage=function(f){var P=f.number,G=f.data,te=f.objId,le=f.contentsObjId;br(te,!0),Z("<</Type /Page"),Z("/Parent "+f.rootDictionaryObjId+" 0 R"),Z("/Resources "+f.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(R(f.mediaBox.bottomLeftX))+" "+parseFloat(R(f.mediaBox.bottomLeftY))+" "+R(f.mediaBox.topRightX)+" "+R(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&Z("/CropBox ["+R(f.cropBox.bottomLeftX)+" "+R(f.cropBox.bottomLeftY)+" "+R(f.cropBox.topRightX)+" "+R(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&Z("/BleedBox ["+R(f.bleedBox.bottomLeftX)+" "+R(f.bleedBox.bottomLeftY)+" "+R(f.bleedBox.topRightX)+" "+R(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&Z("/TrimBox ["+R(f.trimBox.bottomLeftX)+" "+R(f.trimBox.bottomLeftY)+" "+R(f.trimBox.topRightX)+" "+R(f.trimBox.topRightY)+"]"),f.artBox!==null&&Z("/ArtBox ["+R(f.artBox.bottomLeftX)+" "+R(f.artBox.bottomLeftY)+" "+R(f.artBox.topRightX)+" "+R(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&Z("/UserUnit "+f.userUnit),ft.publish("putPage",{objId:te,pageContext:Ye[P],pageNumber:P,page:G}),Z("/Contents "+le+" 0 R"),Z(">>"),Z("endobj");var ge=G.join(`
`);return S===w.ADVANCED&&(ge+=`
Q`),br(le,!0),_r({data:ge,filters:tn(),objectId:le}),Z("endobj"),te},as=m.__private__.putPages=function(){var f,P,G=[];for(f=1;f<=Pt;f++)Ye[f].objId=Mt(),Ye[f].contentsObjId=Mt();for(f=1;f<=Pt;f++)G.push(rn({number:f,data:_e[f],objId:Ye[f].objId,contentsObjId:Ye[f].contentsObjId,mediaBox:Ye[f].mediaBox,cropBox:Ye[f].cropBox,bleedBox:Ye[f].bleedBox,trimBox:Ye[f].trimBox,artBox:Ye[f].artBox,userUnit:Ye[f].userUnit,rootDictionaryObjId:hn,resourceDictionaryObjId:Tr}));br(hn,!0),Z("<</Type /Pages");var te="/Kids [";for(P=0;P<Pt;P++)te+=G[P]+" 0 R ";Z(te+"]"),Z("/Count "+Pt),Z(">>"),Z("endobj"),ft.publish("postPutPages")},Ps=function(f){ft.publish("putFont",{font:f,out:Z,newObject:Ht,putStream:_r}),f.isAlreadyPutted!==!0&&(f.objectNumber=Ht(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+li(f.postScriptName)),Z("/Subtype /Type1"),typeof f.encoding=="string"&&Z("/Encoding /"+f.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Cs=function(){for(var f in xt)xt.hasOwnProperty(f)&&(v===!1||v===!0&&b.hasOwnProperty(f))&&Ps(xt[f])},Es=function(f){f.objectNumber=Ht();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[R(f.x),R(f.y),R(f.x+f.width),R(f.y+f.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var G=f.pages[1].join(`
`);_r({data:G,additionalKeyValues:P,objectId:f.objectNumber}),Z("endobj")},Is=function(){for(var f in Xt)Xt.hasOwnProperty(f)&&Es(Xt[f])},ha=function(f,P){var G,te=[],le=1/(P-1);for(G=0;G<1;G+=le)te.push(G);if(te.push(1),f[0].offset!=0){var ge={offset:0,color:f[0].color};f.unshift(ge)}if(f[f.length-1].offset!=1){var je={offset:1,color:f[f.length-1].color};f.push(je)}for(var Oe="",qe=0,Qe=0;Qe<te.length;Qe++){for(G=te[Qe];G>f[qe+1].offset;)qe++;var tt=f[qe].offset,ot=(G-tt)/(f[qe+1].offset-tt),kt=f[qe].color,Ct=f[qe+1].color;Oe+=Y(Math.round((1-ot)*kt[0]+ot*Ct[0]).toString(16))+Y(Math.round((1-ot)*kt[1]+ot*Ct[1]).toString(16))+Y(Math.round((1-ot)*kt[2]+ot*Ct[2]).toString(16))}return Oe.trim()},Ao=function(f,P){P||(P=21);var G=Ht(),te=ha(f.colors,P),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+P+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_r({data:te,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:G}),Z("endobj"),f.objectNumber=Ht(),Z("<< /ShadingType "+f.type),Z("/ColorSpace /DeviceRGB");var ge="/Coords ["+R(parseFloat(f.coords[0]))+" "+R(parseFloat(f.coords[1]))+" ";f.type===2?ge+=R(parseFloat(f.coords[2]))+" "+R(parseFloat(f.coords[3])):ge+=R(parseFloat(f.coords[2]))+" "+R(parseFloat(f.coords[3]))+" "+R(parseFloat(f.coords[4]))+" "+R(parseFloat(f.coords[5])),Z(ge+="]"),f.matrix&&Z("/Matrix ["+f.matrix.toString()+"]"),Z("/Function "+G+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},ko=function(f,P){var G=Mt(),te=Ht();P.push({resourcesOid:G,objectOid:te}),f.objectNumber=te;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+f.boundingBox.map(R).join(" ")+"]"}),le.push({key:"XStep",value:R(f.xStep)}),le.push({key:"YStep",value:R(f.yStep)}),le.push({key:"Resources",value:G+" 0 R"}),f.matrix&&le.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),_r({data:f.stream,additionalKeyValues:le,objectId:f.objectNumber}),Z("endobj")},Ts=function(f){var P;for(P in ht)ht.hasOwnProperty(P)&&(ht[P]instanceof Kn?Ao(ht[P]):ht[P]instanceof bs&&ko(ht[P],f))},fa=function(f){for(var P in f.objectNumber=Ht(),Z("<<"),f)switch(P){case"opacity":Z("/ca "+J(f[P]));break;case"stroke-opacity":Z("/CA "+J(f[P]))}Z(">>"),Z("endobj")},Lo=function(){var f;for(f in Lt)Lt.hasOwnProperty(f)&&fa(Lt[f])},vi=function(){for(var f in Z("/XObject <<"),Xt)Xt.hasOwnProperty(f)&&Xt[f].objectNumber>=0&&Z("/"+f+" "+Xt[f].objectNumber+" 0 R");ft.publish("putXobjectDict"),Z(">>")},Po=function(){er.oid=Ht(),Z("<<"),Z("/Filter /Standard"),Z("/V "+er.v),Z("/R "+er.r),Z("/U <"+er.toHexString(er.U)+">"),Z("/O <"+er.toHexString(er.O)+">"),Z("/P "+er.P),Z(">>"),Z("endobj")},pa=function(){for(var f in Z("/Font <<"),xt)xt.hasOwnProperty(f)&&(v===!1||v===!0&&b.hasOwnProperty(f))&&Z("/"+f+" "+xt[f].objectNumber+" 0 R");Z(">>")},Co=function(){if(Object.keys(ht).length>0){for(var f in Z("/Shading <<"),ht)ht.hasOwnProperty(f)&&ht[f]instanceof Kn&&ht[f].objectNumber>=0&&Z("/"+f+" "+ht[f].objectNumber+" 0 R");ft.publish("putShadingPatternDict"),Z(">>")}},Os=function(f){if(Object.keys(ht).length>0){for(var P in Z("/Pattern <<"),ht)ht.hasOwnProperty(P)&&ht[P]instanceof m.TilingPattern&&ht[P].objectNumber>=0&&ht[P].objectNumber<f&&Z("/"+P+" "+ht[P].objectNumber+" 0 R");ft.publish("putTilingPatternDict"),Z(">>")}},Eo=function(){if(Object.keys(Lt).length>0){var f;for(f in Z("/ExtGState <<"),Lt)Lt.hasOwnProperty(f)&&Lt[f].objectNumber>=0&&Z("/"+f+" "+Lt[f].objectNumber+" 0 R");ft.publish("putGStateDict"),Z(">>")}},Tt=function(f){br(f.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),pa(),Co(),Os(f.objectOid),Eo(),vi(),Z(">>"),Z("endobj")},ma=function(){var f=[];Cs(),Lo(),Is(),Ts(f),ft.publish("putResources"),f.forEach(Tt),Tt({resourcesOid:Tr,objectOid:Number.MAX_SAFE_INTEGER}),ft.publish("postPutResources")},ga=function(){ft.publish("putAdditionalObjects");for(var f=0;f<Ae.length;f++){var P=Ae[f];br(P.objId,!0),Z(P.content),Z("endobj")}ft.publish("postPutAdditionalObjects")},va=function(f){At[f.fontName]=At[f.fontName]||{},At[f.fontName][f.fontStyle]=f.id},bi=function(f,P,G,te,le){var ge={id:"F"+(Object.keys(xt).length+1).toString(10),postScriptName:f,fontName:P,fontStyle:G,encoding:te,isStandardFont:le||!1,metadata:{}};return ft.publish("addFont",{font:ge,instance:this}),xt[ge.id]=ge,va(ge),ge.id},Io=function(f){for(var P=0,G=Se.length;P<G;P++){var te=bi.call(this,f[P][0],f[P][1],f[P][2],Se[P][3],!0);v===!1&&(b[te]=!0);var le=f[P][0].split("-");va({id:te,fontName:le[0],fontStyle:le[1]||""})}ft.publish("addFonts",{fonts:xt,dictionary:At})},Rr=function(f){return f.foo=function(){try{return f.apply(this,arguments)}catch(te){var P=te.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var G="Error in function "+P.split(`
`)[0].split("<")[0]+": "+te.message;if(!We.console)throw new Error(G);We.console.error(G,te),We.alert&&alert(G)}},f.foo.bar=f,f.foo},Fs=function(f,P){var G,te,le,ge,je,Oe,qe,Qe,tt;if(le=(P=P||{}).sourceEncoding||"Unicode",je=P.outputEncoding,(P.autoencode||je)&&xt[st].metadata&&xt[st].metadata[le]&&xt[st].metadata[le].encoding&&(ge=xt[st].metadata[le].encoding,!je&&xt[st].encoding&&(je=xt[st].encoding),!je&&ge.codePages&&(je=ge.codePages[0]),typeof je=="string"&&(je=ge[je]),je)){for(qe=!1,Oe=[],G=0,te=f.length;G<te;G++)(Qe=je[f.charCodeAt(G)])?Oe.push(String.fromCharCode(Qe)):Oe.push(f[G]),Oe[G].charCodeAt(0)>>8&&(qe=!0);f=Oe.join("")}for(G=f.length;qe===void 0&&G!==0;)f.charCodeAt(G-1)>>8&&(qe=!0),G--;if(!qe)return f;for(Oe=P.noBOM?[]:[254,255],G=0,te=f.length;G<te;G++){if((tt=(Qe=f.charCodeAt(G))>>8)>>8)throw new Error("Character at position "+G+" of string '"+f+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Oe.push(tt),Oe.push(Qe-(tt<<8))}return String.fromCharCode.apply(void 0,Oe)},cr=m.__private__.pdfEscape=m.pdfEscape=function(f,P){return Fs(f,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xi=m.__private__.beginPage=function(f){_e[++Pt]=[],Ye[Pt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},xa(Pt),ve(_e[M])},ba=function(f,P){var G,te,le;switch(t=P||t,typeof f=="string"&&(G=x(f.toLowerCase()),Array.isArray(G)&&(te=G[0],le=G[1])),Array.isArray(f)&&(te=f[0]*Te,le=f[1]*Te),isNaN(te)&&(te=i[0],le=i[1]),(te>14400||le>14400)&&(wt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),le=Math.min(14400,le)),i=[te,le],t.substr(0,1)){case"l":le>te&&(i=[le,te]);break;case"p":te>le&&(i=[le,te])}xi(i),Sa(ji),Z(Dr),Si!==0&&Z(Si+" J"),Ai!==0&&Z(Ai+" j"),ft.publish("addPage",{pageNumber:Pt})},To=function(f){f>0&&f<=Pt&&(_e.splice(f,1),Ye.splice(f,1),Pt--,M>Pt&&(M=Pt),this.setPage(M))},xa=function(f){f>0&&f<=Pt&&(M=f)},Oo=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return _e.length-1},ya=function(f,P,G){var te,le=void 0;return G=G||{},f=f!==void 0?f:xt[st].fontName,P=P!==void 0?P:xt[st].fontStyle,te=f.toLowerCase(),At[te]!==void 0&&At[te][P]!==void 0?le=At[te][P]:At[f]!==void 0&&At[f][P]!==void 0?le=At[f][P]:G.disableWarning===!1&&wt.warn("Unable to look up font label for font '"+f+"', '"+P+"'. Refer to getFontList() for available fonts."),le||G.noFallback||(le=At.times[P])==null&&(le=At.times.normal),le},Fo=m.__private__.putInfo=function(){var f=Ht(),P=function(te){return te};for(var G in p!==null&&(P=er.encryptor(f,0)),Z("<<"),Z("/Producer ("+cr(P("jsPDF "+Ue.version))+")"),Ve)Ve.hasOwnProperty(G)&&Ve[G]&&Z("/"+G.substr(0,1).toUpperCase()+G.substr(1)+" ("+cr(P(Ve[G]))+")");Z("/CreationDate ("+cr(P(oe))+")"),Z(">>"),Z("endobj")},yi=m.__private__.putCatalog=function(f){var P=(f=f||{}).rootDictionaryObjId||hn;switch(Ht(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+P+" 0 R"),Ie||(Ie="fullwidth"),Ie){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var G=""+Ie;G.substr(G.length-1)==="%"&&(Ie=parseInt(Ie)/100),typeof Ie=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+J(Ie)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Je&&Z("/PageMode /"+Je),ft.publish("putCatalog"),Z(">>"),Z("endobj")},Ro=m.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ee+1)),Z("/Root "+ee+" 0 R"),Z("/Info "+(ee-1)+" 0 R"),p!==null&&Z("/Encrypt "+er.oid+" 0 R"),Z("/ID [ <"+V+"> <"+V+"> ]"),Z(">>")},Do=m.__private__.putHeader=function(){Z("%PDF-"+_),Z("%ºß¬à")},Mo=m.__private__.putXRef=function(){var f="0000000000";Z("xref"),Z("0 "+(ee+1)),Z("0000000000 65535 f ");for(var P=1;P<=ee;P++)typeof ce[P]=="function"?Z((f+ce[P]()).slice(-10)+" 00000 n "):ce[P]!==void 0?Z((f+ce[P]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},fn=m.__private__.buildDocument=function(){He(),ve(ue),ft.publish("buildDocument"),Do(),as(),ga(),ma(),p!==null&&Po(),Fo(),yi();var f=fe;return Mo(),Ro(),Z("startxref"),Z(""+f),Z("%%EOF"),ve(_e[M]),ue.join(`
`)},Rs=m.__private__.getBlob=function(f){return new Blob([Me(f)],{type:"application/pdf"})},Ds=m.output=m.__private__.output=Rr(function(f,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",f){case void 0:return fn();case"save":m.save(P.filename);break;case"arraybuffer":return Me(fn());case"blob":return Rs(fn());case"bloburi":case"bloburl":if(We.URL!==void 0&&typeof We.URL.createObjectURL=="function")return We.URL&&We.URL.createObjectURL(Rs(fn()))||void 0;wt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var G="",te=fn();try{G=Ml(te)}catch{G=Ml(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+P.filename+";base64,"+G;case"pdfobjectnewwindow":if(Object.prototype.toString.call(We)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(le=P.pdfObjectUrl,ge="");var je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Oe=We.open();return Oe!==null&&Oe.document.write(je),Oe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(We)==="[object Window]"){var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Qe=We.open();if(Qe!==null){Qe.document.write(qe);var tt=this;Qe.document.documentElement.querySelector("#pdfViewer").onload=function(){Qe.document.title=P.filename,Qe.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tt.output("bloburl"))}}return Qe}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(We)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',kt=We.open();if(kt!==null&&(kt.document.write(ot),kt.document.title=P.filename),kt||typeof safari>"u")return kt;break;case"datauri":case"dataurl":return We.document.location.href=this.output("datauristring",P);default:return null}}),wa=function(f){return Array.isArray(is)===!0&&is.indexOf(f)>-1};switch(r){case"pt":Te=1;break;case"mm":Te=72/25.4;break;case"cm":Te=72/2.54;break;case"in":Te=72;break;case"px":Te=wa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Te=12;break;case"ex":Te=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Te=r}var er=null;pe(),X();var Bo=function(f){return p!==null?er.encryptor(f,0):function(P){return P}},Na=m.__private__.getPageInfo=m.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ye[f].objId,pageNumber:f,pageContext:Ye[f]}},Ge=m.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in Ye)if(Ye[P].objId===f)break;return Na(P)},qo=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ye[M].objId,pageNumber:M,pageContext:Ye[M]}};m.addPage=function(){return ba.apply(this,arguments),this},m.setPage=function(){return xa.apply(this,arguments),ve.call(this,_e[M]),this},m.insertPage=function(f){return this.addPage(),this.movePage(M,f),this},m.movePage=function(f,P){var G,te;if(f>P){G=_e[f],te=Ye[f];for(var le=f;le>P;le--)_e[le]=_e[le-1],Ye[le]=Ye[le-1];_e[P]=G,Ye[P]=te,this.setPage(P)}else if(f<P){G=_e[f],te=Ye[f];for(var ge=f;ge<P;ge++)_e[ge]=_e[ge+1],Ye[ge]=Ye[ge+1];_e[P]=G,Ye[P]=te,this.setPage(P)}return this},m.deletePage=function(){return To.apply(this,arguments),this},m.__private__.text=m.text=function(f,P,G,te,le){var ge,je,Oe,qe,Qe,tt,ot,kt,Ct,Bt=(te=te||{}).scope||this;if(typeof f=="number"&&typeof P=="number"&&(typeof G=="string"||Array.isArray(G))){var tr=G;G=P,P=f,f=tr}if(arguments[3]instanceof $e?(I("The transform parameter of text() with a Matrix value"),Ct=le):(Oe=arguments[4],qe=arguments[5],gt(ot=arguments[3])==="object"&&ot!==null||(typeof Oe=="string"&&(qe=Oe,Oe=null),typeof ot=="string"&&(qe=ot,ot=null),typeof ot=="number"&&(Oe=ot,ot=null),te={flags:ot,angle:Oe,align:qe})),isNaN(P)||isNaN(G)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return Bt;var Gt="",Mr=!1,xr=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:ls,mn=Bt.internal.scaleFactor;function Ea(Nt){return Nt=Nt.split("	").join(Array(te.TabLen||9).join(" ")),cr(Nt,ot)}function Ei(Nt){for(var jt,Ot=Nt.concat(),Wt=[],xn=Ot.length;xn--;)typeof(jt=Ot.shift())=="string"?Wt.push(jt):Array.isArray(Nt)&&(jt.length===1||jt[1]===void 0&&jt[2]===void 0)?Wt.push(jt[0]):Wt.push([jt[0],jt[1],jt[2]]);return Wt}function Ii(Nt,jt){var Ot;if(typeof Nt=="string")Ot=jt(Nt)[0];else if(Array.isArray(Nt)){for(var Wt,xn,Dn=Nt.concat(),Xs=[],Ta=Dn.length;Ta--;)typeof(Wt=Dn.shift())=="string"?Xs.push(jt(Wt)[0]):Array.isArray(Wt)&&typeof Wt[0]=="string"&&(xn=jt(Wt[0],Wt[1],Wt[2]),Xs.push([xn[0],xn[1],xn[2]]));Ot=Xs}return Ot}var $s=!1,Ti=!0;if(typeof f=="string")$s=!0;else if(Array.isArray(f)){var Oi=f.concat();je=[];for(var Hs,ur=Oi.length;ur--;)(typeof(Hs=Oi.shift())!="string"||Array.isArray(Hs)&&typeof Hs[0]!="string")&&(Ti=!1);$s=Ti}if($s===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var Ws=ke/Bt.internal.scaleFactor,Vs=Ws*(xr-1);switch(te.baseline){case"bottom":G-=Vs;break;case"top":G+=Ws-Vs;break;case"hanging":G+=Ws-2*Vs;break;case"middle":G+=Ws/2-Vs}if((tt=te.maxWidth||0)>0&&(typeof f=="string"?f=Bt.splitTextToSize(f,tt):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Nt,jt){return Nt.concat(Bt.splitTextToSize(jt,tt))},[]))),ge={text:f,x:P,y:G,options:te,mutex:{pdfEscape:cr,activeFontKey:st,fonts:xt,activeFontSize:ke}},ft.publish("preProcessText",ge),f=ge.text,Oe=(te=ge.options).angle,!(Ct instanceof $e)&&Oe&&typeof Oe=="number"){Oe*=Math.PI/180,te.rotationDirection===0&&(Oe=-Oe),S===w.ADVANCED&&(Oe=-Oe);var Gs=Math.cos(Oe),Fi=Math.sin(Oe);Ct=new $e(Gs,Fi,-Fi,Gs,0,0)}else Oe&&Oe instanceof $e&&(Ct=Oe);S!==w.ADVANCED||Ct||(Ct=en),(Qe=te.charSpace||qs)!==void 0&&(Gt+=R(A(Qe))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kt=te.horizontalScale)!==void 0&&(Gt+=R(100*kt)+` Tz
`),te.lang;var dr=-1,Ko=te.renderingMode!==void 0?te.renderingMode:te.stroke,Ri=Bt.internal.getCurrentPageInfo().pageContext;switch(Ko){case 0:case!1:case"fill":dr=0;break;case 1:case!0:case"stroke":dr=1;break;case 2:case"fillThenStroke":dr=2;break;case 3:case"invisible":dr=3;break;case 4:case"fillAndAddForClipping":dr=4;break;case 5:case"strokeAndAddPathForClipping":dr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":dr=6;break;case 7:case"addToPathForClipping":dr=7}var Ia=Ri.usedRenderingMode!==void 0?Ri.usedRenderingMode:-1;dr!==-1?Gt+=dr+` Tr
`:Ia!==-1&&(Gt+=`0 Tr
`),dr!==-1&&(Ri.usedRenderingMode=dr),qe=te.align||"left";var Br,Di=ke*xr,Xo=Bt.internal.pageSize.getWidth(),Qo=xt[st];Qe=te.charSpace||qs,tt=te.maxWidth||0,ot=Object.assign({autoencode:!0,noBOM:!0},te.flags);var Tn=[];if(Object.prototype.toString.call(f)==="[object Array]"){var Sr;je=Ei(f),qe!=="left"&&(Br=je.map(function(Nt){return Bt.getStringUnitWidth(Nt,{font:Qo,charSpace:Qe,fontSize:ke,doKerning:!1})*ke/mn}));var qr,On=0;if(qe==="right"){P-=Br[0],f=[],ur=je.length;for(var sn=0;sn<ur;sn++)sn===0?(qr=pn(P),Sr=Cn(G)):(qr=A(On-Br[sn]),Sr=-Di),f.push([je[sn],qr,Sr]),On=Br[sn]}else if(qe==="center"){P-=Br[0]/2,f=[],ur=je.length;for(var gn=0;gn<ur;gn++)gn===0?(qr=pn(P),Sr=Cn(G)):(qr=A((On-Br[gn])/2),Sr=-Di),f.push([je[gn],qr,Sr]),On=Br[gn]}else if(qe==="left"){f=[],ur=je.length;for(var Js=0;Js<ur;Js++)f.push(je[Js])}else{if(qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');f=[],ur=je.length,tt=tt!==0?tt:Xo;for(var Ur=0;Ur<ur;Ur++)Sr=Ur===0?Cn(G):-Di,qr=Ur===0?pn(P):0,Ur<ur-1?Tn.push(R(A((tt-Br[Ur])/(je[Ur].split(" ").length-1)))):Tn.push(0),f.push([je[Ur],qr,Sr])}}var Ys=typeof te.R2L=="boolean"?te.R2L:Be;Ys===!0&&(f=Ii(f,function(Nt,jt,Ot){return[Nt.split("").reverse().join(""),jt,Ot]})),ge={text:f,x:P,y:G,options:te,mutex:{pdfEscape:cr,activeFontKey:st,fonts:xt,activeFontSize:ke}},ft.publish("postProcessText",ge),f=ge.text,Mr=ge.mutex.isHex||!1;var Mi=xt[st].encoding;Mi!=="WinAnsiEncoding"&&Mi!=="StandardEncoding"||(f=Ii(f,function(Nt,jt,Ot){return[Ea(Nt),jt,Ot]})),je=Ei(f),f=[];for(var Fn,zr,vn,ds=0,Ks=1,hs=Array.isArray(je[0])?Ks:ds,Rn="",Bi=function(Nt,jt,Ot){var Wt="";return Ot instanceof $e?(Ot=typeof te.angle=="number"?Ir(Ot,new $e(1,0,0,1,Nt,jt)):Ir(new $e(1,0,0,1,Nt,jt),Ot),S===w.ADVANCED&&(Ot=Ir(new $e(1,0,0,-1,0,0),Ot)),Wt=Ot.join(" ")+` Tm
`):Wt=R(Nt)+" "+R(jt)+` Td
`,Wt},Ar=0;Ar<je.length;Ar++){switch(Rn="",hs){case Ks:vn=(Mr?"<":"(")+je[Ar][0]+(Mr?">":")"),Fn=parseFloat(je[Ar][1]),zr=parseFloat(je[Ar][2]);break;case ds:vn=(Mr?"<":"(")+je[Ar]+(Mr?">":")"),Fn=pn(P),zr=Cn(G)}Tn!==void 0&&Tn[Ar]!==void 0&&(Rn=Tn[Ar]+` Tw
`),Ar===0?f.push(Rn+Bi(Fn,zr,Ct)+vn):hs===ds?f.push(Rn+vn):hs===Ks&&f.push(Rn+Bi(Fn,zr,Ct)+vn)}f=hs===ds?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var bn=`BT
/`;return bn+=st+" "+ke+` Tf
`,bn+=R(ke*xr)+` TL
`,bn+=cs+`
`,bn+=Gt,bn+=f,Z(bn+="ET"),b[st]=!0,Bt};var Uo=m.__private__.clip=m.clip=function(f){return Z(f==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Uo("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Z("n"),this};var nn=m.__private__.isValidStyle=function(f){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(P=!0),P};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(f){return nn(f)&&(h=f),this};var ja=m.__private__.getStyle=m.getStyle=function(f){var P=h;switch(f){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=f}return P},_a=m.close=function(){return Z("h"),this};m.stroke=function(){return Z("S"),this},m.fill=function(f){return Ms("f",f),this},m.fillEvenOdd=function(f){return Ms("f*",f),this},m.fillStroke=function(f){return Ms("B",f),this},m.fillStrokeEvenOdd=function(f){return Ms("B*",f),this};var Ms=function(f,P){gt(P)==="object"?$o(P,f):Z(f)},wi=function(f){f===null||S===w.ADVANCED&&f===void 0||(f=ja(f),Z(f))};function zo(f,P,G,te,le){var ge=new bs(P||this.boundingBox,G||this.xStep,te||this.yStep,this.gState,le||this.matrix);ge.stream=this.stream;var je=f+"$$"+this.cloneIndex+++"$$";return lr(je,ge),ge}var $o=function(f,P){var G=ss[f.key],te=ht[G];if(te instanceof Kn)Z("q"),Z(Ho(P)),te.gState&&m.setGState(te.gState),Z(f.matrix.toString()+" cm"),Z("/"+G+" sh"),Z("Q");else if(te instanceof bs){var le=new $e(1,0,0,-1,0,In());f.matrix&&(le=le.multiply(f.matrix||en),G=zo.call(te,f.key,f.boundingBox,f.xStep,f.yStep,le).id),Z("q"),Z("/Pattern cs"),Z("/"+G+" scn"),te.gState&&m.setGState(te.gState),Z(P),Z("Q")}},Ho=function(f){switch(f){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ni=m.moveTo=function(f,P){return Z(R(A(f))+" "+R(U(P))+" m"),this},os=m.lineTo=function(f,P){return Z(R(A(f))+" "+R(U(P))+" l"),this},Pn=m.curveTo=function(f,P,G,te,le,ge){return Z([R(A(f)),R(U(P)),R(A(G)),R(U(te)),R(A(le)),R(U(ge)),"c"].join(" ")),this};m.__private__.line=m.line=function(f,P,G,te,le){if(isNaN(f)||isNaN(P)||isNaN(G)||isNaN(te)||!nn(le))throw new Error("Invalid arguments passed to jsPDF.line");return S===w.COMPAT?this.lines([[G-f,te-P]],f,P,[1,1],le||"S"):this.lines([[G-f,te-P]],f,P,[1,1]).stroke()},m.__private__.lines=m.lines=function(f,P,G,te,le,ge){var je,Oe,qe,Qe,tt,ot,kt,Ct,Bt,tr,Gt,Mr;if(typeof f=="number"&&(Mr=G,G=P,P=f,f=Mr),te=te||[1,1],ge=ge||!1,isNaN(P)||isNaN(G)||!Array.isArray(f)||!Array.isArray(te)||!nn(le)||typeof ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ni(P,G),je=te[0],Oe=te[1],Qe=f.length,tr=P,Gt=G,qe=0;qe<Qe;qe++)(tt=f[qe]).length===2?(tr=tt[0]*je+tr,Gt=tt[1]*Oe+Gt,os(tr,Gt)):(ot=tt[0]*je+tr,kt=tt[1]*Oe+Gt,Ct=tt[2]*je+tr,Bt=tt[3]*Oe+Gt,tr=tt[4]*je+tr,Gt=tt[5]*Oe+Gt,Pn(ot,kt,Ct,Bt,tr,Gt));return ge&&_a(),wi(le),this},m.path=function(f){for(var P=0;P<f.length;P++){var G=f[P],te=G.c;switch(G.op){case"m":Ni(te[0],te[1]);break;case"l":os(te[0],te[1]);break;case"c":Pn.apply(this,te);break;case"h":_a()}}return this},m.__private__.rect=m.rect=function(f,P,G,te,le){if(isNaN(f)||isNaN(P)||isNaN(G)||isNaN(te)||!nn(le))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w.COMPAT&&(te=-te),Z([R(A(f)),R(U(P)),R(A(G)),R(A(te)),"re"].join(" ")),wi(le),this},m.__private__.triangle=m.triangle=function(f,P,G,te,le,ge,je){if(isNaN(f)||isNaN(P)||isNaN(G)||isNaN(te)||isNaN(le)||isNaN(ge)||!nn(je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[G-f,te-P],[le-G,ge-te],[f-le,P-ge]],f,P,[1,1],je,!0),this},m.__private__.roundedRect=m.roundedRect=function(f,P,G,te,le,ge,je){if(isNaN(f)||isNaN(P)||isNaN(G)||isNaN(te)||isNaN(le)||isNaN(ge)||!nn(je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Oe=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*G),ge=Math.min(ge,.5*te),this.lines([[G-2*le,0],[le*Oe,0,le,ge-ge*Oe,le,ge],[0,te-2*ge],[0,ge*Oe,-le*Oe,ge,-le,ge],[2*le-G,0],[-le*Oe,0,-le,-ge*Oe,-le,-ge],[0,2*ge-te],[0,-ge*Oe,le*Oe,-ge,le,-ge]],f+le,P,[1,1],je,!0),this},m.__private__.ellipse=m.ellipse=function(f,P,G,te,le){if(isNaN(f)||isNaN(P)||isNaN(G)||isNaN(te)||!nn(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ge=4/3*(Math.SQRT2-1)*G,je=4/3*(Math.SQRT2-1)*te;return Ni(f+G,P),Pn(f+G,P-je,f+ge,P-te,f,P-te),Pn(f-ge,P-te,f-G,P-je,f-G,P),Pn(f-G,P+je,f-ge,P+te,f,P+te),Pn(f+ge,P+te,f+G,P+je,f+G,P),wi(le),this},m.__private__.circle=m.circle=function(f,P,G,te){if(isNaN(f)||isNaN(P)||isNaN(G)||!nn(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,P,G,G,te)},m.setFont=function(f,P,G){return G&&(P=$(P,G)),st=ya(f,P,{disableWarning:!1}),this};var Wo=m.__private__.getFont=m.getFont=function(){return xt[ya.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var f,P,G={};for(f in At)if(At.hasOwnProperty(f))for(P in G[f]=[],At[f])At[f].hasOwnProperty(P)&&G[f].push(P);return G},m.addFont=function(f,P,G,te,le){var ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ge.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&ge.indexOf(arguments[3])==-1&&(G=$(G,te)),le=le||"Identity-H",bi.call(this,f,P,G,le)};var ls,ji=n.lineWidth||.200025,Bs=m.__private__.getLineWidth=m.getLineWidth=function(){return ji},Sa=m.__private__.setLineWidth=m.setLineWidth=function(f){return ji=f,Z(R(A(f))+" w"),this};m.__private__.setLineDash=Ue.API.setLineDash=Ue.API.setLineDashPattern=function(f,P){if(f=f||[],P=P||0,isNaN(P)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(G){return R(A(G))}).join(" "),P=R(A(P)),Z("["+f+"] "+P+" d"),this};var Aa=m.__private__.getLineHeight=m.getLineHeight=function(){return ke*ls};m.__private__.getLineHeight=m.getLineHeight=function(){return ke*ls};var ka=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(ls=f),this},La=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return ls};ka(n.lineHeight);var pn=m.__private__.getHorizontalCoordinate=function(f){return A(f)},Cn=m.__private__.getVerticalCoordinate=function(f){return S===w.ADVANCED?f:Ye[M].mediaBox.topRightY-Ye[M].mediaBox.bottomLeftY-A(f)},Vo=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(f){return R(pn(f))},En=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(f){return R(Cn(f))},Dr=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Or(Dr)},m.__private__.setStrokeColor=m.setDrawColor=function(f,P,G,te){return Dr=Fr({ch1:f,ch2:P,ch3:G,ch4:te,pdfColorType:"draw",precision:2}),Z(Dr),this};var _i=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Or(_i)},m.__private__.setFillColor=m.setFillColor=function(f,P,G,te){return _i=Fr({ch1:f,ch2:P,ch3:G,ch4:te,pdfColorType:"fill",precision:2}),Z(_i),this};var cs=n.textColor||"0 g",Go=m.__private__.getTextColor=m.getTextColor=function(){return Or(cs)};m.__private__.setTextColor=m.setTextColor=function(f,P,G,te){return cs=Fr({ch1:f,ch2:P,ch3:G,ch4:te,pdfColorType:"text",precision:3}),this};var qs=n.charSpace,Jo=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(qs||0)};m.__private__.setCharSpace=m.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return qs=f,this};var Si=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(f){var P=m.CapJoinStyles[f];if(P===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Si=P,Z(P+" J"),this};var Ai=0;m.__private__.setLineJoin=m.setLineJoin=function(f){var P=m.CapJoinStyles[f];if(P===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ai=P,Z(P+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(R(A(f))+" M"),this},m.GState=la,m.setGState=function(f){(f=typeof f=="string"?Lt[Er[f]]:Pa(null,f)).equals(dn)||(Z("/"+f.id+" gs"),dn=f)};var Pa=function(f,P){if(!f||!Er[f]){var G=!1;for(var te in Lt)if(Lt.hasOwnProperty(te)&&Lt[te].equals(P)){G=!0;break}if(G)P=Lt[te];else{var le="GS"+(Object.keys(Lt).length+1).toString(10);Lt[le]=P,P.id=le}return f&&(Er[f]=P.id),ft.publish("addGState",P),P}};m.addGState=function(f,P){return Pa(f,P),this},m.saveGraphicsState=function(){return Z("q"),Xr.push({key:st,size:ke,color:cs}),this},m.restoreGraphicsState=function(){Z("Q");var f=Xr.pop();return st=f.key,ke=f.size,cs=f.color,dn=null,this},m.setCurrentTransformationMatrix=function(f){return Z(f.toString()+" cm"),this},m.comment=function(f){return Z("#"+f),this};var Us=function(f,P){var G=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return G},set:function(ge){isNaN(ge)||(G=parseFloat(ge))}});var te=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(ge){isNaN(ge)||(te=parseFloat(ge))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(ge){le=ge.toString()}}),this},ki=function(f,P,G,te){Us.call(this,f,P),this.type="rect";var le=G||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(je){isNaN(je)||(le=parseFloat(je))}});var ge=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ge},set:function(je){isNaN(je)||(ge=parseFloat(je))}}),this},Li=function(){this.page=Pt,this.currentPage=M,this.pages=_e.slice(0),this.pagesContext=Ye.slice(0),this.x=Zt,this.y=ut,this.matrix=Cr,this.width=us(M),this.height=In(M),this.outputDestination=Re,this.id="",this.objectNumber=-1};Li.prototype.restore=function(){Pt=this.page,M=this.currentPage,Ye=this.pagesContext,_e=this.pages,Zt=this.x,ut=this.y,Cr=this.matrix,Pi(M,this.width),Ci(M,this.height),Re=this.outputDestination};var Ca=function(f,P,G,te,le){Zr.push(new Li),Pt=M=0,_e=[],Zt=f,ut=P,Cr=le,xi([G,te])},Yo=function(f){if(Qr[f])Zr.pop().restore();else{var P=new Li,G="Xo"+(Object.keys(Xt).length+1).toString(10);P.id=G,Qr[f]=G,Xt[G]=P,ft.publish("addFormObject",P),Zr.pop().restore()}};for(var zs in m.beginFormObject=function(f,P,G,te,le){return Ca(f,P,G,te,le),this},m.endFormObject=function(f){return Yo(f),this},m.doFormObject=function(f,P){var G=Xt[Qr[f]];return Z("q"),Z(P.toString()+" cm"),Z("/"+G.id+" Do"),Z("Q"),this},m.getFormObject=function(f){var P=Xt[Qr[f]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},m.save=function(f,P){return f=f||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(ms(Rs(fn()),f),typeof ms.unload=="function"&&We.setTimeout&&setTimeout(ms.unload,911),this):new Promise(function(G,te){try{var le=ms(Rs(fn()),f);typeof ms.unload=="function"&&We.setTimeout&&setTimeout(ms.unload,911),G(le)}catch(ge){te(ge.message)}})},Ue.API)Ue.API.hasOwnProperty(zs)&&(zs==="events"&&Ue.API.events.length?function(f,P){var G,te,le;for(le=P.length-1;le!==-1;le--)G=P[le][0],te=P[le][1],f.subscribe.apply(f,[G].concat(typeof te=="function"?[te]:te))}(ft,Ue.API.events):m[zs]=Ue.API[zs]);var us=m.getPageWidth=function(f){return(Ye[f=f||M].mediaBox.topRightX-Ye[f].mediaBox.bottomLeftX)/Te},Pi=m.setPageWidth=function(f,P){Ye[f].mediaBox.topRightX=P*Te+Ye[f].mediaBox.bottomLeftX},In=m.getPageHeight=function(f){return(Ye[f=f||M].mediaBox.topRightY-Ye[f].mediaBox.bottomLeftY)/Te},Ci=m.setPageHeight=function(f,P){Ye[f].mediaBox.topRightY=P*Te+Ye[f].mediaBox.bottomLeftY};return m.internal={pdfEscape:cr,getStyle:ja,getFont:Wo,getFontSize:Ce,getCharSpace:Jo,getTextColor:Go,getLineHeight:Aa,getLineHeightFactor:La,getLineWidth:Bs,write:Xe,getHorizontalCoordinate:pn,getVerticalCoordinate:Cn,getCoordinateString:Vo,getVerticalCoordinateString:En,collections:{},newObject:Ht,newAdditionalObject:Ls,newObjectDeferred:Mt,newObjectDeferredBegin:br,getFilters:tn,putStream:_r,events:ft,scaleFactor:Te,pageSize:{getWidth:function(){return us(M)},setWidth:function(f){Pi(M,f)},getHeight:function(){return In(M)},setHeight:function(f){Ci(M,f)}},encryptionOptions:p,encryption:er,getEncryptor:Bo,output:Ds,getNumberOfPages:Oo,pages:_e,out:Z,f2:J,f3:C,getPageInfo:Na,getPageInfoByObjId:Ge,getCurrentPageInfo:qo,getPDFVersion:N,Point:Us,Rectangle:ki,Matrix:$e,hasHotfix:wa},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return us(M)},set:function(f){Pi(M,f)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return In(M)},set:function(f){Ci(M,f)},enumerable:!0,configurable:!0}),Io.call(m,Se),st="F1",ba(i,t),ft.publish("initialized"),m}oi.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},oi.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},oi.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},oi.prototype.processOwnerPassword=function(n,e){return ql(Bl(e).substr(0,5),n)},oi.prototype.encryptor=function(n,e){var t=Bl(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return ql(t,r)}},la.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||gt(n)!==gt(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Ue.API={events:[]},Ue.version="2.5.1";var It=Ue.API,tc=1,Ss=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ri=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ke=function(n){return n.toFixed(2)},Vn=function(n){return n.toFixed(5)};It.__acroform__={};var vr=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Zc=function(n){return n*tc},on=function(n){var e=new sd,t=De.internal.getHeight(n)||0,r=De.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Ke(r)),Number(Ke(t))],e},jf=It.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},_f=It.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},Sf=It.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Ft=It.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Sf(n,e-1)},Rt=It.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jf(n,e-1)},Dt=It.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _f(n,e-1)},Af=It.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],l=n[2],u=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+u)||0,c.upperRight_X=t(i+l)||0,c.upperRight_Y=r(s)||0,[Number(Ke(c.lowerLeft_X)),Number(Ke(c.lowerLeft_Y)),Number(Ke(c.upperRight_X)),Number(Ke(c.upperRight_Y))]},kf=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Ul(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Ke(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=on(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},Ul=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var s=t,l=De.internal.getHeight(n)||0;l=l<0?-l:l;var u=De.internal.getWidth(n)||0;u=u<0?-u:u;var c=function(C,A,B){if(C+1<i.length){var U=A+" "+i[C+1][0];return eo(U,n,B).width<=u-4}return!1};s++;e:for(;s>0;){e="",s--;var h,p,v=eo("3",n,s).height,b=n.multiline?l-s:(l-v)/2,m=b+=2,_=0,N=0,j=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+eo(e,n,s=12).width+", FieldWidth:"+u+`
`;break}for(var x="",w=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var F=!1;if(i[S].length!==1&&j!==i[S].length-1){if((v+2)*(w+2)+2>l)continue e;x+=i[S][j],F=!0,N=S,S--}else{x=(x+=i[S][j]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var H=parseInt(S),$=c(H,x,s),R=S>=i.length-1;if($&&!R){x+=" ",j=0;continue}if($||R){if(R)N=H;else if(n.multiline&&(v+2)*(w+2)+2>l)continue e}else{if(!n.multiline||(v+2)*(w+2)+2>l)continue e;N=H}}for(var I="",K=_;K<=N;K++){var J=i[K];if(n.multiline){if(K===N){I+=J[j]+" ",j=(j+1)%J.length;continue}if(K===_){I+=J[J.length-1]+" ";continue}}I+=J[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,p=eo(I,n,s).width,n.textAlign){case"right":h=u-p-2;break;case"center":h=(u-p)/2;break;case"left":default:h=2}e+=Ke(h)+" "+Ke(m)+` Td
`,e+="("+Ss(I)+`) Tj
`,e+=-Ke(h)+` 0 Td
`,m=-(s+2),p=0,_=F?N:N+1,w++,x=""}break}return r.text=e,r.fontSize=s,r},eo=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Lf={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Pf=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Cf=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),gt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},Ef=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Yr.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Lf)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");tc=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new id,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Pf(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],c=[],h=u.Rect;if(u.Rect&&(u.Rect=Af(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=De.createDefaultAppearanceStream(u),gt(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=h,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=kf(u);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var v="";for(var b in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(b)){var m=u.appearanceStreamContent[b];if(v+="/"+b+" ",v+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var _=m[l];typeof _=="function"&&(_=_.call(i,u)),v+="/"+l+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=m)=="function"&&(_=_.call(i,u)),v+="/"+l+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);v+=">>"}c.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:u.objId}),i.internal.out("endobj")}s&&Cf(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},nd=It.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),gt(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Ss(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nl=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Ss(r(n))+")"},ln=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ln.prototype.toString=function(){return this.objId+" 0 R"},ln.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ln.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:nd(i,this.objId,this.scope)}):i instanceof ln?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var sd=function(){ln.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};vr(sd,ln);var id=function(){ln.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Ss(t(n))+")"}},set:function(t){n=t}})};vr(id,ln);var Yr=function n(){ln.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ft(e,3)},set:function(x){x?this.F=Rt(e,3):this.F=Dt(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');t=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof co)return;s="FieldObject"+n.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Ss(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/tc:h},set:function(x){h=x}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){p=x}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof co||this instanceof Zn))return Nl(v,this.objId,this.scope)},set:function(x){x=x.toString(),v=x}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Vt?b:Nl(b,this.objId,this.scope)},set:function(x){x=x.toString(),b=this instanceof Vt?x:x.substr(0,1)==="("?ri(x.substr(1,x.length-2)):ri(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vt?ri(b.substr(1,b.length-1)):b},set:function(x){x=x.toString(),b=this instanceof Vt?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Vt?m:Nl(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof Vt?x:x.substr(0,1)==="("?ri(x.substr(1,x.length-2)):ri(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vt?ri(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Vt?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(x){x=!!x,N=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(x){_=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,1)},set:function(x){x?this.Ff=Rt(this.Ff,1):this.Ff=Dt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,2)},set:function(x){x?this.Ff=Rt(this.Ff,2):this.Ff=Dt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,3)},set:function(x){x?this.Ff=Rt(this.Ff,3):this.Ff=Dt(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');j=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(j){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};vr(Yr,ln);var xs=function(){Yr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nd(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(s,l,u){u||(u=1);for(var c,h=[];c=l.exec(s);)h.push(c[u]);return h}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,18)},set:function(t){t?this.Ff=Rt(this.Ff,18):this.Ff=Dt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Rt(this.Ff,19):this.Ff=Dt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,20)},set:function(t){t?(this.Ff=Rt(this.Ff,20),e.sort()):this.Ff=Dt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,22)},set:function(t){t?this.Ff=Rt(this.Ff,22):this.Ff=Dt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,23)},set:function(t){t?this.Ff=Rt(this.Ff,23):this.Ff=Dt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,27)},set:function(t){t?this.Ff=Rt(this.Ff,27):this.Ff=Dt(this.Ff,27)}}),this.hasAppearanceStream=!1};vr(xs,Yr);var ys=function(){xs.call(this),this.fontName="helvetica",this.combo=!1};vr(ys,xs);var ws=function(){ys.call(this),this.combo=!0};vr(ws,ys);var Zi=function(){ws.call(this),this.edit=!0};vr(Zi,ws);var Vt=function(){Yr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,15)},set:function(t){t?this.Ff=Rt(this.Ff,15):this.Ff=Dt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,16)},set:function(t){t?this.Ff=Rt(this.Ff,16):this.Ff=Dt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,17)},set:function(t){t?this.Ff=Rt(this.Ff,17):this.Ff=Dt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,26)},set:function(t){t?this.Ff=Rt(this.Ff,26):this.Ff=Dt(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Ss(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){gt(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};vr(Vt,Yr);var ea=function(){Vt.call(this),this.pushButton=!0};vr(ea,Vt);var Ns=function(){Vt.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};vr(Ns,Vt);var co=function(){var n,e;Yr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+Ss(i(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){gt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=De.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vr(co,Yr),Ns.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ns.prototype.createOption=function(n){var e=new co;return e.Parent=this,e.optionName=n,this.Kids.push(e),If.call(this.scope,e),e};var ta=function(){Vt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=De.CheckBox.createAppearanceStream()};vr(ta,Vt);var Zn=function(){Yr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,13)},set:function(e){e?this.Ff=Rt(this.Ff,13):this.Ff=Dt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,21)},set:function(e){e?this.Ff=Rt(this.Ff,21):this.Ff=Dt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,23)},set:function(e){e?this.Ff=Rt(this.Ff,23):this.Ff=Dt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,24)},set:function(e){e?this.Ff=Rt(this.Ff,24):this.Ff=Dt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,25)},set:function(e){e?this.Ff=Rt(this.Ff,25):this.Ff=Dt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,26)},set:function(e){e?this.Ff=Rt(this.Ff,26):this.Ff=Dt(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vr(Zn,Yr);var ra=function(){Zn.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ft(this.Ff,14)},set:function(n){n?this.Ff=Rt(this.Ff,14):this.Ff=Dt(this.Ff,14)}}),this.password=!0};vr(ra,Zn);var De={CheckBox:{createAppearanceStream:function(){return{N:{On:De.CheckBox.YesNormal},D:{On:De.CheckBox.YesPushDown,Off:De.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=on(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Ul(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Ke(De.internal.getWidth(n))+" "+Ke(De.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Ke(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=on(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=De.internal.getHeight(n),l=De.internal.getWidth(n),u=Ul(n,n.caption);return i.push("1 g"),i.push("0 0 "+Ke(l)+" "+Ke(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Ke(l-1)+" "+Ke(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Ke(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=on(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ke(De.internal.getWidth(n))+" "+Ke(De.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:De.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=De.RadioButton.Circle.YesNormal,e.D[n]=De.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=on(n);e.scope=n.scope;var t=[],r=De.internal.getWidth(n)<=De.internal.getHeight(n)?De.internal.getWidth(n)/4:De.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=De.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Vn(De.internal.getWidth(n)/2)+" "+Vn(De.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=on(n);e.scope=n.scope;var t=[],r=De.internal.getWidth(n)<=De.internal.getHeight(n)?De.internal.getWidth(n)/4:De.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*De.internal.Bezier_C).toFixed(5)),l=Number((r*De.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vn(De.internal.getWidth(n)/2)+" "+Vn(De.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Vn(De.internal.getWidth(n)/2)+" "+Vn(De.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=on(n);e.scope=n.scope;var t=[],r=De.internal.getWidth(n)<=De.internal.getHeight(n)?De.internal.getWidth(n)/4:De.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*De.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Vn(De.internal.getWidth(n)/2)+" "+Vn(De.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:De.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=De.RadioButton.Cross.YesNormal,e.D[n]=De.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=on(n);e.scope=n.scope;var t=[],r=De.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Ke(De.internal.getWidth(n)-2)+" "+Ke(De.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Ke(r.x1.x)+" "+Ke(r.x1.y)+" m"),t.push(Ke(r.x2.x)+" "+Ke(r.x2.y)+" l"),t.push(Ke(r.x4.x)+" "+Ke(r.x4.y)+" m"),t.push(Ke(r.x3.x)+" "+Ke(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=on(n);e.scope=n.scope;var t=De.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ke(De.internal.getWidth(n))+" "+Ke(De.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ke(De.internal.getWidth(n)-2)+" "+Ke(De.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Ke(t.x1.x)+" "+Ke(t.x1.y)+" m"),r.push(Ke(t.x2.x)+" "+Ke(t.x2.y)+" l"),r.push(Ke(t.x4.x)+" "+Ke(t.x4.y)+" m"),r.push(Ke(t.x3.x)+" "+Ke(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=on(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Ke(De.internal.getWidth(n))+" "+Ke(De.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};De.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=De.internal.getWidth(n),t=De.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},De.internal.getWidth=function(n){var e=0;return gt(n)==="object"&&(e=Zc(n.Rect[2])),e},De.internal.getHeight=function(n){var e=0;return gt(n)==="object"&&(e=Zc(n.Rect[3])),e};var If=It.addField=function(n){if(Ef(this,n),!(n instanceof Yr))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};It.AcroFormChoiceField=xs,It.AcroFormListBox=ys,It.AcroFormComboBox=ws,It.AcroFormEditBox=Zi,It.AcroFormButton=Vt,It.AcroFormPushButton=ea,It.AcroFormRadioButton=Ns,It.AcroFormCheckBox=ta,It.AcroFormTextField=Zn,It.AcroFormPasswordField=ra,It.AcroFormAppearance=De,It.AcroForm={ChoiceField:xs,ListBox:ys,ComboBox:ws,EditBox:Zi,Button:Vt,PushButton:ea,RadioButton:Ns,CheckBox:ta,TextField:Zn,PasswordField:ra,Appearance:De},Ue.AcroForm={ChoiceField:xs,ListBox:ys,ComboBox:ws,EditBox:Zi,Button:Vt,PushButton:ea,RadioButton:Ns,CheckBox:ta,TextField:Zn,PasswordField:ra,Appearance:De};var Tf=Ue.AcroForm;function ad(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(C,A){var B,U,oe,V,W,X=e;if((A=A||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if($(C))for(W in t)for(oe=t[W],B=0;B<oe.length;B+=1){for(V=!0,U=0;U<oe[B].length;U+=1)if(oe[B][U]!==void 0&&oe[B][U]!==C[U]){V=!1;break}if(V===!0){X=W;break}}else for(W in t)for(oe=t[W],B=0;B<oe.length;B+=1){for(V=!0,U=0;U<oe[B].length;U+=1)if(oe[B][U]!==void 0&&oe[B][U]!==C.charCodeAt(U)){V=!1;break}if(V===!0){X=W;break}}return X===e&&A!==e&&(X=A),X},i=function C(A){for(var B=this.internal.write,U=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:A.width}),V.push({key:"Height",value:A.height}),A.colorSpace===j.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===j.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)){for(var W="",X=0,Q=A.transparency.length;X<Q;X++)W+=A.transparency[X]+" "+A.transparency[X]+" ";V.push({key:"Mask",value:"["+W+"]"})}A.sMask!==void 0&&V.push({key:"SMask",value:A.objectId+1+" 0 R"});var ie=A.filter!==void 0?["/"+A.filter]:void 0;if(U({data:A.data,additionalKeyValues:V,alreadyAppliedFilters:ie,objectId:A.objectId}),B("endobj"),"sMask"in A&&A.sMask!==void 0){var pe="/Predictor "+A.predictor+" /Colors 1 /BitsPerComponent "+A.bitsPerComponent+" /Columns "+A.width,k={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:A.bitsPerComponent,decodeParameters:pe,data:A.sMask};"filter"in A&&(k.filter=A.filter),C.call(this,k)}if(A.colorSpace===j.INDEXED){var M=this.internal.newObject();U({data:I(new Uint8Array(A.palette)),objectId:M}),B("endobj")}},s=function(){var C=this.internal.collections.addImage_images;for(var A in C)i.call(this,C[A])},l=function(){var C,A=this.internal.collections.addImage_images,B=this.internal.write;for(var U in A)B("/I"+(C=A[U]).index,C.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},c=function(){var C=this.internal.collections.addImage_images;return u.call(this),C},h=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(C){return typeof n["process"+C.toUpperCase()]=="function"},v=function(C){return gt(C)==="object"&&C.nodeType===1},b=function(C,A){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var B=""+C.getAttribute("src");if(B.indexOf("data:image/")===0)return Qi(unescape(B).split("base64,").pop());var U=n.loadFile(B,!0);if(U!==void 0)return U}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var oe;switch(A){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;case"JPEG":case"JPG":default:oe="image/jpeg"}return Qi(C.toDataURL(oe,1).split("base64,").pop())}},m=function(C){var A=this.internal.collections.addImage_images;if(A){for(var B in A)if(C===A[B].alias)return A[B]}},_=function(C,A,B){return C||A||(C=-96,A=-96),C<0&&(C=-1*B.width*72/C/this.internal.scaleFactor),A<0&&(A=-1*B.height*72/A/this.internal.scaleFactor),C===0&&(C=A*B.width/B.height),A===0&&(A=C*B.height/B.width),[C,A]},N=function(C,A,B,U,oe,V){var W=_.call(this,B,U,oe),X=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,ie=c.call(this);if(B=W[0],U=W[1],ie[oe.index]=oe,V){V*=Math.PI/180;var pe=Math.cos(V),k=Math.sin(V),M=function(Y){return Y.toFixed(4)},z=[M(pe),M(k),M(-1*k),M(pe),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,X(C),Q(A+U),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([X(B),"0","0",X(U),"0","0","cm"].join(" "))):this.internal.write([X(B),"0","0",X(U),X(C),Q(A+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},j=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=n.__addimage__.sHashCode=function(C){var A,B,U=0;if(typeof C=="string")for(B=C.length,A=0;A<B;A++)U=(U<<5)-U+C.charCodeAt(A),U|=0;else if($(C))for(B=C.byteLength/2,A=0;A<B;A++)U=(U<<5)-U+C[A],U|=0;return U},S=n.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var A=!0;return C.length===0&&(A=!1),C.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(A=!1),A},F=n.__addimage__.extractImageFromDataUrl=function(C){var A=(C=C||"").split("base64,"),B=null;if(A.length===2){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(A[0]);Array.isArray(U)&&(B={mimeType:U[1],charset:U[2],data:A[1]})}return B},H=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(C){return H()&&C instanceof ArrayBuffer};var $=n.__addimage__.isArrayBufferView=function(C){return H()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},R=n.__addimage__.binaryStringToUint8Array=function(C){for(var A=C.length,B=new Uint8Array(A),U=0;U<A;U++)B[U]=C.charCodeAt(U);return B},I=n.__addimage__.arrayBufferToBinaryString=function(C){for(var A="",B=$(C)?C:new Uint8Array(C),U=0;U<B.length;U+=8192)A+=String.fromCharCode.apply(null,B.subarray(U,U+8192));return A};n.addImage=function(){var C,A,B,U,oe,V,W,X,Q;if(typeof arguments[1]=="number"?(A=e,B=arguments[1],U=arguments[2],oe=arguments[3],V=arguments[4],W=arguments[5],X=arguments[6],Q=arguments[7]):(A=arguments[1],B=arguments[2],U=arguments[3],oe=arguments[4],V=arguments[5],W=arguments[6],X=arguments[7],Q=arguments[8]),gt(C=arguments[0])==="object"&&!v(C)&&"imageData"in C){var ie=C;C=ie.imageData,A=ie.format||A||e,B=ie.x||B||0,U=ie.y||U||0,oe=ie.w||ie.width||oe,V=ie.h||ie.height||V,W=ie.alias||W,X=ie.compression||X,Q=ie.rotation||ie.angle||Q}var pe=this.internal.getFilters();if(X===void 0&&pe.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(B)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var k=K.call(this,C,A,W,X);return N.call(this,B,U,oe,V,k,Q),this};var K=function(C,A,B,U){var oe,V,W;if(typeof C=="string"&&r(C)===e){C=unescape(C);var X=J(C,!1);(X!==""||(X=n.loadFile(C,!0))!==void 0)&&(C=X)}if(v(C)&&(C=b(C,A)),A=r(C,A),!p(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((W=B)==null||W.length===0)&&(B=function(Q){return typeof Q=="string"||$(Q)?w(Q):$(Q.data)?w(Q.data):null}(C)),(oe=m.call(this,B))||(H()&&(C instanceof Uint8Array||A==="RGBA"||(V=C,C=R(C))),oe=this["process"+A.toUpperCase()](C,h.call(this),B,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in n.image_compression?Q:x.NONE}(U),V)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},J=n.__addimage__.convertBase64ToBinaryString=function(C,A){var B;A=typeof A!="boolean"||A;var U,oe="";if(typeof C=="string"){U=(B=F(C))!==null?B.data:C;try{oe=Qi(U)}catch(V){if(A)throw S(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};n.getImageProperties=function(C){var A,B,U="";if(v(C)&&(C=b(C)),typeof C=="string"&&r(C)===e&&((U=J(C,!1))===""&&(U=n.loadFile(C)||""),C=U),B=r(C),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!H()||C instanceof Uint8Array||(C=R(C)),!(A=this["process"+B.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=B,A}})(Ue.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ue.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,p=!1,v=0;v<h.length&&!p;v++)switch((r=h[v]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){r=h[b];var m=this.internal.pdfEscape,_=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(N.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+m(x(r.contents))+")",s+=" /Popup "+j.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(x(w))+") >>",N.content=s;var S=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(s+=" /Open true"),s+=" >>",j.content=s,this.internal.write(N.objId,"0 R",j.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var H=this.annotations._nameMap[r.options.name];r.options.pageNumber=H.page,r.options.top=H.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var $=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+$+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,l){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(t),y:h(r),w:c(t+i),h:h(r+s)},options:l,type:"link"})},n.textWithLink=function(t,r,i,s){var l,u,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var p=this.splitTextToSize(t,u).length;l=Math.ceil(h*p)}else u=c,l=h;return this.text(t,r,i,s),i+=.2*h,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-h,u,l,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Ue.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},u=n.__arabicParser__.isArabicEndLetter=function(N){return l(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(N){return l(N)&&i.indexOf(N.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return l(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var h=n.__arabicParser__.arabicLetterHasFinalForm=function(N){return l(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(N){return l(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(N){return l(N)&&s(N)&&e[N.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(N){var j=0,x=t,w="",S=0;for(j=0;j<N.length;j+=1)x[N.charCodeAt(j)]!==void 0?(S++,typeof(x=x[N.charCodeAt(j)])=="number"&&(w+=String.fromCharCode(x),x=t,S=0),j===N.length-1&&(x=t,w+=N.charAt(j-(S-1)),j-=S-1,S=0)):(x=t,w+=N.charAt(j-S),j-=S,S=0);return w};n.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(N,j,x){return l(N)?s(N)===!1?-1:!h(N)||!l(j)&&!l(x)||!l(x)&&u(j)||u(N)&&!l(j)||u(N)&&c(j)||u(N)&&u(j)?0:p(N)&&l(j)&&!u(j)&&l(x)&&h(x)?3:u(N)||!l(x)?1:2:-1},m=function(N){var j=0,x=0,w=0,S="",F="",H="",$=(N=N||"").split("\\s+"),R=[];for(j=0;j<$.length;j+=1){for(R.push(""),x=0;x<$[j].length;x+=1)S=$[j][x],F=$[j][x-1],H=$[j][x+1],l(S)?(w=b(S,F,H),R[j]+=w!==-1?String.fromCharCode(e[S.charCodeAt(0)][w]):S):R[j]+=S;R[j]=v(R[j])}return R.join(" ")},_=n.__arabicParser__.processArabic=n.processArabic=function(){var N,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(j)){var w=0;for(x=[],w=0;w<j.length;w+=1)Array.isArray(j[w])?x.push([m(j[w][0]),j[w][1],j[w][2]]):x.push([m(j[w])]);N=x}else N=m(j);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};n.events.push(["preProcessText",_])}(Ue.API),Ue.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ue.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(N){c=N}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(N){_=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,h){r.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),v=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,m=0,_=0,N=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=h.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,F){return S.concat(j.splitTextToSize(F,x))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)m<(N=this.getStringUnitWidth(c[w],{font:v})*p)&&(m=N);return m!==0&&(_=c.length),{w:m/=b,h:Math.max((_*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=v.top,m&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};n.table=function(c,h,p,v,b){if(r.call(this),!p)throw new Error("No data for PDF table.");var m,_,N,j,x=[],w=[],S=[],F={},H={},$=[],R=[],I=(b=b||{}).autoSize||!1,K=b.printHeaders!==!1,J=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,C=b.margins||Object.assign({width:this.getPageWidth()},e),A=typeof b.padding=="number"?b.padding:3,B=b.headerBackgroundColor||"#c8c8c8",U=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=U,this.setFontSize(J),v==null)w=x=Object.keys(p[0]),S=x.map(function(){return"left"});else if(Array.isArray(v)&&gt(v[0])==="object")for(x=v.map(function(ie){return ie.name}),w=v.map(function(ie){return ie.prompt||ie.name||""}),S=v.map(function(ie){return ie.align||"left"}),m=0;m<v.length;m+=1)H[v[m].name]=v[m].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(w=x=v,S=x.map(function(){return"left"}));if(I||Array.isArray(v)&&typeof v[0]=="string")for(m=0;m<x.length;m+=1){for(F[j=x[m]]=p.map(function(ie){return ie[j]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=F[j],this.setFont(void 0,"normal"),N=0;N<_.length;N+=1)$.push(this.getTextDimensions(_[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[j]=Math.max.apply(null,$)+A+A,$=[]}if(K){var oe={};for(m=0;m<x.length;m+=1)oe[x[m]]={},oe[x[m]].text=w[m],oe[x[m]].align=S[m];var V=u.call(this,oe,H);R=x.map(function(ie){return new s(c,h,H[ie],V,oe[ie].text,void 0,oe[ie].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var W=v.reduce(function(ie,pe){return ie[pe.name]=pe.align,ie},{});for(m=0;m<p.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:p[m]},this);var X=u.call(this,p[m],H);for(N=0;N<x.length;N+=1){var Q=p[m][x[N]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:N,data:Q},this),l.call(this,new s(c,h,H[x[N]],X,Q,m+2,W[x[N]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var u=function(c,h){var p=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(m){var _=c[m];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,h[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*v/b+p+p},this).reduce(function(m,_){return Math.max(m,_)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=c;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(_)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(Ue.API);var od={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ld=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zl=ad(ld),cd=[100,200,300,400,500,600,700,800,900],Of=ad(cd);function $l(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return od[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof zl[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function eu(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Ff={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tu={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ru(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Rf(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Ff,t.genericFontFamilies||{}),s=null,l=null,u=0;u<e.length;++u)if(i[(s=$l(e[u])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){l=n[s.family];break}if(!(l=l||n[r]))throw new Error("Could not find a font-family for the rule '"+ru(s)+"' and default family '"+r+"'.");if(l=function(c,h){if(h[c])return h[c];var p=zl[c],v=p<=zl.normal?-1:1,b=eu(h,ld,p,v);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(s.stretch,l),l=function(c,h){if(h[c])return h[c];for(var p=od[c],v=0;v<p.length;++v)if(h[p[v]])return h[p[v]];throw new Error("Could not find a matching font-style for "+c)}(s.style,l),!(l=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var p=Of[c],v=eu(h,cd,p,c<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+c);return v}(s.weight,l)))throw new Error("Failed to resolve a font for the rule '"+ru(s)+"'.");return l}function nu(n){return n.trimLeft()}function Df(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Mf(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var to,su,iu,jl=["times"];(function(n){var e,t,r,i,s,l,u,c,h,p=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new c,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new l,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new l,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,h=new p}]);var v=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=k;Object.defineProperty(this,"pdf",{get:function(){return M}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(ve){z=!!ve}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ve){Y=!!ve}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(ve){isNaN(ve)||(ee=ve)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ve){isNaN(ve)||(ce=ve)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(ve){var Z;typeof ve=="number"?Z=[ve,ve,ve,ve]:((Z=new Array(4))[0]=ve[0],Z[1]=ve.length>=2?ve[1]:Z[0],Z[2]=ve.length>=3?ve[2]:Z[0],Z[3]=ve.length>=4?ve[3]:Z[1]),h.margin=Z}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(ve){ue=ve}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(ve){fe=ve}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(ve){Ae=ve}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(ve){ve instanceof p&&(h=ve)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(ve){h.path=ve}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(ve){_e=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var Z;Z=b(ve),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var Z=b(ve);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Ee=null;function Re(ve,Z){if(Ee===null){var Xe=function(Me){var Se=[];return Object.keys(Me).forEach(function(ke){Me[ke].forEach(function(Ie){var Ce=null;switch(Ie){case"bold":Ce={family:ke,weight:"bold"};break;case"italic":Ce={family:ke,style:"italic"};break;case"bolditalic":Ce={family:ke,weight:"bold",style:"italic"};break;case"":case"normal":Ce={family:ke}}Ce!==null&&(Ce.ref={name:ke,style:Ie},Se.push(Ce))})}),Se}(ve.getFontList());Ee=function(Me){for(var Se={},ke=0;ke<Me.length;++ke){var Ie=$l(Me[ke]),Ce=Ie.family,Be=Ie.stretch,Je=Ie.style,et=Ie.weight;Se[Ce]=Se[Ce]||{},Se[Ce][Be]=Se[Ce][Be]||{},Se[Ce][Be][Je]=Se[Ce][Be][Je]||{},Se[Ce][Be][Je][et]=Ie}return Se}(Xe.concat(Z))}return Ee}var He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(ve){Ee=null,He=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var Z;if(this.ctx.font=ve,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var Xe=Z[1],Me=(Z[2],Z[3]),Se=Z[4],ke=(Z[5],Z[6]),Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(Ie==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Ce=function(Ve){var st,Te,Zt=[],ut=Ve.trim();if(ut==="")return jl;if(ut in tu)return[tu[ut]];for(;ut!=="";){switch(Te=null,st=(ut=nu(ut)).charAt(0)){case'"':case"'":Te=Df(ut.substring(1),st);break;default:Te=Mf(ut)}if(Te===null||(Zt.push(Te[0]),(ut=nu(Te[1]))!==""&&ut.charAt(0)!==","))return jl;ut=ut.replace(/^,/,"")}return Zt}(ke);if(this.fontFaces){var Be=Rf(Re(this.pdf,this.fontFaces),Ce.map(function(Ve){return{family:Ve,stretch:"normal",weight:Me,style:Xe}}));this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var Je="";(Me==="bold"||parseInt(Me,10)>=700||Xe==="bold")&&(Je="bold"),Xe==="italic"&&(Je+="italic"),Je.length===0&&(Je="normal");for(var et="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<Ce.length;lt++){if(this.pdf.internal.getFont(Ce[lt],Je,{noFallback:!0,disableWarning:!0})!==void 0){et=Ce[lt];break}if(Je==="bolditalic"&&this.pdf.internal.getFont(Ce[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)et=Ce[lt],Je="bold";else if(this.pdf.internal.getFont(Ce[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){et=Ce[lt],Je="normal";break}}if(et===""){for(var vt=0;vt<Ce.length;vt++)if(nt[Ce[vt]]){et=nt[Ce[vt]];break}}et=et===""?"Times":et,this.pdf.setFont(et,Je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};v.prototype.setLineDash=function(k){this.lineDash=k},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){F.call(this,"fill",!1)},v.prototype.stroke=function(){F.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(k,M){if(isNaN(k)||isNaN(M))throw wt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new l(k,M));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new l(k,M)},v.prototype.closePath=function(){var k=new l(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&gt(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){k=new l(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(k.x,k.y)},v.prototype.lineTo=function(k,M){if(isNaN(k)||isNaN(M))throw wt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new l(k,M));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new l(z.x,z.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},v.prototype.quadraticCurveTo=function(k,M,z,Y){if(isNaN(z)||isNaN(Y)||isNaN(k)||isNaN(M))throw wt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new l(z,Y)),ce=this.ctx.transform.applyToPoint(new l(k,M));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new l(ee.x,ee.y)},v.prototype.bezierCurveTo=function(k,M,z,Y,ee,ce){if(isNaN(ee)||isNaN(ce)||isNaN(k)||isNaN(M)||isNaN(z)||isNaN(Y))throw wt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new l(ee,ce)),fe=this.ctx.transform.applyToPoint(new l(k,M)),Ae=this.ctx.transform.applyToPoint(new l(z,Y));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ae.x,y2:Ae.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},v.prototype.arc=function(k,M,z,Y,ee,ce){if(isNaN(k)||isNaN(M)||isNaN(z)||isNaN(Y)||isNaN(ee))throw wt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new l(k,M));k=ue.x,M=ue.y;var fe=this.ctx.transform.applyToPoint(new l(0,z)),Ae=this.ctx.transform.applyToPoint(new l(0,0));z=Math.sqrt(Math.pow(fe.x-Ae.x,2)+Math.pow(fe.y-Ae.y,2))}Math.abs(ee-Y)>=2*Math.PI&&(Y=0,ee=2*Math.PI),this.path.push({type:"arc",x:k,y:M,radius:z,startAngle:Y,endAngle:ee,counterclockwise:ce})},v.prototype.arcTo=function(k,M,z,Y,ee){throw new Error("arcTo not implemented.")},v.prototype.rect=function(k,M,z,Y){if(isNaN(k)||isNaN(M)||isNaN(z)||isNaN(Y))throw wt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,M),this.lineTo(k+z,M),this.lineTo(k+z,M+Y),this.lineTo(k,M+Y),this.lineTo(k,M),this.lineTo(k+z,M),this.lineTo(k,M)},v.prototype.fillRect=function(k,M,z,Y){if(isNaN(k)||isNaN(M)||isNaN(z)||isNaN(Y))throw wt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,M,z,Y),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},v.prototype.strokeRect=function(k,M,z,Y){if(isNaN(k)||isNaN(M)||isNaN(z)||isNaN(Y))throw wt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(k,M,z,Y),this.stroke())},v.prototype.clearRect=function(k,M,z,Y){if(isNaN(k)||isNaN(M)||isNaN(z)||isNaN(Y))throw wt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,M,z,Y))},v.prototype.save=function(k){k=typeof k!="boolean"||k;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},v.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(M),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(k){var M,z,Y,ee;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))M=0,z=0,Y=0,ee=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ce!==null)M=parseInt(ce[1]),z=parseInt(ce[2]),Y=parseInt(ce[3]),ee=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)M=parseInt(ce[1]),z=parseInt(ce[2]),Y=parseInt(ce[3]),ee=parseFloat(ce[4]);else{if(ee=1,typeof k=="string"&&k.charAt(0)!=="#"){var ue=new ed(k);k=ue.ok?ue.toHex():"#000000"}k.length===4?(M=k.substring(1,2),M+=M,z=k.substring(2,3),z+=z,Y=k.substring(3,4),Y+=Y):(M=k.substring(1,3),z=k.substring(3,5),Y=k.substring(5,7)),M=parseInt(M,16),z=parseInt(z,16),Y=parseInt(Y,16)}}return{r:M,g:z,b:Y,a:ee,style:k}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(k,M,z,Y){if(isNaN(M)||isNaN(z)||typeof k!="string")throw wt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!m.call(this)){var ee=X(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;A.call(this,{text:k,x:M,y:z,scale:ce,angle:ee,align:this.textAlign,maxWidth:Y})}},v.prototype.strokeText=function(k,M,z,Y){if(isNaN(M)||isNaN(z)||typeof k!="string")throw wt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Y=isNaN(Y)?void 0:Y;var ee=X(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;A.call(this,{text:k,x:M,y:z,scale:ce,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:Y})}},v.prototype.measureText=function(k){if(typeof k!="string")throw wt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,z=this.pdf.internal.scaleFactor,Y=M.internal.getFontSize(),ee=M.getStringUnitWidth(k)*Y/M.internal.scaleFactor,ce=function(ue){var fe=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new ce({width:ee*=Math.round(96*z/72*1e4)/1e4})},v.prototype.scale=function(k,M){if(isNaN(k)||isNaN(M))throw wt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new c(k,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},v.prototype.rotate=function(k){if(isNaN(k))throw wt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new c(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},v.prototype.translate=function(k,M){if(isNaN(k)||isNaN(M))throw wt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new c(1,0,0,1,k,M);this.ctx.transform=this.ctx.transform.multiply(z)},v.prototype.transform=function(k,M,z,Y,ee,ce){if(isNaN(k)||isNaN(M)||isNaN(z)||isNaN(Y)||isNaN(ee)||isNaN(ce))throw wt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new c(k,M,z,Y,ee,ce);this.ctx.transform=this.ctx.transform.multiply(ue)},v.prototype.setTransform=function(k,M,z,Y,ee,ce){k=isNaN(k)?1:k,M=isNaN(M)?0:M,z=isNaN(z)?0:z,Y=isNaN(Y)?1:Y,ee=isNaN(ee)?0:ee,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(k,M,z,Y,ee,ce)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(k,M,z,Y,ee,ce,ue,fe,Ae){var _e=this.pdf.getImageProperties(k),Ee=1,Re=1,He=1,ve=1;Y!==void 0&&fe!==void 0&&(He=fe/Y,ve=Ae/ee,Ee=_e.width/Y*fe/Y,Re=_e.height/ee*Ae/ee),ce===void 0&&(ce=M,ue=z,M=0,z=0),Y!==void 0&&fe===void 0&&(fe=Y,Ae=ee),Y===void 0&&fe===void 0&&(fe=_e.width,Ae=_e.height);for(var Z,Xe=this.ctx.transform.decompose(),Me=X(Xe.rotate.shx),Se=new c,ke=(Se=(Se=(Se=Se.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new u(ce-M*He,ue-z*ve,Y*Ee,ee*Re)),Ie=j.call(this,ke),Ce=[],Be=0;Be<Ie.length;Be+=1)Ce.indexOf(Ie[Be])===-1&&Ce.push(Ie[Be]);if(S(Ce),this.autoPaging)for(var Je=Ce[0],et=Ce[Ce.length-1],nt=Je;nt<et+1;nt++){this.pdf.setPage(nt);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=nt===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Te=nt===1?0:Ve+(nt-2)*st;if(this.ctx.clip_path.length!==0){var Zt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Z,this.posX+this.margin[3],-Te+vt+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=Zt}var ut=JSON.parse(JSON.stringify(ke));ut=w([ut],this.posX+this.margin[3],-Te+vt+this.ctx.prevPageLastElemOffset)[0];var Cr=(nt>Je||nt<et)&&N.call(this);Cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,st,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,Me),Cr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,Me)};var j=function(k,M,z){var Y=[];M=M||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":Y.push(Math.floor((k.y+ee)/z)+1);break;case"arc":Y.push(Math.floor((k.y+ee-k.radius)/z)+1),Y.push(Math.floor((k.y+ee+k.radius)/z)+1);break;case"qct":var ce=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);Y.push(Math.floor((ce.y+ee)/z)+1),Y.push(Math.floor((ce.y+ce.h+ee)/z)+1);break;case"bct":var ue=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);Y.push(Math.floor((ue.y+ee)/z)+1),Y.push(Math.floor((ue.y+ue.h+ee)/z)+1);break;case"rect":Y.push(Math.floor((k.y+ee)/z)+1),Y.push(Math.floor((k.y+k.h+ee)/z)+1)}for(var fe=0;fe<Y.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<Y[fe];)x.call(this);return Y},x=function(){var k=this.fillStyle,M=this.strokeStyle,z=this.font,Y=this.lineCap,ee=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=M,this.font=z,this.lineCap=Y,this.lineWidth=ee,this.lineJoin=ce},w=function(k,M,z){for(var Y=0;Y<k.length;Y++)switch(k[Y].type){case"bct":k[Y].x2+=M,k[Y].y2+=z;case"qct":k[Y].x1+=M,k[Y].y1+=z;case"mt":case"lt":case"arc":default:k[Y].x+=M,k[Y].y+=z}return k},S=function(k){return k.sort(function(M,z){return M-z})},F=function(k,M){for(var z,Y,ee=this.fillStyle,ce=this.strokeStyle,ue=this.lineCap,fe=this.lineWidth,Ae=Math.abs(fe*this.ctx.transform.scaleX),_e=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),He=[],ve=0;ve<Re.length;ve++)if(Re[ve].x!==void 0)for(var Z=j.call(this,Re[ve]),Xe=0;Xe<Z.length;Xe+=1)He.indexOf(Z[Xe])===-1&&He.push(Z[Xe]);for(var Me=0;Me<He.length;Me++)for(;this.pdf.internal.getNumberOfPages()<He[Me];)x.call(this);if(S(He),this.autoPaging)for(var Se=He[0],ke=He[He.length-1],Ie=Se;Ie<ke+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=ee,this.strokeStyle=ce,this.lineCap=ue,this.lineWidth=Ae,this.lineJoin=_e;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=Ie===1?this.posY+this.margin[0]:this.margin[0],Je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Ie===1?0:Je+(Ie-2)*et;if(this.ctx.clip_path.length!==0){var lt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(z,this.posX+this.margin[3],-nt+Be+this.ctx.prevPageLastElemOffset),H.call(this,k,!0),this.path=lt}if(Y=JSON.parse(JSON.stringify(Ee)),this.path=w(Y,this.posX+this.margin[3],-nt+Be+this.ctx.prevPageLastElemOffset),M===!1||Ie===0){var vt=(Ie>Se||Ie<ke)&&N.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,et,null).clip().discardPath()),H.call(this,k,M),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ae,H.call(this,k,M),this.lineWidth=fe;this.path=Ee},H=function(k,M){if((k!=="stroke"||M||!_.call(this))&&(k==="stroke"||M||!m.call(this))){for(var z,Y,ee=[],ce=this.path,ue=0;ue<ce.length;ue++){var fe=ce[ue];switch(fe.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ae=ee.length;if(ce[ue-1]&&!isNaN(ce[ue-1].x)&&(z=[fe.x-ce[ue-1].x,fe.y-ce[ue-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ee[Ae-1].close!==!0&&ee[Ae-1].begin!==!0){ee[Ae-1].deltas.push(z),ee[Ae-1].abs.push(fe);break}}break;case"bct":z=[fe.x1-ce[ue-1].x,fe.y1-ce[ue-1].y,fe.x2-ce[ue-1].x,fe.y2-ce[ue-1].y,fe.x-ce[ue-1].x,fe.y-ce[ue-1].y],ee[ee.length-1].deltas.push(z);break;case"qct":var _e=ce[ue-1].x+2/3*(fe.x1-ce[ue-1].x),Ee=ce[ue-1].y+2/3*(fe.y1-ce[ue-1].y),Re=fe.x+2/3*(fe.x1-fe.x),He=fe.y+2/3*(fe.y1-fe.y),ve=fe.x,Z=fe.y;z=[_e-ce[ue-1].x,Ee-ce[ue-1].y,Re-ce[ue-1].x,He-ce[ue-1].y,ve-ce[ue-1].x,Z-ce[ue-1].y],ee[ee.length-1].deltas.push(z);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(fe)}}Y=M?null:k==="stroke"?"stroke":"fill";for(var Xe=!1,Me=0;Me<ee.length;Me++)if(ee[Me].arc)for(var Se=ee[Me].abs,ke=0;ke<Se.length;ke++){var Ie=Se[ke];Ie.type==="arc"?I.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,M,!Xe):B.call(this,Ie.x,Ie.y),Xe=!0}else if(ee[Me].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(ee[Me].begin!==!0){var Ce=ee[Me].start.x,Be=ee[Me].start.y;U.call(this,ee[Me].deltas,Ce,Be),Xe=!0}Y&&K.call(this,Y),M&&J.call(this)}},$=function(k){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-z;case"top":return k+M-z;case"hanging":return k+M-2*z;case"middle":return k+M/2-z;case"ideographic":return k;case"alphabetic":default:return k}},R=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(M,z){this.colorStops.push([M,z])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(k,M,z,Y,ee,ce,ue,fe,Ae){for(var _e=V.call(this,z,Y,ee,ce),Ee=0;Ee<_e.length;Ee++){var Re=_e[Ee];Ee===0&&(Ae?C.call(this,Re.x1+k,Re.y1+M):B.call(this,Re.x1+k,Re.y1+M)),oe.call(this,k,M,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}fe?J.call(this):K.call(this,ue)},K=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(k,M){this.pdf.internal.out(t(k)+" "+r(M)+" m")},A=function(k){var M;switch(k.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var z=this.pdf.getTextDimensions(k.text),Y=$.call(this,k.y),ee=R.call(this,Y)-z.h,ce=this.ctx.transform.applyToPoint(new l(k.x,Y)),ue=this.ctx.transform.decompose(),fe=new c;fe=(fe=(fe=fe.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Ae,_e,Ee,Re=this.ctx.transform.applyToRectangle(new u(k.x,Y,z.w,z.h)),He=fe.applyToRectangle(new u(k.x,ee,z.w,z.h)),ve=j.call(this,He),Z=[],Xe=0;Xe<ve.length;Xe+=1)Z.indexOf(ve[Xe])===-1&&Z.push(ve[Xe]);if(S(Z),this.autoPaging)for(var Me=Z[0],Se=Z[Z.length-1],ke=Me;ke<Se+1;ke++){this.pdf.setPage(ke);var Ie=ke===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],Je=Be-this.margin[0],et=this.pdf.internal.pageSize.width-this.margin[1],nt=et-this.margin[3],lt=ke===1?0:Ce+(ke-2)*Je;if(this.ctx.clip_path.length!==0){var vt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ae,this.posX+this.margin[3],-1*lt+Ie),H.call(this,"fill",!0),this.path=vt}var Ve=w([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-lt+Ie+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*k.scale),Ee=this.lineWidth,this.lineWidth=Ee*k.scale);var st=this.autoPaging!=="text";if(st||Ve.y+Ve.h<=Be){if(st||Ve.y>=Ie&&Ve.x<=et){var Te=st?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||et-Ve.x)[0],Zt=w([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-lt+Ie+this.ctx.prevPageLastElemOffset)[0],ut=st&&(ke>Me||ke<Se)&&N.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Je,null).clip().discardPath()),this.pdf.text(Te,Zt.x,Zt.y,{angle:k.angle,align:M,renderingMode:k.renderingMode}),ut&&this.pdf.restoreGraphicsState()}}else Ve.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-Ve.y);k.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Ee)}else k.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*k.scale),Ee=this.lineWidth,this.lineWidth=Ee*k.scale),this.pdf.text(k.text,ce.x+this.posX,ce.y+this.posY,{angle:k.angle,align:M,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Ee)},B=function(k,M,z,Y){z=z||0,Y=Y||0,this.pdf.internal.out(t(k+z)+" "+r(M+Y)+" l")},U=function(k,M,z){return this.pdf.lines(k,M,z,null,null)},oe=function(k,M,z,Y,ee,ce,ue,fe){this.pdf.internal.out([e(i(z+k)),e(s(Y+M)),e(i(ee+k)),e(s(ce+M)),e(i(ue+k)),e(s(fe+M)),"c"].join(" "))},V=function(k,M,z,Y){for(var ee=2*Math.PI,ce=Math.PI/2;M>z;)M-=ee;var ue=Math.abs(z-M);ue<ee&&Y&&(ue=ee-ue);for(var fe=[],Ae=Y?-1:1,_e=M;ue>1e-5;){var Ee=_e+Ae*Math.min(ue,ce);fe.push(W.call(this,k,_e,Ee)),ue-=Math.abs(Ee-_e),_e=Ee}return fe},W=function(k,M,z){var Y=(z-M)/2,ee=k*Math.cos(Y),ce=k*Math.sin(Y),ue=ee,fe=-ce,Ae=ue*ue+fe*fe,_e=Ae+ue*ee+fe*ce,Ee=4/3*(Math.sqrt(2*Ae*_e)-_e)/(ue*ce-fe*ee),Re=ue-Ee*fe,He=fe+Ee*ue,ve=Re,Z=-He,Xe=Y+M,Me=Math.cos(Xe),Se=Math.sin(Xe);return{x1:k*Math.cos(M),y1:k*Math.sin(M),x2:Re*Me-He*Se,y2:Re*Se+He*Me,x3:ve*Me-Z*Se,y3:ve*Se+Z*Me,x4:k*Math.cos(z),y4:k*Math.sin(z)}},X=function(k){return 180*k/Math.PI},Q=function(k,M,z,Y,ee,ce){var ue=k+.5*(z-k),fe=M+.5*(Y-M),Ae=ee+.5*(z-ee),_e=ce+.5*(Y-ce),Ee=Math.min(k,ee,ue,Ae),Re=Math.max(k,ee,ue,Ae),He=Math.min(M,ce,fe,_e),ve=Math.max(M,ce,fe,_e);return new u(Ee,He,Re-Ee,ve-He)},ie=function(k,M,z,Y,ee,ce,ue,fe){var Ae,_e,Ee,Re,He,ve,Z,Xe,Me,Se,ke,Ie,Ce,Be,Je=z-k,et=Y-M,nt=ee-z,lt=ce-Y,vt=ue-ee,Ve=fe-ce;for(_e=0;_e<41;_e++)Me=(Z=(Ee=k+(Ae=_e/40)*Je)+Ae*((He=z+Ae*nt)-Ee))+Ae*(He+Ae*(ee+Ae*vt-He)-Z),Se=(Xe=(Re=M+Ae*et)+Ae*((ve=Y+Ae*lt)-Re))+Ae*(ve+Ae*(ce+Ae*Ve-ve)-Xe),_e==0?(ke=Me,Ie=Se,Ce=Me,Be=Se):(ke=Math.min(ke,Me),Ie=Math.min(Ie,Se),Ce=Math.max(Ce,Me),Be=Math.max(Be,Se));return new u(Math.round(ke),Math.round(Ie),Math.round(Ce-ke),Math.round(Be-Ie))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,M,z=(k=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:M}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Ue.API),function(n){var e=function(s){var l,u,c,h,p,v,b,m,_,N;for(u=[],c=0,h=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(v=(p=((p=((p=((p=(p-(N=p%85))/85)-(_=p%85))/85)-(m=p%85))/85)-(b=p%85))/85)%85,u.push(v+33,b+33,m+33,_+33,N+33)):u.push(122);return function(j,x){for(var w=x;w>0;w--)j.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(s){var l,u,c,h,p,v=String,b="length",m=255,_="charCodeAt",N="slice",j="replace";for(s[N](-2),s=s[N](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],h=0,p=(s+=l="uuuuu"[N](s[b]%5||5))[b];p>h;h+=5)u=52200625*(s[_](h)-33)+614125*(s[_](h+1)-33)+7225*(s[_](h+2)-33)+85*(s[_](h+3)-33)+(s[_](h+4)-33),c.push(m&u>>24,m&u>>16,m&u>>8,m&u);return function(x,w){for(var S=w;S>0;S--)x.pop()}(c,l[b]),v.fromCharCode.apply(v,c)},r=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var u="",c=0;c<s.length;c+=2)u+=String.fromCharCode("0x"+(s[c]+s[c+1]));return u},i=function(s){for(var l=new Uint8Array(s.length),u=s.length;u--;)l[u]=s.charCodeAt(u);return s=(l=Dl(l)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};n.processDataByFilters=function(s,l){var u=0,c=s||"",h=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Ue.API),function(n){n.loadFile=function(e,t,r){return function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=function(c,h,p){var v=new XMLHttpRequest,b=0,m=function(_){var N=_.length,j=[],x=String.fromCharCode;for(b=0;b<N;b+=1)j.push(x(255&_.charCodeAt(b)));return j.join("")};if(v.open("GET",c,!h),v.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(v.onload=function(){v.status===200?p(m(this.responseText)):p(void 0)}),v.send(null),h&&v.status===200)return m(v.responseText)}(i,s,l)}catch{}return u}(e,t,r)},n.loadImageFile=n.loadFile}(Ue.API),function(n){function e(){return(We.html2canvas?Promise.resolve(We.html2canvas):kn(()=>import("./html2canvas.esm-CBrSDip1.js"),__vite__mapDeps([]))).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(We.DOMPurify?Promise.resolve(We.DOMPurify):kn(()=>import("./purify.es-a-CayzAK.js"),__vite__mapDeps([]))).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var u=gt(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(l,u){var c=document.createElement(l);for(var h in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[h]=u.style[h];return c},s=function l(u){var c=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),h=l.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,l,1,[l])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,u){return l.__proto__=u||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:l,dompurify:c})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(h,p){for(var v=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),b=h.firstChild;b;b=b.nextSibling)p!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||v.appendChild(c(b,p));return h.nodeType===1&&(h.nodeName==="CANVAS"?(v.width=h.width,v.height=h.height,v.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(v.value=h.value),v.addEventListener("load",function(){v.scrollTop=h.scrollTop,v.scrollLeft=h.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var c=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var b=0;b<h.length;++b){var m=h[b],_=m.src.find(function(N){return N.format==="truetype"});_&&c.addFont(_.url,m.ref.name,m.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,c.context2d.save(!0),u(this.prop.container,v)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},s.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(r(l)!=="object")return this;var u=Object.keys(l||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=l[c]};switch(c){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[c]=l[c]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(l,u){return this.then(function(){var c=l in s.template.prop?this.prop[l]:this.opt[l];return u?u(c):c})},s.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function u(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(l=l||Ue.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,u,c,h){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,u,c,h){return this.setProgress(l?this.progress.val+l:null,u||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(l,u){var c=this;return this.thenCore(l,u,function(h,p){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return c.updateProgress(null,h),v}).then(h,p).then(function(v){return c.updateProgress(1),v})})},s.prototype.thenCore=function(l,u,c){c=c||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=c.call(h,l,u);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},s.prototype.thenList=function(l){var u=this;return l.forEach(function(c){u=u.thenCore(c)}),u},s.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return s.convert(u,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ue.getPageSize=function(l,u,c){if(gt(l)==="object"){var h=l;l=h.orientation,u=h.unit||u,c=h.format||c}u=u||"mm",c=c||"a4",l=(""+(l||"P")).toLowerCase();var p,v=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var m,_=0,N=0;if(b.hasOwnProperty(v))_=b[v][1]/p,N=b[v][0]/p;else try{_=c[1],N=c[0]}catch{throw new Error("Invalid format: "+c)}if(l==="p"||l==="portrait")l="p",N>_&&(m=N,N=_,_=m);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",_>N&&(m=N,N=_,_=m)}return{width:N,height:_,unit:u,k:p,orientation:l}},n.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map($l):null;var c=new s(u);return u.worker?c:c.from(l).doCallback()}}(Ue.API),Ue.API.addJS=function(n){return iu=n,this.internal.events.subscribe("postPutResources",function(){to=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(to+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),su=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+iu+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){to!==void 0&&su!==void 0&&this.internal.out("/Names <</JavaScript "+to+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],u=r.exec(l);if(u!=null){var c=u[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(s=0;s<h;s++){var v=t.internal.newObject();p.push(v);var b=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<p.length;s++)t.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var l={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var c=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ue.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,l,u){var c,h=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(v){for(var b,m=256*v.charCodeAt(4)+v.charCodeAt(5),_=v.length,N={width:0,height:0,numcomponents:1},j=4;j<_;j+=2){if(j+=m,e.indexOf(v.charCodeAt(j+1))!==-1){b=256*v.charCodeAt(j+5)+v.charCodeAt(j+6),N={width:256*v.charCodeAt(j+7)+v.charCodeAt(j+8),height:b,numcomponents:v.charCodeAt(j+9)};break}m=256*v.charCodeAt(j+2)+v.charCodeAt(j+3)}return N}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:t,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:h,index:r,alias:i}}return p}}(Ue.API);var ni,ro,au,ou,lu,Bf=function(){var n,e,t;function r(s){var l,u,c,h,p,v,b,m,_,N,j,x,w,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(l=this.readUInt32(),_=(function(){var F,H;for(H=[],F=0;F<4;++F)H.push(String.fromCharCode(this.data[this.pos++]));return H}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),h=this.readUInt16()||100,v.delay=1e3*p/h,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,l-=4),s=(v!=null?v.data:void 0)||this.imgData,x=0;0<=l?x<l:x>l;0<=l?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((N=c-this.transparency.indexed.length)>0)for(w=0;0<=N?w<N:w>N;0<=N?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":b=(j=this.read(l)).indexOf(0),m=String.fromCharCode.apply(String,j.slice(0,b)),this.text[m]=String.fromCharCode.apply(String,j.slice(b+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var l,u;for(u=[],l=0;0<=s?l<s:l>s;0<=s?++l:--l)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(v,b,m,_){var N,j,x,w,S,F,H,$,R,I,K,J,C,A,B,U,oe,V,W,X,Q,ie=Math.ceil((h.width-v)/m),pe=Math.ceil((h.height-b)/_),k=h.width==ie&&h.height==pe;for(A=l*ie,J=k?u:new Uint8Array(A*pe),F=s.length,C=0,j=0;C<pe&&c<F;){switch(s[c++]){case 0:for(w=oe=0;oe<A;w=oe+=1)J[j++]=s[c++];break;case 1:for(w=V=0;V<A;w=V+=1)N=s[c++],S=w<l?0:J[j-l],J[j++]=(N+S)%256;break;case 2:for(w=W=0;W<A;w=W+=1)N=s[c++],x=(w-w%l)/l,B=C&&J[(C-1)*A+x*l+w%l],J[j++]=(B+N)%256;break;case 3:for(w=X=0;X<A;w=X+=1)N=s[c++],x=(w-w%l)/l,S=w<l?0:J[j-l],B=C&&J[(C-1)*A+x*l+w%l],J[j++]=(N+Math.floor((S+B)/2))%256;break;case 4:for(w=Q=0;Q<A;w=Q+=1)N=s[c++],x=(w-w%l)/l,S=w<l?0:J[j-l],C===0?B=U=0:(B=J[(C-1)*A+x*l+w%l],U=x&&J[(C-1)*A+(x-1)*l+w%l]),H=S+B-U,$=Math.abs(H-S),I=Math.abs(H-B),K=Math.abs(H-U),R=$<=I&&$<=K?S:I<=K?B:U,J[j++]=(N+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!k){var M=((b+C*_)*h.width+v)*l,z=C*A;for(w=0;w<ie;w+=1){for(var Y=0;Y<l;Y+=1)u[M++]=J[z++];M+=(m-1)*l}}C++}}return s=bf(s),h.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),u},r.prototype.decodePalette=function(){var s,l,u,c,h,p,v,b,m;for(u=this.palette,p=this.transparency.indexed||[],h=new Uint8Array((p.length||0)+u.length),c=0,s=0,l=v=0,b=u.length;v<b;l=v+=3)h[c++]=u[l],h[c++]=u[l+1],h[c++]=u[l+2],h[c++]=(m=p[s++])!=null?m:255;return h},r.prototype.copyToImageData=function(s,l){var u,c,h,p,v,b,m,_,N,j,x;if(c=this.colors,N=null,u=this.hasAlphaChannel,this.palette.length&&(N=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,u=!0),_=(h=s.data||s).length,v=N||l,p=b=0,c===1)for(;p<_;)m=N?4*l[p/4]:b,j=v[m++],h[p++]=j,h[p++]=j,h[p++]=j,h[p++]=u?v[m++]:255,b=m;else for(;p<_;)m=N?4*l[p/4]:b,h[p++]=v[m++],h[p++]=v[m++],h[p++]=v[m++],h[p++]=u?v[m++]:255,b=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(We)==="[object Window]"){try{e=We.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var l;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var l,u,c,h,p,v,b,m;if(this.animation){for(m=[],u=p=0,v=(b=this.animation.frames).length;p<v;u=++p)l=b[u],c=s.createImageData(l.width,l.height),h=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(c,h),l.imageData=c,m.push(l.image=n(c));return m}},r.prototype.renderFrame=function(s,l){var u,c,h;return u=(c=this.animation.frames)[l],h=c[l-1],l===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(s){var l,u,c,h,p,v,b=this;return u=0,v=this.animation,h=v.numFrames,c=v.frames,p=v.numPlays,(l=function(){var m,_;if(m=u++%h,_=c[m],b.renderFrame(s,m),h>1&&u/h<p)return b.animation._timeout=setTimeout(l,_.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var l,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,l=s.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function qf(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,l=1<<(7&i)+1;n[e++],n[e++];var u=null,c=null;s&&(u=e,c=l,e+=3*l);var h=!0,p=[],v=0,b=null,m=0,_=null;for(this.width=t,this.height=r;h&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,_=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=n[e++];v=n[e++]|n[e++]<<8,b=n[e++],!(1&N)&&(b=null),m=N>>2&7,e++;break;case 254:for(;;){if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var j=n[e++]|n[e++]<<8,x=n[e++]|n[e++]<<8,w=n[e++]|n[e++]<<8,S=n[e++]|n[e++]<<8,F=n[e++],H=F>>6&1,$=1<<(7&F)+1,R=u,I=c,K=!1;F>>7&&(K=!0,R=e,I=$,e+=3*$);var J=e;for(e++;;){var C;if(!((C=n[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}p.push({x:j,y:x,width:w,height:S,has_local_palette:K,palette_offset:R,palette_size:I,data_offset:J,data_length:e-J,transparent_index:b,interlaced:!!H,delay:v,disposal:m});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return _},this.frameInfo=function(A){if(A<0||A>=p.length)throw new Error("Frame index out of range.");return p[A]},this.decodeAndBlitFrameBGRA=function(A,B){var U=this.frameInfo(A),oe=U.width*U.height,V=new Uint8Array(oe);cu(n,U.data_offset,V,oe);var W=U.palette_offset,X=U.transparent_index;X===null&&(X=256);var Q=U.width,ie=t-Q,pe=Q,k=4*(U.y*t+U.x),M=4*((U.y+U.height)*t+U.x),z=k,Y=4*ie;U.interlaced===!0&&(Y+=4*t*7);for(var ee=8,ce=0,ue=V.length;ce<ue;++ce){var fe=V[ce];if(pe===0&&(pe=Q,(z+=Y)>=M&&(Y=4*ie+4*t*(ee-1),z=k+(Q+ie)*(ee<<1),ee>>=1)),fe===X)z+=4;else{var Ae=n[W+3*fe],_e=n[W+3*fe+1],Ee=n[W+3*fe+2];B[z++]=Ee,B[z++]=_e,B[z++]=Ae,B[z++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(A,B){var U=this.frameInfo(A),oe=U.width*U.height,V=new Uint8Array(oe);cu(n,U.data_offset,V,oe);var W=U.palette_offset,X=U.transparent_index;X===null&&(X=256);var Q=U.width,ie=t-Q,pe=Q,k=4*(U.y*t+U.x),M=4*((U.y+U.height)*t+U.x),z=k,Y=4*ie;U.interlaced===!0&&(Y+=4*t*7);for(var ee=8,ce=0,ue=V.length;ce<ue;++ce){var fe=V[ce];if(pe===0&&(pe=Q,(z+=Y)>=M&&(Y=4*ie+4*t*(ee-1),z=k+(Q+ie)*(ee<<1),ee>>=1)),fe===X)z+=4;else{var Ae=n[W+3*fe],_e=n[W+3*fe+1],Ee=n[W+3*fe+2];B[z++]=Ae,B[z++]=_e,B[z++]=Ee,B[z++]=255}--pe}}}function cu(n,e,t,r){for(var i=n[e++],s=1<<i,l=s+1,u=l+1,c=i+1,h=(1<<c)-1,p=0,v=0,b=0,m=n[e++],_=new Int32Array(4096),N=null;;){for(;p<16&&m!==0;)v|=n[e++]<<p,p+=8,m===1?m=n[e++]:--m;if(p<c)break;var j=v&h;if(v>>=c,p-=c,j!==s){if(j===l)break;for(var x=j<u?j:N,w=0,S=x;S>s;)S=_[S]>>8,++w;var F=S;if(b+w+(x!==j?1:0)>r)return void wt.log("Warning, gif stream longer than expected.");t[b++]=F;var H=b+=w;for(x!==j&&(t[b++]=F),S=x;w--;)S=_[S],t[--H]=255&S,S>>=8;N!==null&&u<4096&&(_[u++]=N<<8|F,u>=h+1&&c<12&&(++c,h=h<<1|1)),N=j}else u=l+1,h=(1<<(c=i+1))-1,N=null}return b!==r&&wt.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _l(n){var e,t,r,i,s,l=Math.floor,u=new Array(64),c=new Array(64),h=new Array(64),p=new Array(64),v=new Array(65535),b=new Array(65535),m=new Array(64),_=new Array(64),N=[],j=0,x=7,w=new Array(64),S=new Array(64),F=new Array(64),H=new Array(256),$=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(k,M){for(var z=0,Y=0,ee=new Array,ce=1;ce<=16;ce++){for(var ue=1;ue<=k[ce];ue++)ee[M[Y]]=[],ee[M[Y]][0]=z,ee[M[Y]][1]=ce,Y++,z++;z*=2}return ee}function W(k){for(var M=k[0],z=k[1]-1;z>=0;)M&1<<z&&(j|=1<<x),z--,--x<0&&(j==255?(X(255),X(0)):X(j),x=7,j=0)}function X(k){N.push(k)}function Q(k){X(k>>8&255),X(255&k)}function ie(k,M,z,Y,ee){for(var ce,ue=ee[0],fe=ee[240],Ae=function(Se,ke){var Ie,Ce,Be,Je,et,nt,lt,vt,Ve,st,Te=0;for(Ve=0;Ve<8;++Ve){Ie=Se[Te],Ce=Se[Te+1],Be=Se[Te+2],Je=Se[Te+3],et=Se[Te+4],nt=Se[Te+5],lt=Se[Te+6];var Zt=Ie+(vt=Se[Te+7]),ut=Ie-vt,Cr=Ce+lt,xt=Ce-lt,At=Be+nt,Xr=Be-nt,ht=Je+et,ss=Je-et,Lt=Zt+ht,Er=Zt-ht,dn=Cr+At,Pt=Cr-At;Se[Te]=Lt+dn,Se[Te+4]=Lt-dn;var Ye=.707106781*(Pt+Er);Se[Te+2]=Er+Ye,Se[Te+6]=Er-Ye;var ft=.382683433*((Lt=ss+Xr)-(Pt=xt+ut)),is=.5411961*Lt+ft,Xt=1.306562965*Pt+ft,Qr=.707106781*(dn=Xr+xt),Zr=ut+Qr,$e=ut-Qr;Se[Te+5]=$e+is,Se[Te+3]=$e-is,Se[Te+1]=Zr+Xt,Se[Te+7]=Zr-Xt,Te+=8}for(Te=0,Ve=0;Ve<8;++Ve){Ie=Se[Te],Ce=Se[Te+8],Be=Se[Te+16],Je=Se[Te+24],et=Se[Te+32],nt=Se[Te+40],lt=Se[Te+48];var Ir=Ie+(vt=Se[Te+56]),en=Ie-vt,lr=Ce+lt,Ht=Ce-lt,Mt=Be+nt,br=Be-nt,Ls=Je+et,hn=Je-et,Tr=Ir+Ls,Or=Ir-Ls,Fr=lr+Mt,tn=lr-Mt;Se[Te]=Tr+Fr,Se[Te+32]=Tr-Fr;var _r=.707106781*(tn+Or);Se[Te+16]=Or+_r,Se[Te+48]=Or-_r;var rn=.382683433*((Tr=hn+br)-(tn=Ht+en)),as=.5411961*Tr+rn,Ps=1.306562965*tn+rn,Cs=.707106781*(Fr=br+Ht),Es=en+Cs,Is=en-Cs;Se[Te+40]=Is+as,Se[Te+24]=Is-as,Se[Te+8]=Es+Ps,Se[Te+56]=Es-Ps,Te++}for(Ve=0;Ve<64;++Ve)st=Se[Ve]*ke[Ve],m[Ve]=st>0?st+.5|0:st-.5|0;return m}(k,M),_e=0;_e<64;++_e)_[R[_e]]=Ae[_e];var Ee=_[0]-z;z=_[0],Ee==0?W(Y[0]):(W(Y[b[ce=32767+Ee]]),W(v[ce]));for(var Re=63;Re>0&&_[Re]==0;)Re--;if(Re==0)return W(ue),z;for(var He,ve=1;ve<=Re;){for(var Z=ve;_[ve]==0&&ve<=Re;)++ve;var Xe=ve-Z;if(Xe>=16){He=Xe>>4;for(var Me=1;Me<=He;++Me)W(fe);Xe&=15}ce=32767+_[ve],W(ee[(Xe<<4)+b[ce]]),W(v[ce]),ve++}return Re!=63&&W(ue),z}function pe(k){k=Math.min(Math.max(k,1),100),s!=k&&(function(M){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ee=l((z[Y]*M+50)/100);ee=Math.min(Math.max(ee,1),255),u[R[Y]]=ee}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var fe=l((ce[ue]*M+50)/100);fe=Math.min(Math.max(fe,1),255),c[R[ue]]=fe}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,Ee=0;Ee<8;Ee++)for(var Re=0;Re<8;Re++)h[_e]=1/(u[R[_e]]*Ae[Ee]*Ae[Re]*8),p[_e]=1/(c[R[_e]]*Ae[Ee]*Ae[Re]*8),_e++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),s=k)}this.encode=function(k,M){M&&pe(M),N=new Array,j=0,x=7,Q(65496),Q(65504),Q(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),Q(1),Q(1),X(0),X(0),function(){Q(65499),Q(132),X(0);for(var Ce=0;Ce<64;Ce++)X(u[Ce]);X(1);for(var Be=0;Be<64;Be++)X(c[Be])}(),function(Ce,Be){Q(65472),Q(17),X(8),Q(Be),Q(Ce),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(k.width,k.height),function(){Q(65476),Q(418),X(0);for(var Ce=0;Ce<16;Ce++)X(I[Ce+1]);for(var Be=0;Be<=11;Be++)X(K[Be]);X(16);for(var Je=0;Je<16;Je++)X(J[Je+1]);for(var et=0;et<=161;et++)X(C[et]);X(1);for(var nt=0;nt<16;nt++)X(A[nt+1]);for(var lt=0;lt<=11;lt++)X(B[lt]);X(17);for(var vt=0;vt<16;vt++)X(U[vt+1]);for(var Ve=0;Ve<=161;Ve++)X(oe[Ve])}(),Q(65498),Q(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var z=0,Y=0,ee=0;j=0,x=7,this.encode.displayName="_encode_";for(var ce,ue,fe,Ae,_e,Ee,Re,He,ve,Z=k.data,Xe=k.width,Me=k.height,Se=4*Xe,ke=0;ke<Me;){for(ce=0;ce<Se;){for(_e=Se*ke+ce,Re=-1,He=0,ve=0;ve<64;ve++)Ee=_e+(He=ve>>3)*Se+(Re=4*(7&ve)),ke+He>=Me&&(Ee-=Se*(ke+1+He-Me)),ce+Re>=Se&&(Ee-=ce+Re-Se+4),ue=Z[Ee++],fe=Z[Ee++],Ae=Z[Ee++],w[ve]=($[ue]+$[fe+256>>0]+$[Ae+512>>0]>>16)-128,S[ve]=($[ue+768>>0]+$[fe+1024>>0]+$[Ae+1280>>0]>>16)-128,F[ve]=($[ue+1280>>0]+$[fe+1536>>0]+$[Ae+1792>>0]>>16)-128;z=ie(w,h,z,e,r),Y=ie(S,p,Y,t,i),ee=ie(F,p,ee,t,i),ce+=32}ke+=8}if(x>=0){var Ie=[];Ie[1]=x+1,Ie[0]=(1<<x+1)-1,W(Ie)}return Q(65497),new Uint8Array(N)},n=n||50,function(){for(var k=String.fromCharCode,M=0;M<256;M++)H[M]=k(M)}(),e=V(I,K),t=V(A,B),r=V(J,C),i=V(U,oe),function(){for(var k=1,M=2,z=1;z<=15;z++){for(var Y=k;Y<M;Y++)b[32767+Y]=z,v[32767+Y]=[],v[32767+Y][1]=z,v[32767+Y][0]=Y;for(var ee=-(M-1);ee<=-k;ee++)b[32767+ee]=z,v[32767+ee]=[],v[32767+ee][1]=z,v[32767+ee][0]=M-1+ee;k<<=1,M<<=1}}(),function(){for(var k=0;k<256;k++)$[k]=19595*k,$[k+256>>0]=38470*k,$[k+512>>0]=7471*k+32768,$[k+768>>0]=-11059*k,$[k+1024>>0]=-21709*k,$[k+1280>>0]=32768*k+8421375,$[k+1536>>0]=-27439*k,$[k+1792>>0]=-5329*k}(),pe(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vr(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uu(n){function e(I){if(!I)throw Error("assert :P")}function t(I,K,J){for(var C=0;4>C;C++)if(I[K+C]!=J.charCodeAt(C))return!0;return!1}function r(I,K,J,C,A){for(var B=0;B<A;B++)I[K+B]=J[C+B]}function i(I,K,J,C){for(var A=0;A<C;A++)I[K+A]=J}function s(I){return new Int32Array(I)}function l(I,K){for(var J=[],C=0;C<I;C++)J.push(new K);return J}function u(I,K){var J=[];return function C(A,B,U){for(var oe=U[B],V=0;V<oe&&(A.push(U.length>B+1?[]:new K),!(U.length<B+1));V++)C(A[V],B+1,U)}(J,0,I),J}var c=function(){var I=this;function K(o,d){for(var g=1<<d-1>>>0;o&g;)g>>>=1;return g?(o&g-1)+g:o}function J(o,d,g,y,L){e(!(y%g));do o[d+(y-=g)]=L;while(0<y)}function C(o,d,g,y,L){if(e(2328>=L),512>=L)var E=s(512);else if((E=s(L))==null)return 0;return function(T,O,D,q,re,de){var he,ae,ye=O,me=1<<D,ne=s(16),se=s(16);for(e(re!=0),e(q!=null),e(T!=null),e(0<D),ae=0;ae<re;++ae){if(15<q[ae])return 0;++ne[q[ae]]}if(ne[0]==re)return 0;for(se[1]=0,he=1;15>he;++he){if(ne[he]>1<<he)return 0;se[he+1]=se[he]+ne[he]}for(ae=0;ae<re;++ae)he=q[ae],0<q[ae]&&(de[se[he]++]=ae);if(se[15]==1)return(q=new A).g=0,q.value=de[0],J(T,ye,1,me,q),me;var be,we=-1,xe=me-1,Fe=0,Le=1,ze=1,Pe=1<<D;for(ae=0,he=1,re=2;he<=D;++he,re<<=1){if(Le+=ze<<=1,0>(ze-=ne[he]))return 0;for(;0<ne[he];--ne[he])(q=new A).g=he,q.value=de[ae++],J(T,ye+Fe,re,Pe,q),Fe=K(Fe,he)}for(he=D+1,re=2;15>=he;++he,re<<=1){if(Le+=ze<<=1,0>(ze-=ne[he]))return 0;for(;0<ne[he];--ne[he]){if(q=new A,(Fe&xe)!=we){for(ye+=Pe,be=1<<(we=he)-D;15>we&&!(0>=(be-=ne[we]));)++we,be<<=1;me+=Pe=1<<(be=we-D),T[O+(we=Fe&xe)].g=be+D,T[O+we].value=ye-O-we}q.g=he-D,q.value=de[ae++],J(T,ye+(Fe>>D),re,Pe,q),Fe=K(Fe,he)}}return Le!=2*se[15]-1?0:me}(o,d,g,y,L,E)}function A(){this.value=this.g=0}function B(){this.value=this.g=0}function U(){this.G=l(5,A),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(ur,B)}function oe(o,d,g,y){e(o!=null),e(d!=null),e(2147483648>y),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=d,o.pa=g,o.Jd=d,o.Yc=g+y,o.Zc=4<=y?g+y-4+1:g,ce(o)}function V(o,d){for(var g=0;0<d--;)g|=fe(o,128)<<d;return g}function W(o,d){var g=V(o,d);return ue(o)?-g:g}function X(o,d,g,y){var L,E=0;for(e(o!=null),e(d!=null),e(4294967288>y),o.Sb=y,o.Ra=0,o.u=0,o.h=0,4<y&&(y=4),L=0;L<y;++L)E+=d[g+L]<<8*L;o.Ra=E,o.bb=y,o.oa=d,o.pa=g}function Q(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<Gs-8>>>0,++o.bb,o.u-=8;z(o)&&(o.h=1,o.u=0)}function ie(o,d){if(e(0<=d),!o.h&&d<=Vs){var g=M(o)&Ws[d];return o.u+=d,Q(o),g}return o.h=1,o.u=0}function pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(o){return o.Ra>>>(o.u&Gs-1)>>>0}function z(o){return e(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>Gs}function Y(o,d){o.u=d,o.h=z(o)}function ee(o){o.u>=Fi&&(e(o.u>=Fi),Q(o))}function ce(o){e(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(e(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function ue(o){return V(o,1)}function fe(o,d){var g=o.Ca;0>o.b&&ce(o);var y=o.b,L=g*d>>>8,E=(o.I>>>y>L)+0;for(E?(g-=L,o.I-=L+1<<y>>>0):g=L+1,y=g,L=0;256<=y;)L+=8,y>>=8;return y=7^L+dr[y],o.b-=y,o.Ca=(g<<y)-1,E}function Ae(o,d,g){o[d+0]=g>>24&255,o[d+1]=g>>16&255,o[d+2]=g>>8&255,o[d+3]=g>>0&255}function _e(o,d){return o[d+0]<<0|o[d+1]<<8}function Ee(o,d){return _e(o,d)|o[d+2]<<16}function Re(o,d){return _e(o,d)|_e(o,d+2)<<16}function He(o,d){var g=1<<d;return e(o!=null),e(0<d),o.X=s(g),o.X==null?0:(o.Mb=32-d,o.Xa=d,1)}function ve(o,d){e(o!=null),e(d!=null),e(o.Xa==d.Xa),r(d.X,0,o.X,0,1<<d.Xa)}function Z(){this.X=[],this.Xa=this.Mb=0}function Xe(o,d,g,y){e(g!=null),e(y!=null);var L=g[0],E=y[0];return L==0&&(L=(o*E+d/2)/d),E==0&&(E=(d*L+o/2)/o),0>=L||0>=E?0:(g[0]=L,y[0]=E,1)}function Me(o,d){return o+(1<<d)-1>>>d}function Se(o,d){return((4278255360&o)+(4278255360&d)>>>0&4278255360)+((16711935&o)+(16711935&d)>>>0&16711935)>>>0}function ke(o,d){I[d]=function(g,y,L,E,T,O,D){var q;for(q=0;q<T;++q){var re=I[o](O[D+q-1],L,E+q);O[D+q]=Se(g[y+q],re)}}}function Ie(){this.ud=this.hd=this.jd=0}function Ce(o,d){return((4278124286&(o^d))>>>1)+(o&d)>>>0}function Be(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function Je(o,d){return Be(o+(o-d+.5>>1))}function et(o,d,g){return Math.abs(d-g)-Math.abs(o-g)}function nt(o,d,g,y,L,E,T){for(y=E[T-1],g=0;g<L;++g)E[T+g]=y=Se(o[d+g],y)}function lt(o,d,g,y,L){var E;for(E=0;E<g;++E){var T=o[d+E],O=T>>8&255,D=16711935&(D=(D=16711935&T)+((O<<16)+O));y[L+E]=(4278255360&T)+D>>>0}}function vt(o,d){d.jd=o>>0&255,d.hd=o>>8&255,d.ud=o>>16&255}function Ve(o,d,g,y,L,E){var T;for(T=0;T<y;++T){var O=d[g+T],D=O>>>8,q=O,re=255&(re=(re=O>>>16)+((o.jd<<24>>24)*(D<<24>>24)>>>5));q=255&(q=(q=q+((o.hd<<24>>24)*(D<<24>>24)>>>5))+((o.ud<<24>>24)*(re<<24>>24)>>>5)),L[E+T]=(4278255360&O)+(re<<16)+q}}function st(o,d,g,y,L){I[d]=function(E,T,O,D,q,re,de,he,ae){for(D=de;D<he;++D)for(de=0;de<ae;++de)q[re++]=L(O[y(E[T++])])},I[o]=function(E,T,O,D,q,re,de){var he=8>>E.b,ae=E.Ea,ye=E.K[0],me=E.w;if(8>he)for(E=(1<<E.b)-1,me=(1<<he)-1;T<O;++T){var ne,se=0;for(ne=0;ne<ae;++ne)ne&E||(se=y(D[q++])),re[de++]=L(ye[se&me]),se>>=he}else I["VP8LMapColor"+g](D,q,ye,me,re,de,T,O,ae)}}function Te(o,d,g,y,L){for(g=d+g;d<g;){var E=o[d++];y[L++]=E>>16&255,y[L++]=E>>8&255,y[L++]=E>>0&255}}function Zt(o,d,g,y,L){for(g=d+g;d<g;){var E=o[d++];y[L++]=E>>16&255,y[L++]=E>>8&255,y[L++]=E>>0&255,y[L++]=E>>24&255}}function ut(o,d,g,y,L){for(g=d+g;d<g;){var E=(T=o[d++])>>16&240|T>>12&15,T=T>>0&240|T>>28&15;y[L++]=E,y[L++]=T}}function Cr(o,d,g,y,L){for(g=d+g;d<g;){var E=(T=o[d++])>>16&248|T>>13&7,T=T>>5&224|T>>3&31;y[L++]=E,y[L++]=T}}function xt(o,d,g,y,L){for(g=d+g;d<g;){var E=o[d++];y[L++]=E>>0&255,y[L++]=E>>8&255,y[L++]=E>>16&255}}function At(o,d,g,y,L,E){if(E==0)for(g=d+g;d<g;)Ae(y,((E=o[d++])[0]>>24|E[1]>>8&65280|E[2]<<8&16711680|E[3]<<24)>>>0),L+=32;else r(y,L,o,d,g)}function Xr(o,d){I[d][0]=I[o+"0"],I[d][1]=I[o+"1"],I[d][2]=I[o+"2"],I[d][3]=I[o+"3"],I[d][4]=I[o+"4"],I[d][5]=I[o+"5"],I[d][6]=I[o+"6"],I[d][7]=I[o+"7"],I[d][8]=I[o+"8"],I[d][9]=I[o+"9"],I[d][10]=I[o+"10"],I[d][11]=I[o+"11"],I[d][12]=I[o+"12"],I[d][13]=I[o+"13"],I[d][14]=I[o+"0"],I[d][15]=I[o+"0"]}function ht(o){return o==tl||o==rl||o==Ba||o==nl}function ss(){this.eb=[],this.size=this.A=this.fb=0}function Lt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ss,this.f.kb=new Lt,this.sd=null}function dn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ye(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function ft(o,d){var g=o.T,y=d.ba.f.RGBA,L=y.eb,E=y.fb+o.ka*y.A,T=Lr[d.ba.S],O=o.y,D=o.O,q=o.f,re=o.N,de=o.ea,he=o.W,ae=d.cc,ye=d.dc,me=d.Mc,ne=d.Nc,se=o.ka,be=o.ka+o.T,we=o.U,xe=we+1>>1;for(se==0?T(O,D,null,null,q,re,de,he,q,re,de,he,L,E,null,null,we):(T(d.ec,d.fc,O,D,ae,ye,me,ne,q,re,de,he,L,E-y.A,L,E,we),++g);se+2<be;se+=2)ae=q,ye=re,me=de,ne=he,re+=o.Rc,he+=o.Rc,E+=2*y.A,T(O,(D+=2*o.fa)-o.fa,O,D,ae,ye,me,ne,q,re,de,he,L,E-y.A,L,E,we);return D+=o.fa,o.j+be<o.o?(r(d.ec,d.fc,O,D,we),r(d.cc,d.dc,q,re,xe),r(d.Mc,d.Nc,de,he,xe),g--):1&be||T(O,D,null,null,q,re,de,he,q,re,de,he,L,E+y.A,null,null,we),g}function is(o,d,g){var y=o.F,L=[o.J];if(y!=null){var E=o.U,T=d.ba.S,O=T==Ma||T==Ba;d=d.ba.f.RGBA;var D=[0],q=o.ka;D[0]=o.T,o.Kb&&(q==0?--D[0]:(--q,L[0]-=o.width),o.j+o.ka+o.T==o.o&&(D[0]=o.o-o.j-q));var re=d.eb;q=d.fb+q*d.A,o=Ta(y,L[0],o.width,E,D,re,q+(O?0:3),d.A),e(g==D),o&&ht(T)&&Dn(re,q,O,E,D,d.A)}return 0}function Xt(o){var d=o.ma,g=d.ba.S,y=11>g,L=g==Ra||g==Da||g==Ma||g==el||g==12||ht(g);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Ti(d.Oa,o,L?11:12))return 0;if(L&&ht(g)&&je(),o.da)alert("todo:use_scaling");else{if(y){if(d.Ib=Ye,o.Kb){if(g=o.U+1>>1,d.memory=s(o.U+2*g),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+o.U,d.Mc=d.cc,d.Nc=d.dc+g,d.Ib=ft,je()}}else alert("todo:EmitYUV");L&&(d.Jb=is,y&&le())}if(y&&!jc){for(o=0;256>o;++o)rh[o]=89858*(o-128)+Ua>>qa,ih[o]=-22014*(o-128)+Ua,sh[o]=-45773*(o-128),nh[o]=113618*(o-128)+Ua>>qa;for(o=Ui;o<al;++o)d=76283*(o-16)+Ua>>qa,ah[o-Ui]=xr(d,255),oh[o-Ui]=xr(d+8>>4,15);jc=1}return 1}function Qr(o){var d=o.ma,g=o.U,y=o.T;return e(!(1&o.ka)),0>=g||0>=y?0:(g=d.Ib(o,d),d.Jb!=null&&d.Jb(o,d,g),d.Dc+=g,1)}function Zr(o){o.ma.memory=null}function $e(o,d,g,y){return ie(o,8)!=47?0:(d[0]=ie(o,14)+1,g[0]=ie(o,14)+1,y[0]=ie(o,1),ie(o,3)!=0?0:!o.h)}function Ir(o,d){if(4>o)return o+1;var g=o-2>>1;return(2+(1&o)<<g)+ie(d,g)+1}function en(o,d){return 120<d?d-120:1<=(g=((g=zd[d-1])>>4)*o+(8-(15&g)))?g:1;var g}function lr(o,d,g){var y=M(g),L=o[d+=255&y].g-8;return 0<L&&(Y(g,g.u+8),y=M(g),d+=o[d].value,d+=y&(1<<L)-1),Y(g,g.u+o[d].g),o[d].value}function Ht(o,d,g){return g.g+=o.g,g.value+=o.value<<d>>>0,e(8>=g.g),o.g}function Mt(o,d,g){var y=o.xc;return e((d=y==0?0:o.vc[o.md*(g>>y)+(d>>y)])<o.Wb),o.Ya[d]}function br(o,d,g,y){var L=o.ab,E=o.c*d,T=o.C;d=T+d;var O=g,D=y;for(y=o.Ta,g=o.Ua;0<L--;){var q=o.gc[L],re=T,de=d,he=O,ae=D,ye=(D=y,O=g,q.Ea);switch(e(re<de),e(de<=q.nc),q.hc){case 2:Ia(he,ae,(de-re)*ye,D,O);break;case 0:var me=re,ne=de,se=D,be=O,we=(Pe=q).Ea;me==0&&(Ko(he,ae,null,null,1,se,be),nt(he,ae+1,0,0,we-1,se,be+1),ae+=we,be+=we,++me);for(var xe=1<<Pe.b,Fe=xe-1,Le=Me(we,Pe.b),ze=Pe.K,Pe=Pe.w+(me>>Pe.b)*Le;me<ne;){var dt=ze,pt=Pe,ct=1;for(Ri(he,ae,se,be-we,1,se,be);ct<we;){var it=(ct&~Fe)+xe;it>we&&(it=we),(0,Tn[dt[pt++]>>8&15])(he,ae+ +ct,se,be+ct-we,it-ct,se,be+ct),ct=it}ae+=we,be+=we,++me&Fe||(Pe+=Le)}de!=q.nc&&r(D,O-ye,D,O+(de-re-1)*ye,ye);break;case 1:for(ye=he,ne=ae,we=(he=q.Ea)-(be=he&~(se=(ae=1<<q.b)-1)),me=Me(he,q.b),xe=q.K,q=q.w+(re>>q.b)*me;re<de;){for(Fe=xe,Le=q,ze=new Ie,Pe=ne+be,dt=ne+he;ne<Pe;)vt(Fe[Le++],ze),Sr(ze,ye,ne,ae,D,O),ne+=ae,O+=ae;ne<dt&&(vt(Fe[Le++],ze),Sr(ze,ye,ne,we,D,O),ne+=we,O+=we),++re&se||(q+=me)}break;case 3:if(he==D&&ae==O&&0<q.b){for(ne=D,he=ye=O+(de-re)*ye-(be=(de-re)*Me(q.Ea,q.b)),ae=D,se=O,me=[],be=(we=be)-1;0<=be;--be)me[be]=ae[se+be];for(be=we-1;0<=be;--be)ne[he+be]=me[be];Br(q,re,de,D,ye,D,O)}else Br(q,re,de,he,ae,D,O)}O=y,D=g}D!=g&&r(y,g,O,D,E)}function Ls(o,d){var g=o.V,y=o.Ba+o.c*o.C,L=d-o.C;if(e(d<=o.l.o),e(16>=L),0<L){var E=o.l,T=o.Ta,O=o.Ua,D=E.width;if(br(o,L,g,y),L=O=[O],e((g=o.C)<(y=d)),e(E.v<E.va),y>E.o&&(y=E.o),g<E.j){var q=E.j-g;g=E.j,L[0]+=q*D}if(g>=y?g=0:(L[0]+=4*E.v,E.ka=g-E.j,E.U=E.va-E.v,E.T=y-g,g=1),g){if(O=O[0],11>(g=o.ca).S){var re=g.f.RGBA,de=(y=g.S,L=E.U,E=E.T,q=re.eb,re.A),he=E;for(re=re.fb+o.Ma*re.A;0<he--;){var ae=T,ye=O,me=L,ne=q,se=re;switch(y){case Fa:qr(ae,ye,me,ne,se);break;case Ra:On(ae,ye,me,ne,se);break;case tl:On(ae,ye,me,ne,se),Dn(ne,se,0,me,1,0);break;case fc:Js(ae,ye,me,ne,se);break;case Da:At(ae,ye,me,ne,se,1);break;case rl:At(ae,ye,me,ne,se,1),Dn(ne,se,0,me,1,0);break;case Ma:At(ae,ye,me,ne,se,0);break;case Ba:At(ae,ye,me,ne,se,0),Dn(ne,se,1,me,1,0);break;case el:sn(ae,ye,me,ne,se);break;case nl:sn(ae,ye,me,ne,se),Xs(ne,se,me,1,0);break;case pc:gn(ae,ye,me,ne,se);break;default:e(0)}O+=D,re+=de}o.Ma+=E}else alert("todo:EmitRescaledRowsYUVA");e(o.Ma<=g.height)}}o.C=d,e(o.C<=o.i)}function hn(o){var d;if(0<o.ua)return 0;for(d=0;d<o.Wb;++d){var g=o.Ya[d].G,y=o.Ya[d].H;if(0<g[1][y[1]+0].g||0<g[2][y[2]+0].g||0<g[3][y[3]+0].g)return 0}return 1}function Tr(o,d,g,y,L,E){if(o.Z!=0){var T=o.qd,O=o.rd;for(e(Bn[o.Z]!=null);d<g;++d)Bn[o.Z](T,O,y,L,y,L,E),T=y,O=L,L+=E;o.qd=T,o.rd=O}}function Or(o,d){var g=o.l.ma,y=g.Z==0||g.Z==1?o.l.j:o.C;if(y=o.C<y?y:o.C,e(d<=o.l.o),d>y){var L=o.l.width,E=g.ca,T=g.tb+L*y,O=o.V,D=o.Ba+o.c*y,q=o.gc;e(o.ab==1),e(q[0].hc==3),Xo(q[0],y,d,O,D,E,T),Tr(g,y,d,E,T,L)}o.C=o.Ma=d}function Fr(o,d,g,y,L,E,T){var O=o.$/y,D=o.$%y,q=o.m,re=o.s,de=g+o.$,he=de;L=g+y*L;var ae=g+y*E,ye=280+re.ua,me=o.Pb?O:16777216,ne=0<re.ua?re.Wa:null,se=re.wc,be=de<ae?Mt(re,D,O):null;e(o.C<E),e(ae<=L);var we=!1;e:for(;;){for(;we||de<ae;){var xe=0;if(O>=me){var Fe=de-g;e((me=o).Pb),me.wd=me.m,me.xd=Fe,0<me.s.ua&&ve(me.s.Wa,me.s.vb),me=O+Hd}if(D&se||(be=Mt(re,D,O)),e(be!=null),be.Qb&&(d[de]=be.qb,we=!0),!we)if(ee(q),be.jc){xe=q,Fe=d;var Le=de,ze=be.pd[M(xe)&ur-1];e(be.jc),256>ze.g?(Y(xe,xe.u+ze.g),Fe[Le]=ze.value,xe=0):(Y(xe,xe.u+ze.g-256),e(256<=ze.value),xe=ze.value),xe==0&&(we=!0)}else xe=lr(be.G[0],be.H[0],q);if(q.h)break;if(we||256>xe){if(!we)if(be.nd)d[de]=(be.qb|xe<<8)>>>0;else{if(ee(q),we=lr(be.G[1],be.H[1],q),ee(q),Fe=lr(be.G[2],be.H[2],q),Le=lr(be.G[3],be.H[3],q),q.h)break;d[de]=(Le<<24|we<<16|xe<<8|Fe)>>>0}if(we=!1,++de,++D>=y&&(D=0,++O,T!=null&&O<=E&&!(O%16)&&T(o,O),ne!=null))for(;he<de;)xe=d[he++],ne.X[(506832829*xe&4294967295)>>>ne.Mb]=xe}else if(280>xe){if(xe=Ir(xe-256,q),Fe=lr(be.G[4],be.H[4],q),ee(q),Fe=en(y,Fe=Ir(Fe,q)),q.h)break;if(de-g<Fe||L-de<xe)break e;for(Le=0;Le<xe;++Le)d[de+Le]=d[de+Le-Fe];for(de+=xe,D+=xe;D>=y;)D-=y,++O,T!=null&&O<=E&&!(O%16)&&T(o,O);if(e(de<=L),D&se&&(be=Mt(re,D,O)),ne!=null)for(;he<de;)xe=d[he++],ne.X[(506832829*xe&4294967295)>>>ne.Mb]=xe}else{if(!(xe<ye))break e;for(we=xe-280,e(ne!=null);he<de;)xe=d[he++],ne.X[(506832829*xe&4294967295)>>>ne.Mb]=xe;xe=de,e(!(we>>>(Fe=ne).Xa)),d[xe]=Fe.X[we],we=!0}we||e(q.h==z(q))}if(o.Pb&&q.h&&de<L)e(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&ve(o.s.vb,o.s.Wa);else{if(q.h)break e;T!=null&&T(o,O>E?E:O),o.a=0,o.$=de-g}return 1}return o.a=3,0}function tn(o){e(o!=null),o.vc=null,o.yc=null,o.Ya=null;var d=o.Wa;d!=null&&(d.X=null),o.vb=null,e(o!=null)}function _r(){var o=new Yo;return o==null?null:(o.a=0,o.xb=vc,Xr("Predictor","VP8LPredictors"),Xr("Predictor","VP8LPredictors_C"),Xr("PredictorAdd","VP8LPredictorsAdd"),Xr("PredictorAdd","VP8LPredictorsAdd_C"),Ia=lt,Sr=Ve,qr=Te,On=Zt,sn=ut,gn=Cr,Js=xt,I.VP8LMapColor32b=Di,I.VP8LMapColor8b=Qo,o)}function rn(o,d,g,y,L){var E=1,T=[o],O=[d],D=y.m,q=y.s,re=null,de=0;e:for(;;){if(g)for(;E&&ie(D,1);){var he=T,ae=O,ye=y,me=1,ne=ye.m,se=ye.gc[ye.ab],be=ie(ne,2);if(ye.Oc&1<<be)E=0;else{switch(ye.Oc|=1<<be,se.hc=be,se.Ea=he[0],se.nc=ae[0],se.K=[null],++ye.ab,e(4>=ye.ab),be){case 0:case 1:se.b=ie(ne,3)+2,me=rn(Me(se.Ea,se.b),Me(se.nc,se.b),0,ye,se.K),se.K=se.K[0];break;case 3:var we,xe=ie(ne,8)+1,Fe=16<xe?0:4<xe?1:2<xe?2:3;if(he[0]=Me(se.Ea,Fe),se.b=Fe,we=me=rn(xe,1,0,ye,se.K)){var Le,ze=xe,Pe=se,dt=1<<(8>>Pe.b),pt=s(dt);if(pt==null)we=0;else{var ct=Pe.K[0],it=Pe.w;for(pt[0]=Pe.K[0][0],Le=1;Le<1*ze;++Le)pt[Le]=Se(ct[it+Le],pt[Le-1]);for(;Le<4*dt;++Le)pt[Le]=0;Pe.K[0]=null,Pe.K[0]=pt,we=1}}me=we;break;case 2:break;default:e(0)}E=me}}if(T=T[0],O=O[0],E&&ie(D,1)&&!(E=1<=(de=ie(D,4))&&11>=de)){y.a=3;break e}var yt;if(yt=E)t:{var bt,Ze,qt,hr=y,Ut=T,fr=O,mt=de,wr=g,Nr=hr.m,Jt=hr.s,Qt=[null],ar=1,Pr=0,an=$d[mt];r:for(;;){if(wr&&ie(Nr,1)){var Yt=ie(Nr,3)+2,wn=Me(Ut,Yt),fs=Me(fr,Yt),Qs=wn*fs;if(!rn(wn,fs,0,hr,Qt))break r;for(Qt=Qt[0],Jt.xc=Yt,bt=0;bt<Qs;++bt){var qn=Qt[bt]>>8&65535;Qt[bt]=qn,qn>=ar&&(ar=qn+1)}}if(Nr.h)break r;for(Ze=0;5>Ze;++Ze){var Et=mc[Ze];!Ze&&0<mt&&(Et+=1<<mt),Pr<Et&&(Pr=Et)}var ol=l(ar*an,A),Ac=ar,kc=l(Ac,U);if(kc==null)var $a=null;else e(65536>=Ac),$a=kc;var zi=s(Pr);if($a==null||zi==null||ol==null){hr.a=1;break r}var Ha=ol;for(bt=qt=0;bt<ar;++bt){var Hr=$a[bt],Zs=Hr.G,ei=Hr.H,Lc=0,Wa=1,Pc=0;for(Ze=0;5>Ze;++Ze){Et=mc[Ze],Zs[Ze]=Ha,ei[Ze]=qt,!Ze&&0<mt&&(Et+=1<<mt);s:{var Va,ll=Et,Ga=hr,$i=zi,uh=Ha,dh=qt,cl=0,Un=Ga.m,hh=ie(Un,1);if(i($i,0,0,ll),hh){var fh=ie(Un,1)+1,ph=ie(Un,1),Cc=ie(Un,ph==0?1:8);$i[Cc]=1,fh==2&&($i[Cc=ie(Un,8)]=1);var Ja=1}else{var Ec=s(19),Ic=ie(Un,4)+4;if(19<Ic){Ga.a=3;var Ya=0;break s}for(Va=0;Va<Ic;++Va)Ec[Ud[Va]]=ie(Un,3);var ul=void 0,Hi=void 0,Tc=Ga,mh=Ec,Ka=ll,Oc=$i,dl=0,zn=Tc.m,Fc=8,Rc=l(128,A);n:for(;C(Rc,0,7,mh,19);){if(ie(zn,1)){var gh=2+2*ie(zn,3);if((ul=2+ie(zn,gh))>Ka)break n}else ul=Ka;for(Hi=0;Hi<Ka&&ul--;){ee(zn);var Dc=Rc[0+(127&M(zn))];Y(zn,zn.u+Dc.g);var ti=Dc.value;if(16>ti)Oc[Hi++]=ti,ti!=0&&(Fc=ti);else{var vh=ti==16,Mc=ti-16,bh=Bd[Mc],Bc=ie(zn,Md[Mc])+bh;if(Hi+Bc>Ka)break n;for(var xh=vh?Fc:0;0<Bc--;)Oc[Hi++]=xh}}dl=1;break n}dl||(Tc.a=3),Ja=dl}(Ja=Ja&&!Un.h)&&(cl=C(uh,dh,8,$i,ll)),Ja&&cl!=0?Ya=cl:(Ga.a=3,Ya=0)}if(Ya==0)break r;if(Wa&&qd[Ze]==1&&(Wa=Ha[qt].g==0),Lc+=Ha[qt].g,qt+=Ya,3>=Ze){var Wi,hl=zi[0];for(Wi=1;Wi<Et;++Wi)zi[Wi]>hl&&(hl=zi[Wi]);Pc+=hl}}if(Hr.nd=Wa,Hr.Qb=0,Wa&&(Hr.qb=(Zs[3][ei[3]+0].value<<24|Zs[1][ei[1]+0].value<<16|Zs[2][ei[2]+0].value)>>>0,Lc==0&&256>Zs[0][ei[0]+0].value&&(Hr.Qb=1,Hr.qb+=Zs[0][ei[0]+0].value<<8)),Hr.jc=!Hr.Qb&&6>Pc,Hr.jc){var Xa,Nn=Hr;for(Xa=0;Xa<ur;++Xa){var $n=Xa,Hn=Nn.pd[$n],Qa=Nn.G[0][Nn.H[0]+$n];256<=Qa.value?(Hn.g=Qa.g+256,Hn.value=Qa.value):(Hn.g=0,Hn.value=0,$n>>=Ht(Qa,8,Hn),$n>>=Ht(Nn.G[1][Nn.H[1]+$n],16,Hn),$n>>=Ht(Nn.G[2][Nn.H[2]+$n],0,Hn),Ht(Nn.G[3][Nn.H[3]+$n],24,Hn))}}}Jt.vc=Qt,Jt.Wb=ar,Jt.Ya=$a,Jt.yc=ol,yt=1;break t}yt=0}if(!(E=yt)){y.a=3;break e}if(0<de){if(q.ua=1<<de,!He(q.Wa,de)){y.a=1,E=0;break e}}else q.ua=0;var fl=y,qc=T,yh=O,pl=fl.s,ml=pl.xc;if(fl.c=qc,fl.i=yh,pl.md=Me(qc,ml),pl.wc=ml==0?-1:(1<<ml)-1,g){y.xb=Xd;break e}if((re=s(T*O))==null){y.a=1,E=0;break e}E=(E=Fr(y,re,0,T,O,O,null))&&!D.h;break e}return E?(L!=null?L[0]=re:(e(re==null),e(g)),y.$=0,g||tn(q)):tn(q),E}function as(o,d){var g=o.c*o.i,y=g+d+16*d;return e(o.c<=d),o.V=s(y),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+g+d,1)}function Ps(o,d){var g=o.C,y=d-g,L=o.V,E=o.Ba+o.c*g;for(e(d<=o.l.o);0<y;){var T=16<y?16:y,O=o.l.ma,D=o.l.width,q=D*T,re=O.ca,de=O.tb+D*g,he=o.Ta,ae=o.Ua;br(o,T,L,E),oc(he,ae,re,de,q),Tr(O,g,g+T,re,de,D),y-=T,L+=T*o.c,g+=T}e(g==d),o.C=o.Ma=d}function Cs(){this.ub=this.yd=this.td=this.Rb=0}function Es(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Is(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function ha(){this.Yb=function(){var o=[];return function d(g,y,L){for(var E=L[y],T=0;T<E&&(g.push(L.length>y+1?[]:0),!(L.length<y+1));T++)d(g[T],y+1,L)}(o,0,[3,11]),o}()}function Ao(){this.jb=s(3),this.Wc=u([4,8],ha),this.Xc=u([4,17],ha)}function ko(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ts(){this.ld=this.La=this.dd=this.tc=0}function fa(){this.Na=this.la=0}function Lo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Po(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ts),this.Y=0,this.ya=Array(new vi),this.aa=0,this.l=new Os}function pa(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Co(){this.cb=this.a=0,this.sc="",this.m=new pe,this.Od=new Cs,this.Kc=new Es,this.ed=new ko,this.Qa=new Is,this.Ic=this.$c=this.Aa=0,this.D=new Po,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,pe),this.ia=0,this.pb=l(4,Lo),this.Pa=new Ao,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pa),this.Hd=0,this.rb=Array(new fa),this.sb=0,this.wa=Array(new Ts),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vi),this.L=this.aa=0,this.gd=u([4,2],Ts),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Os(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Eo(){var o=new Co;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,qi||(qi=va)),o}function Tt(o,d,g){return o.a==0&&(o.a=d,o.sc=g,o.cb=0),0}function ma(o,d,g){return 3<=g&&o[d+0]==157&&o[d+1]==1&&o[d+2]==42}function ga(o,d){if(o==null)return 0;if(o.a=0,o.sc="OK",d==null)return Tt(o,2,"null VP8Io passed to VP8GetHeaders()");var g=d.data,y=d.w,L=d.ha;if(4>L)return Tt(o,7,"Truncated header.");var E=g[y+0]|g[y+1]<<8|g[y+2]<<16,T=o.Od;if(T.Rb=!(1&E),T.td=E>>1&7,T.yd=E>>4&1,T.ub=E>>5,3<T.td)return Tt(o,3,"Incorrect keyframe parameters.");if(!T.yd)return Tt(o,4,"Frame not displayable.");y+=3,L-=3;var O=o.Kc;if(T.Rb){if(7>L)return Tt(o,7,"cannot parse picture header");if(!ma(g,y,L))return Tt(o,3,"Bad code word");O.c=16383&(g[y+4]<<8|g[y+3]),O.Td=g[y+4]>>6,O.i=16383&(g[y+6]<<8|g[y+5]),O.Ud=g[y+6]>>6,y+=7,L-=7,o.za=O.c+15>>4,o.Ub=O.i+15>>4,d.width=O.c,d.height=O.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((E=o.Pa).jb,0,255,E.jb.length),e((E=o.Qa)!=null),E.Cb=0,E.Bb=0,E.Fb=1,i(E.Zb,0,0,E.Zb.length),i(E.Lb,0,0,E.Lb)}if(T.ub>L)return Tt(o,7,"bad partition length");oe(E=o.m,g,y,T.ub),y+=T.ub,L-=T.ub,T.Rb&&(O.Ld=ue(E),O.Kd=ue(E)),O=o.Qa;var D,q=o.Pa;if(e(E!=null),e(O!=null),O.Cb=ue(E),O.Cb){if(O.Bb=ue(E),ue(E)){for(O.Fb=ue(E),D=0;4>D;++D)O.Zb[D]=ue(E)?W(E,7):0;for(D=0;4>D;++D)O.Lb[D]=ue(E)?W(E,6):0}if(O.Bb)for(D=0;3>D;++D)q.jb[D]=ue(E)?V(E,8):255}else O.Bb=0;if(E.Ka)return Tt(o,3,"cannot parse segment header");if((O=o.ed).zd=ue(E),O.Tb=V(E,6),O.wb=V(E,3),O.Pc=ue(E),O.Pc&&ue(E)){for(q=0;4>q;++q)ue(E)&&(O.vd[q]=W(E,6));for(q=0;4>q;++q)ue(E)&&(O.od[q]=W(E,6))}if(o.L=O.Tb==0?0:O.zd?1:2,E.Ka)return Tt(o,3,"cannot parse filter header");var re=L;if(L=D=y,y=D+re,O=re,o.Xb=(1<<V(o.m,2))-1,re<3*(q=o.Xb))g=7;else{for(D+=3*q,O-=3*q,re=0;re<q;++re){var de=g[L+0]|g[L+1]<<8|g[L+2]<<16;de>O&&(de=O),oe(o.Jc[+re],g,D,de),D+=de,O-=de,L+=3}oe(o.Jc[+q],g,D,O),g=D<y?0:5}if(g!=0)return Tt(o,g,"cannot parse partitions");for(g=V(D=o.m,7),L=ue(D)?W(D,4):0,y=ue(D)?W(D,4):0,O=ue(D)?W(D,4):0,q=ue(D)?W(D,4):0,D=ue(D)?W(D,4):0,re=o.Qa,de=0;4>de;++de){if(re.Cb){var he=re.Zb[de];re.Fb||(he+=g)}else{if(0<de){o.pb[de]=o.pb[0];continue}he=g}var ae=o.pb[de];ae.Sc[0]=sl[xr(he+L,127)],ae.Sc[1]=il[xr(he+0,127)],ae.Eb[0]=2*sl[xr(he+y,127)],ae.Eb[1]=101581*il[xr(he+O,127)]>>16,8>ae.Eb[1]&&(ae.Eb[1]=8),ae.Qc[0]=sl[xr(he+q,117)],ae.Qc[1]=il[xr(he+D,127)],ae.lc=he+D}if(!T.Rb)return Tt(o,4,"Not a key frame.");for(ue(E),T=o.Pa,g=0;4>g;++g){for(L=0;8>L;++L)for(y=0;3>y;++y)for(O=0;11>O;++O)q=fe(E,Yd[g][L][y][O])?V(E,8):Gd[g][L][y][O],T.Wc[g][L].Yb[y][O]=q;for(L=0;17>L;++L)T.Xc[g][L]=T.Wc[g][Kd[L]]}return o.kc=ue(E),o.kc&&(o.Bd=V(E,8)),o.cb=1}function va(o,d,g,y,L,E,T){var O=d[L].Yb[g];for(g=0;16>L;++L){if(!fe(o,O[g+0]))return L;for(;!fe(o,O[g+1]);)if(O=d[++L].Yb[0],g=0,L==16)return 16;var D=d[L+1].Yb;if(fe(o,O[g+2])){var q=o,re=0;if(fe(q,(he=O)[(de=g)+3]))if(fe(q,he[de+6])){for(O=0,de=2*(re=fe(q,he[de+8]))+(he=fe(q,he[de+9+re])),re=0,he=Wd[de];he[O];++O)re+=re+fe(q,he[O]);re+=3+(8<<de)}else fe(q,he[de+7])?(re=7+2*fe(q,165),re+=fe(q,145)):re=5+fe(q,159);else re=fe(q,he[de+4])?3+fe(q,he[de+5]):2;O=D[2]}else re=1,O=D[1];D=T+Vd[L],0>(q=o).b&&ce(q);var de,he=q.b,ae=(de=q.Ca>>1)-(q.I>>he)>>31;--q.b,q.Ca+=ae,q.Ca|=1,q.I-=(de+1&ae)<<he,E[D]=((re^ae)-ae)*y[(0<L)+0]}return 16}function bi(o){var d=o.rb[o.sb-1];d.la=0,d.Na=0,i(o.zc,0,0,o.zc.length),o.ja=0}function Io(o,d){if(o==null)return 0;if(d==null)return Tt(o,2,"NULL VP8Io parameter in VP8Decode().");if(!o.cb&&!ga(o,d))return 0;if(e(o.cb),d.ac==null||d.ac(d)){d.ob&&(o.L=0);var g=za[o.L];if(o.L==2?(o.yb=0,o.zb=0):(o.yb=d.v-g>>4,o.zb=d.j-g>>4,0>o.yb&&(o.yb=0),0>o.zb&&(o.zb=0)),o.Va=d.o+15+g>>4,o.Hb=d.va+15+g>>4,o.Hb>o.za&&(o.Hb=o.za),o.Va>o.Ub&&(o.Va=o.Ub),0<o.L){var y=o.ed;for(g=0;4>g;++g){var L;if(o.Qa.Cb){var E=o.Qa.Lb[g];o.Qa.Fb||(E+=y.Tb)}else E=y.Tb;for(L=0;1>=L;++L){var T=o.gd[g][L],O=E;if(y.Pc&&(O+=y.vd[0],L&&(O+=y.od[0])),0<(O=0>O?0:63<O?63:O)){var D=O;0<y.wb&&(D=4<y.wb?D>>2:D>>1)>9-y.wb&&(D=9-y.wb),1>D&&(D=1),T.dd=D,T.tc=2*O+D,T.ld=40<=O?2:15<=O?1:0}else T.tc=0;T.La=L}}}g=0}else Tt(o,6,"Frame setup failed"),g=o.a;if(g=g==0){if(g){o.$c=0,0<o.Aa||(o.Ic=ch);e:{g=o.Ic,y=4*(D=o.za);var q=32*D,re=D+1,de=0<o.L?D*(0<o.Aa?2:1):0,he=(o.Aa==2?2:1)*D;if((T=y+832+(L=3*(16*g+za[o.L])/2*q)+(E=o.Fa!=null&&0<o.Fa.length?o.Kc.c*o.Kc.i:0))!=T)g=0;else{if(T>o.Vb){if(o.Vb=0,o.Ec=s(T),o.Fc=0,o.Ec==null){g=Tt(o,1,"no memory during frame initialization.");break e}o.Vb=T}T=o.Ec,O=o.Fc,o.Ac=T,o.Bc=O,O+=y,o.Gd=l(q,pa),o.Hd=0,o.rb=l(re+1,fa),o.sb=1,o.wa=de?l(de,Ts):null,o.Y=0,o.D.Nb=0,o.D.wa=o.wa,o.D.Y=o.Y,0<o.Aa&&(o.D.Y+=D),e(!0),o.oc=T,o.pc=O,O+=832,o.ya=l(he,vi),o.aa=0,o.D.ya=o.ya,o.D.aa=o.aa,o.Aa==2&&(o.D.aa+=D),o.R=16*D,o.B=8*D,D=(q=za[o.L])*o.R,q=q/2*o.B,o.sa=T,o.ta=O+D,o.qa=o.sa,o.ra=o.ta+16*g*o.R+q,o.Ha=o.qa,o.Ia=o.ra+8*g*o.B+q,o.$c=0,O+=L,o.mb=E?T:null,o.nb=E?O:null,e(O+E<=o.Fc+o.Vb),bi(o),i(o.Ac,o.Bc,0,y),g=1}}if(g){if(d.ka=0,d.y=o.sa,d.O=o.ta,d.f=o.qa,d.N=o.ra,d.ea=o.Ha,d.Vd=o.Ia,d.fa=o.R,d.Rc=o.B,d.F=null,d.J=0,!hc){for(g=-255;255>=g;++g)lc[255+g]=0>g?-g:g;for(g=-1020;1020>=g;++g)cc[1020+g]=-128>g?-128:127<g?127:g;for(g=-112;112>=g;++g)uc[112+g]=-16>g?-16:15<g?15:g;for(g=-255;510>=g;++g)dc[255+g]=0>g?0:255<g?255:g;hc=1}Ur=Fo,Ys=To,Fn=xa,zr=Oo,vn=ya,Mi=ba,ds=_i,Ks=cs,hs=Jo,Rn=Si,Bi=Go,Ar=qs,bn=Ai,Nt=Pa,jt=La,Ot=pn,Wt=Cn,xn=Vo,$r[0]=nn,$r[1]=Ro,$r[2]=qo,$r[3]=Uo,$r[4]=ja,$r[5]=Ms,$r[6]=_a,$r[7]=wi,$r[8]=$o,$r[9]=zo,Mn[0]=wa,Mn[1]=Mo,Mn[2]=fn,Mn[3]=Rs,Mn[4]=er,Mn[5]=Bo,Mn[6]=Na,yn[0]=Pn,yn[1]=Do,yn[2]=Ho,yn[3]=Ni,yn[4]=ls,yn[5]=Wo,yn[6]=ji,g=1}else g=0}g&&(g=function(ae,ye){for(ae.M=0;ae.M<ae.Va;++ae.M){var me,ne=ae.Jc[ae.M&ae.Xb],se=ae.m,be=ae;for(me=0;me<be.za;++me){var we=se,xe=be,Fe=xe.Ac,Le=xe.Bc+4*me,ze=xe.zc,Pe=xe.ya[xe.aa+me];if(xe.Qa.Bb?Pe.$b=fe(we,xe.Pa.jb[0])?2+fe(we,xe.Pa.jb[2]):fe(we,xe.Pa.jb[1]):Pe.$b=0,xe.kc&&(Pe.Ad=fe(we,xe.Bd)),Pe.Za=!fe(we,145)+0,Pe.Za){var dt=Pe.Ob,pt=0;for(xe=0;4>xe;++xe){var ct,it=ze[0+xe];for(ct=0;4>ct;++ct){it=Jd[Fe[Le+ct]][it];for(var yt=gc[fe(we,it[0])];0<yt;)yt=gc[2*yt+fe(we,it[yt])];it=-yt,Fe[Le+ct]=it}r(dt,pt,Fe,Le,4),pt+=4,ze[0+xe]=it}}else it=fe(we,156)?fe(we,128)?1:3:fe(we,163)?2:0,Pe.Ob[0]=it,i(Fe,Le,it,4),i(ze,0,it,4);Pe.Dd=fe(we,142)?fe(we,114)?fe(we,183)?1:3:2:0}if(be.m.Ka)return Tt(ae,7,"Premature end-of-partition0 encountered.");for(;ae.ja<ae.za;++ae.ja){if(be=ne,we=(se=ae).rb[se.sb-1],Fe=se.rb[se.sb+se.ja],me=se.ya[se.aa+se.ja],Le=se.kc?me.Ad:0)we.la=Fe.la=0,me.Za||(we.Na=Fe.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var bt,Ze;if(we=Fe,Fe=be,Le=se.Pa.Xc,ze=se.ya[se.aa+se.ja],Pe=se.pb[ze.$b],xe=ze.ad,dt=0,pt=se.rb[se.sb-1],it=ct=0,i(xe,dt,0,384),ze.Za)var qt=0,hr=Le[3];else{yt=s(16);var Ut=we.Na+pt.Na;if(Ut=qi(Fe,Le[1],Ut,Pe.Eb,0,yt,0),we.Na=pt.Na=(0<Ut)+0,1<Ut)Ur(yt,0,xe,dt);else{var fr=yt[0]+3>>3;for(yt=0;256>yt;yt+=16)xe[dt+yt]=fr}qt=1,hr=Le[0]}var mt=15&we.la,wr=15&pt.la;for(yt=0;4>yt;++yt){var Nr=1&wr;for(fr=Ze=0;4>fr;++fr)mt=mt>>1|(Nr=(Ut=qi(Fe,hr,Ut=Nr+(1&mt),Pe.Sc,qt,xe,dt))>qt)<<7,Ze=Ze<<2|(3<Ut?3:1<Ut?2:xe[dt+0]!=0),dt+=16;mt>>=4,wr=wr>>1|Nr<<7,ct=(ct<<8|Ze)>>>0}for(hr=mt,qt=wr>>4,bt=0;4>bt;bt+=2){for(Ze=0,mt=we.la>>4+bt,wr=pt.la>>4+bt,yt=0;2>yt;++yt){for(Nr=1&wr,fr=0;2>fr;++fr)Ut=Nr+(1&mt),mt=mt>>1|(Nr=0<(Ut=qi(Fe,Le[2],Ut,Pe.Qc,0,xe,dt)))<<3,Ze=Ze<<2|(3<Ut?3:1<Ut?2:xe[dt+0]!=0),dt+=16;mt>>=2,wr=wr>>1|Nr<<5}it|=Ze<<4*bt,hr|=mt<<4<<bt,qt|=(240&wr)<<bt}we.la=hr,pt.la=qt,ze.Hc=ct,ze.Gc=it,ze.ia=43690&it?0:Pe.ia,Le=!(ct|it)}if(0<se.L&&(se.wa[se.Y+se.ja]=se.gd[me.$b][me.Za],se.wa[se.Y+se.ja].La|=!Le),be.Ka)return Tt(ae,7,"Premature end-of-file encountered.")}if(bi(ae),se=ye,be=1,me=(ne=ae).D,we=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(me.M=ne.M,me.uc=we,Ii(ne,me),be=1,me=(Ze=ne.D).Nb,we=(it=za[ne.L])*ne.R,Fe=it/2*ne.B,yt=16*me*ne.R,fr=8*me*ne.B,Le=ne.sa,ze=ne.ta-we+yt,Pe=ne.qa,xe=ne.ra-Fe+fr,dt=ne.Ha,pt=ne.Ia-Fe+fr,wr=(mt=Ze.M)==0,ct=mt>=ne.Va-1,ne.Aa==2&&Ii(ne,Ze),Ze.uc)for(Nr=(Ut=ne).D.M,e(Ut.D.uc),Ze=Ut.yb;Ze<Ut.Hb;++Ze){qt=Ze,hr=Nr;var Jt=(Qt=(Et=Ut).D).Nb;bt=Et.R;var Qt=Qt.wa[Qt.Y+qt],ar=Et.sa,Pr=Et.ta+16*Jt*bt+16*qt,an=Qt.dd,Yt=Qt.tc;if(Yt!=0)if(e(3<=Yt),Et.L==1)0<qt&&Ot(ar,Pr,bt,Yt+4),Qt.La&&xn(ar,Pr,bt,Yt),0<hr&&jt(ar,Pr,bt,Yt+4),Qt.La&&Wt(ar,Pr,bt,Yt);else{var wn=Et.B,fs=Et.qa,Qs=Et.ra+8*Jt*wn+8*qt,qn=Et.Ha,Et=Et.Ia+8*Jt*wn+8*qt;Jt=Qt.ld,0<qt&&(Ks(ar,Pr,bt,Yt+4,an,Jt),Rn(fs,Qs,qn,Et,wn,Yt+4,an,Jt)),Qt.La&&(Ar(ar,Pr,bt,Yt,an,Jt),Nt(fs,Qs,qn,Et,wn,Yt,an,Jt)),0<hr&&(ds(ar,Pr,bt,Yt+4,an,Jt),hs(fs,Qs,qn,Et,wn,Yt+4,an,Jt)),Qt.La&&(Bi(ar,Pr,bt,Yt,an,Jt),bn(fs,Qs,qn,Et,wn,Yt,an,Jt))}}if(ne.ia&&alert("todo:DitherRow"),se.put!=null){if(Ze=16*mt,mt=16*(mt+1),wr?(se.y=ne.sa,se.O=ne.ta+yt,se.f=ne.qa,se.N=ne.ra+fr,se.ea=ne.Ha,se.W=ne.Ia+fr):(Ze-=it,se.y=Le,se.O=ze,se.f=Pe,se.N=xe,se.ea=dt,se.W=pt),ct||(mt-=it),mt>se.o&&(mt=se.o),se.F=null,se.J=null,ne.Fa!=null&&0<ne.Fa.length&&Ze<mt&&(se.J=Ci(ne,se,Ze,mt-Ze),se.F=ne.mb,se.F==null&&se.F.length==0)){be=Tt(ne,3,"Could not decode alpha data.");break e}Ze<se.j&&(it=se.j-Ze,Ze=se.j,e(!(1&it)),se.O+=ne.R*it,se.N+=ne.B*(it>>1),se.W+=ne.B*(it>>1),se.F!=null&&(se.J+=se.width*it)),Ze<mt&&(se.O+=se.v,se.N+=se.v>>1,se.W+=se.v>>1,se.F!=null&&(se.J+=se.v),se.ka=Ze-se.j,se.U=se.va-se.v,se.T=mt-Ze,be=se.put(se))}me+1!=ne.Ic||ct||(r(ne.sa,ne.ta-we,Le,ze+16*ne.R,we),r(ne.qa,ne.ra-Fe,Pe,xe+8*ne.B,Fe),r(ne.Ha,ne.Ia-Fe,dt,pt+8*ne.B,Fe))}if(!be)return Tt(ae,6,"Output aborted.")}return 1}(o,d)),d.bc!=null&&d.bc(d),g&=1}return g?(o.cb=0,g):0}function Rr(o,d,g,y,L){L=o[d+g+32*y]+(L>>3),o[d+g+32*y]=-256&L?0>L?0:255:L}function Fs(o,d,g,y,L,E){Rr(o,d,0,g,y+L),Rr(o,d,1,g,y+E),Rr(o,d,2,g,y-E),Rr(o,d,3,g,y-L)}function cr(o){return(20091*o>>16)+o}function xi(o,d,g,y){var L,E=0,T=s(16);for(L=0;4>L;++L){var O=o[d+0]+o[d+8],D=o[d+0]-o[d+8],q=(35468*o[d+4]>>16)-cr(o[d+12]),re=cr(o[d+4])+(35468*o[d+12]>>16);T[E+0]=O+re,T[E+1]=D+q,T[E+2]=D-q,T[E+3]=O-re,E+=4,d++}for(L=E=0;4>L;++L)O=(o=T[E+0]+4)+T[E+8],D=o-T[E+8],q=(35468*T[E+4]>>16)-cr(T[E+12]),Rr(g,y,0,0,O+(re=cr(T[E+4])+(35468*T[E+12]>>16))),Rr(g,y,1,0,D+q),Rr(g,y,2,0,D-q),Rr(g,y,3,0,O-re),E++,y+=32}function ba(o,d,g,y){var L=o[d+0]+4,E=35468*o[d+4]>>16,T=cr(o[d+4]),O=35468*o[d+1]>>16;Fs(g,y,0,L+T,o=cr(o[d+1]),O),Fs(g,y,1,L+E,o,O),Fs(g,y,2,L-E,o,O),Fs(g,y,3,L-T,o,O)}function To(o,d,g,y,L){xi(o,d,g,y),L&&xi(o,d+16,g,y+4)}function xa(o,d,g,y){Ys(o,d+0,g,y,1),Ys(o,d+32,g,y+128,1)}function Oo(o,d,g,y){var L;for(o=o[d+0]+4,L=0;4>L;++L)for(d=0;4>d;++d)Rr(g,y,d,L,o)}function ya(o,d,g,y){o[d+0]&&zr(o,d+0,g,y),o[d+16]&&zr(o,d+16,g,y+4),o[d+32]&&zr(o,d+32,g,y+128),o[d+48]&&zr(o,d+48,g,y+128+4)}function Fo(o,d,g,y){var L,E=s(16);for(L=0;4>L;++L){var T=o[d+0+L]+o[d+12+L],O=o[d+4+L]+o[d+8+L],D=o[d+4+L]-o[d+8+L],q=o[d+0+L]-o[d+12+L];E[0+L]=T+O,E[8+L]=T-O,E[4+L]=q+D,E[12+L]=q-D}for(L=0;4>L;++L)T=(o=E[0+4*L]+3)+E[3+4*L],O=E[1+4*L]+E[2+4*L],D=E[1+4*L]-E[2+4*L],q=o-E[3+4*L],g[y+0]=T+O>>3,g[y+16]=q+D>>3,g[y+32]=T-O>>3,g[y+48]=q-D>>3,y+=64}function yi(o,d,g){var y,L=d-32,E=yr,T=255-o[L-1];for(y=0;y<g;++y){var O,D=E,q=T+o[d-1];for(O=0;O<g;++O)o[d+O]=D[q+o[L+O]];d+=32}}function Ro(o,d){yi(o,d,4)}function Do(o,d){yi(o,d,8)}function Mo(o,d){yi(o,d,16)}function fn(o,d){var g;for(g=0;16>g;++g)r(o,d+32*g,o,d-32,16)}function Rs(o,d){var g;for(g=16;0<g;--g)i(o,d,o[d-1],16),d+=32}function Ds(o,d,g){var y;for(y=0;16>y;++y)i(d,g+32*y,o,16)}function wa(o,d){var g,y=16;for(g=0;16>g;++g)y+=o[d-1+32*g]+o[d+g-32];Ds(y>>5,o,d)}function er(o,d){var g,y=8;for(g=0;16>g;++g)y+=o[d-1+32*g];Ds(y>>4,o,d)}function Bo(o,d){var g,y=8;for(g=0;16>g;++g)y+=o[d+g-32];Ds(y>>4,o,d)}function Na(o,d){Ds(128,o,d)}function Ge(o,d,g){return o+2*d+g+2>>2}function qo(o,d){var g,y=d-32;for(y=new Uint8Array([Ge(o[y-1],o[y+0],o[y+1]),Ge(o[y+0],o[y+1],o[y+2]),Ge(o[y+1],o[y+2],o[y+3]),Ge(o[y+2],o[y+3],o[y+4])]),g=0;4>g;++g)r(o,d+32*g,y,0,y.length)}function Uo(o,d){var g=o[d-1],y=o[d-1+32],L=o[d-1+64],E=o[d-1+96];Ae(o,d+0,16843009*Ge(o[d-1-32],g,y)),Ae(o,d+32,16843009*Ge(g,y,L)),Ae(o,d+64,16843009*Ge(y,L,E)),Ae(o,d+96,16843009*Ge(L,E,E))}function nn(o,d){var g,y=4;for(g=0;4>g;++g)y+=o[d+g-32]+o[d-1+32*g];for(y>>=3,g=0;4>g;++g)i(o,d+32*g,y,4)}function ja(o,d){var g=o[d-1+0],y=o[d-1+32],L=o[d-1+64],E=o[d-1-32],T=o[d+0-32],O=o[d+1-32],D=o[d+2-32],q=o[d+3-32];o[d+0+96]=Ge(y,L,o[d-1+96]),o[d+1+96]=o[d+0+64]=Ge(g,y,L),o[d+2+96]=o[d+1+64]=o[d+0+32]=Ge(E,g,y),o[d+3+96]=o[d+2+64]=o[d+1+32]=o[d+0+0]=Ge(T,E,g),o[d+3+64]=o[d+2+32]=o[d+1+0]=Ge(O,T,E),o[d+3+32]=o[d+2+0]=Ge(D,O,T),o[d+3+0]=Ge(q,D,O)}function _a(o,d){var g=o[d+1-32],y=o[d+2-32],L=o[d+3-32],E=o[d+4-32],T=o[d+5-32],O=o[d+6-32],D=o[d+7-32];o[d+0+0]=Ge(o[d+0-32],g,y),o[d+1+0]=o[d+0+32]=Ge(g,y,L),o[d+2+0]=o[d+1+32]=o[d+0+64]=Ge(y,L,E),o[d+3+0]=o[d+2+32]=o[d+1+64]=o[d+0+96]=Ge(L,E,T),o[d+3+32]=o[d+2+64]=o[d+1+96]=Ge(E,T,O),o[d+3+64]=o[d+2+96]=Ge(T,O,D),o[d+3+96]=Ge(O,D,D)}function Ms(o,d){var g=o[d-1+0],y=o[d-1+32],L=o[d-1+64],E=o[d-1-32],T=o[d+0-32],O=o[d+1-32],D=o[d+2-32],q=o[d+3-32];o[d+0+0]=o[d+1+64]=E+T+1>>1,o[d+1+0]=o[d+2+64]=T+O+1>>1,o[d+2+0]=o[d+3+64]=O+D+1>>1,o[d+3+0]=D+q+1>>1,o[d+0+96]=Ge(L,y,g),o[d+0+64]=Ge(y,g,E),o[d+0+32]=o[d+1+96]=Ge(g,E,T),o[d+1+32]=o[d+2+96]=Ge(E,T,O),o[d+2+32]=o[d+3+96]=Ge(T,O,D),o[d+3+32]=Ge(O,D,q)}function wi(o,d){var g=o[d+0-32],y=o[d+1-32],L=o[d+2-32],E=o[d+3-32],T=o[d+4-32],O=o[d+5-32],D=o[d+6-32],q=o[d+7-32];o[d+0+0]=g+y+1>>1,o[d+1+0]=o[d+0+64]=y+L+1>>1,o[d+2+0]=o[d+1+64]=L+E+1>>1,o[d+3+0]=o[d+2+64]=E+T+1>>1,o[d+0+32]=Ge(g,y,L),o[d+1+32]=o[d+0+96]=Ge(y,L,E),o[d+2+32]=o[d+1+96]=Ge(L,E,T),o[d+3+32]=o[d+2+96]=Ge(E,T,O),o[d+3+64]=Ge(T,O,D),o[d+3+96]=Ge(O,D,q)}function zo(o,d){var g=o[d-1+0],y=o[d-1+32],L=o[d-1+64],E=o[d-1+96];o[d+0+0]=g+y+1>>1,o[d+2+0]=o[d+0+32]=y+L+1>>1,o[d+2+32]=o[d+0+64]=L+E+1>>1,o[d+1+0]=Ge(g,y,L),o[d+3+0]=o[d+1+32]=Ge(y,L,E),o[d+3+32]=o[d+1+64]=Ge(L,E,E),o[d+3+64]=o[d+2+64]=o[d+0+96]=o[d+1+96]=o[d+2+96]=o[d+3+96]=E}function $o(o,d){var g=o[d-1+0],y=o[d-1+32],L=o[d-1+64],E=o[d-1+96],T=o[d-1-32],O=o[d+0-32],D=o[d+1-32],q=o[d+2-32];o[d+0+0]=o[d+2+32]=g+T+1>>1,o[d+0+32]=o[d+2+64]=y+g+1>>1,o[d+0+64]=o[d+2+96]=L+y+1>>1,o[d+0+96]=E+L+1>>1,o[d+3+0]=Ge(O,D,q),o[d+2+0]=Ge(T,O,D),o[d+1+0]=o[d+3+32]=Ge(g,T,O),o[d+1+32]=o[d+3+64]=Ge(y,g,T),o[d+1+64]=o[d+3+96]=Ge(L,y,g),o[d+1+96]=Ge(E,L,y)}function Ho(o,d){var g;for(g=0;8>g;++g)r(o,d+32*g,o,d-32,8)}function Ni(o,d){var g;for(g=0;8>g;++g)i(o,d,o[d-1],8),d+=32}function os(o,d,g){var y;for(y=0;8>y;++y)i(d,g+32*y,o,8)}function Pn(o,d){var g,y=8;for(g=0;8>g;++g)y+=o[d+g-32]+o[d-1+32*g];os(y>>4,o,d)}function Wo(o,d){var g,y=4;for(g=0;8>g;++g)y+=o[d+g-32];os(y>>3,o,d)}function ls(o,d){var g,y=4;for(g=0;8>g;++g)y+=o[d-1+32*g];os(y>>3,o,d)}function ji(o,d){os(128,o,d)}function Bs(o,d,g){var y=o[d-g],L=o[d+0],E=3*(L-y)+Zo[1020+o[d-2*g]-o[d+g]],T=Oa[112+(E+4>>3)];o[d-g]=yr[255+y+Oa[112+(E+3>>3)]],o[d+0]=yr[255+L-T]}function Sa(o,d,g,y){var L=o[d+0],E=o[d+g];return kr[255+o[d-2*g]-o[d-g]]>y||kr[255+E-L]>y}function Aa(o,d,g,y){return 4*kr[255+o[d-g]-o[d+0]]+kr[255+o[d-2*g]-o[d+g]]<=y}function ka(o,d,g,y,L){var E=o[d-3*g],T=o[d-2*g],O=o[d-g],D=o[d+0],q=o[d+g],re=o[d+2*g],de=o[d+3*g];return 4*kr[255+O-D]+kr[255+T-q]>y?0:kr[255+o[d-4*g]-E]<=L&&kr[255+E-T]<=L&&kr[255+T-O]<=L&&kr[255+de-re]<=L&&kr[255+re-q]<=L&&kr[255+q-D]<=L}function La(o,d,g,y){var L=2*y+1;for(y=0;16>y;++y)Aa(o,d+y,g,L)&&Bs(o,d+y,g)}function pn(o,d,g,y){var L=2*y+1;for(y=0;16>y;++y)Aa(o,d+y*g,1,L)&&Bs(o,d+y*g,1)}function Cn(o,d,g,y){var L;for(L=3;0<L;--L)La(o,d+=4*g,g,y)}function Vo(o,d,g,y){var L;for(L=3;0<L;--L)pn(o,d+=4,g,y)}function En(o,d,g,y,L,E,T,O){for(E=2*E+1;0<L--;){if(ka(o,d,g,E,T))if(Sa(o,d,g,O))Bs(o,d,g);else{var D=o,q=d,re=g,de=D[q-2*re],he=D[q-re],ae=D[q+0],ye=D[q+re],me=D[q+2*re],ne=27*(be=Zo[1020+3*(ae-he)+Zo[1020+de-ye]])+63>>7,se=18*be+63>>7,be=9*be+63>>7;D[q-3*re]=yr[255+D[q-3*re]+be],D[q-2*re]=yr[255+de+se],D[q-re]=yr[255+he+ne],D[q+0]=yr[255+ae-ne],D[q+re]=yr[255+ye-se],D[q+2*re]=yr[255+me-be]}d+=y}}function Dr(o,d,g,y,L,E,T,O){for(E=2*E+1;0<L--;){if(ka(o,d,g,E,T))if(Sa(o,d,g,O))Bs(o,d,g);else{var D=o,q=d,re=g,de=D[q-re],he=D[q+0],ae=D[q+re],ye=Oa[112+((me=3*(he-de))+4>>3)],me=Oa[112+(me+3>>3)],ne=ye+1>>1;D[q-2*re]=yr[255+D[q-2*re]+ne],D[q-re]=yr[255+de+me],D[q+0]=yr[255+he-ye],D[q+re]=yr[255+ae-ne]}d+=y}}function _i(o,d,g,y,L,E){En(o,d,g,1,16,y,L,E)}function cs(o,d,g,y,L,E){En(o,d,1,g,16,y,L,E)}function Go(o,d,g,y,L,E){var T;for(T=3;0<T;--T)Dr(o,d+=4*g,g,1,16,y,L,E)}function qs(o,d,g,y,L,E){var T;for(T=3;0<T;--T)Dr(o,d+=4,1,g,16,y,L,E)}function Jo(o,d,g,y,L,E,T,O){En(o,d,L,1,8,E,T,O),En(g,y,L,1,8,E,T,O)}function Si(o,d,g,y,L,E,T,O){En(o,d,1,L,8,E,T,O),En(g,y,1,L,8,E,T,O)}function Ai(o,d,g,y,L,E,T,O){Dr(o,d+4*L,L,1,8,E,T,O),Dr(g,y+4*L,L,1,8,E,T,O)}function Pa(o,d,g,y,L,E,T,O){Dr(o,d+4,1,L,8,E,T,O),Dr(g,y+4,1,L,8,E,T,O)}function Us(){this.ba=new Er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ki(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Li(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ca(){this.ua=0,this.Wa=new Z,this.vb=new Z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new A}function Yo(){this.xb=this.a=0,this.l=new Os,this.ca=new Er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ca,this.ab=0,this.gc=l(4,Li),this.Oc=0}function zs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Os,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function us(o,d,g,y,L,E,T){for(o=o==null?0:o[d+0],d=0;d<T;++d)L[E+d]=o+g[y+d]&255,o=L[E+d]}function Pi(o,d,g,y,L,E,T){var O;if(o==null)us(null,null,g,y,L,E,T);else for(O=0;O<T;++O)L[E+O]=o[d+O]+g[y+O]&255}function In(o,d,g,y,L,E,T){if(o==null)us(null,null,g,y,L,E,T);else{var O,D=o[d+0],q=D,re=D;for(O=0;O<T;++O)q=re+(D=o[d+O])-q,re=g[y+O]+(-256&q?0>q?0:255:q)&255,q=D,L[E+O]=re}}function Ci(o,d,g,y){var L=d.width,E=d.o;if(e(o!=null&&d!=null),0>g||0>=y||g+y>E)return null;if(!o.Cc){if(o.ga==null){var T;if(o.ga=new zs,(T=o.ga==null)||(T=d.width*d.o,e(o.Gb.length==0),o.Gb=s(T),o.Uc=0,o.Gb==null?T=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,T=1),T=!T),!T){T=o.ga;var O=o.Fa,D=o.P,q=o.qc,re=o.mb,de=o.nb,he=D+1,ae=q-1,ye=T.l;if(e(O!=null&&re!=null&&d!=null),Bn[0]=null,Bn[1]=us,Bn[2]=Pi,Bn[3]=In,T.ca=re,T.tb=de,T.c=d.width,T.i=d.height,e(0<T.c&&0<T.i),1>=q)d=0;else if(T.$a=O[D+0]>>0&3,T.Z=O[D+0]>>2&3,T.Lc=O[D+0]>>4&3,D=O[D+0]>>6&3,0>T.$a||1<T.$a||4<=T.Z||1<T.Lc||D)d=0;else if(ye.put=Qr,ye.ac=Xt,ye.bc=Zr,ye.ma=T,ye.width=d.width,ye.height=d.height,ye.Da=d.Da,ye.v=d.v,ye.va=d.va,ye.j=d.j,ye.o=d.o,T.$a)e:{e(T.$a==1),d=_r();t:for(;;){if(d==null){d=0;break e}if(e(T!=null),T.mc=d,d.c=T.c,d.i=T.i,d.l=T.l,d.l.ma=T,d.l.width=T.c,d.l.height=T.i,d.a=0,X(d.m,O,he,ae),!rn(T.c,T.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&hn(d.s)?(T.ic=1,O=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(O),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(T.ic=0,d=as(d,T.c)),!d))break t;d=1;break e}T.mc=null,d=0}else d=ae>=T.c*T.i;T=!d}if(T)return null;o.ga.Lc!=1?o.Ga=0:y=E-g}e(o.ga!=null),e(g+y<=E);e:{if(d=(O=o.ga).c,E=O.l.o,O.$a==0){if(he=o.rc,ae=o.Vc,ye=o.Fa,D=o.P+1+g*d,q=o.mb,re=o.nb+g*d,e(D<=o.P+o.qc),O.Z!=0)for(e(Bn[O.Z]!=null),T=0;T<y;++T)Bn[O.Z](he,ae,ye,D,q,re,d),he=q,ae=re,re+=d,D+=d;else for(T=0;T<y;++T)r(q,re,ye,D,d),he=q,ae=re,re+=d,D+=d;o.rc=he,o.Vc=ae}else{if(e(O.mc!=null),d=g+y,e((T=O.mc)!=null),e(d<=T.i),T.C>=d)d=1;else if(O.ic||le(),O.ic){O=T.V,he=T.Ba,ae=T.c;var me=T.i,ne=(ye=1,D=T.$/ae,q=T.$%ae,re=T.m,de=T.s,T.$),se=ae*me,be=ae*d,we=de.wc,xe=ne<be?Mt(de,q,D):null;e(ne<=se),e(d<=me),e(hn(de));t:for(;;){for(;!re.h&&ne<be;){if(q&we||(xe=Mt(de,q,D)),e(xe!=null),ee(re),256>(me=lr(xe.G[0],xe.H[0],re)))O[he+ne]=me,++ne,++q>=ae&&(q=0,++D<=d&&!(D%16)&&Or(T,D));else{if(!(280>me)){ye=0;break t}me=Ir(me-256,re);var Fe,Le=lr(xe.G[4],xe.H[4],re);if(ee(re),!(ne>=(Le=en(ae,Le=Ir(Le,re)))&&se-ne>=me)){ye=0;break t}for(Fe=0;Fe<me;++Fe)O[he+ne+Fe]=O[he+ne+Fe-Le];for(ne+=me,q+=me;q>=ae;)q-=ae,++D<=d&&!(D%16)&&Or(T,D);ne<be&&q&we&&(xe=Mt(de,q,D))}e(re.h==z(re))}Or(T,D>d?d:D);break t}!ye||re.h&&ne<se?(ye=0,T.a=re.h?5:3):T.$=ne,d=ye}else d=Fr(T,T.V,T.Ba,T.c,T.i,d,Ps);if(!d){y=0;break e}}g+y>=E&&(o.Cc=1),y=1}if(!y)return null;if(o.Cc&&((y=o.ga)!=null&&(y.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+g*L}function f(o,d,g,y,L,E){for(;0<L--;){var T,O=o,D=d+(g?1:0),q=o,re=d+(g?0:3);for(T=0;T<y;++T){var de=q[re+4*T];de!=255&&(de*=32897,O[D+4*T+0]=O[D+4*T+0]*de>>23,O[D+4*T+1]=O[D+4*T+1]*de>>23,O[D+4*T+2]=O[D+4*T+2]*de>>23)}d+=E}}function P(o,d,g,y,L){for(;0<y--;){var E;for(E=0;E<g;++E){var T=o[d+2*E+0],O=15&(q=o[d+2*E+1]),D=4369*O,q=(240&q|q>>4)*D>>16;o[d+2*E+0]=(240&T|T>>4)*D>>16&240|(15&T|T<<4)*D>>16>>4&15,o[d+2*E+1]=240&q|O}d+=L}}function G(o,d,g,y,L,E,T,O){var D,q,re=255;for(q=0;q<L;++q){for(D=0;D<y;++D){var de=o[d+D];E[T+4*D]=de,re&=de}d+=g,T+=O}return re!=255}function te(o,d,g,y,L){var E;for(E=0;E<L;++E)g[y+E]=o[d+E]>>8}function le(){Dn=f,Xs=P,Ta=G,oc=te}function ge(o,d,g){I[o]=function(y,L,E,T,O,D,q,re,de,he,ae,ye,me,ne,se,be,we){var xe,Fe=we-1>>1,Le=O[D+0]|q[re+0]<<16,ze=de[he+0]|ae[ye+0]<<16;e(y!=null);var Pe=3*Le+ze+131074>>2;for(d(y[L+0],255&Pe,Pe>>16,me,ne),E!=null&&(Pe=3*ze+Le+131074>>2,d(E[T+0],255&Pe,Pe>>16,se,be)),xe=1;xe<=Fe;++xe){var dt=O[D+xe]|q[re+xe]<<16,pt=de[he+xe]|ae[ye+xe]<<16,ct=Le+dt+ze+pt+524296,it=ct+2*(dt+ze)>>3;Pe=it+Le>>1,Le=(ct=ct+2*(Le+pt)>>3)+dt>>1,d(y[L+2*xe-1],255&Pe,Pe>>16,me,ne+(2*xe-1)*g),d(y[L+2*xe-0],255&Le,Le>>16,me,ne+(2*xe-0)*g),E!=null&&(Pe=ct+ze>>1,Le=it+pt>>1,d(E[T+2*xe-1],255&Pe,Pe>>16,se,be+(2*xe-1)*g),d(E[T+2*xe+0],255&Le,Le>>16,se,be+(2*xe+0)*g)),Le=dt,ze=pt}1&we||(Pe=3*Le+ze+131074>>2,d(y[L+we-1],255&Pe,Pe>>16,me,ne+(we-1)*g),E!=null&&(Pe=3*ze+Le+131074>>2,d(E[T+we-1],255&Pe,Pe>>16,se,be+(we-1)*g)))}}function je(){Lr[Fa]=Qd,Lr[Ra]=bc,Lr[fc]=Zd,Lr[Da]=xc,Lr[Ma]=yc,Lr[el]=wc,Lr[pc]=eh,Lr[tl]=bc,Lr[rl]=xc,Lr[Ba]=yc,Lr[nl]=wc}function Oe(o){return o&~th?0>o?0:255:o>>Nc}function qe(o,d){return Oe((19077*o>>8)+(26149*d>>8)-14234)}function Qe(o,d,g){return Oe((19077*o>>8)-(6419*d>>8)-(13320*g>>8)+8708)}function tt(o,d){return Oe((19077*o>>8)+(33050*d>>8)-17685)}function ot(o,d,g,y,L){y[L+0]=qe(o,g),y[L+1]=Qe(o,d,g),y[L+2]=tt(o,d)}function kt(o,d,g,y,L){y[L+0]=tt(o,d),y[L+1]=Qe(o,d,g),y[L+2]=qe(o,g)}function Ct(o,d,g,y,L){var E=Qe(o,d,g);d=E<<3&224|tt(o,d)>>3,y[L+0]=248&qe(o,g)|E>>5,y[L+1]=d}function Bt(o,d,g,y,L){var E=240&tt(o,d)|15;y[L+0]=240&qe(o,g)|Qe(o,d,g)>>4,y[L+1]=E}function tr(o,d,g,y,L){y[L+0]=255,ot(o,d,g,y,L+1)}function Gt(o,d,g,y,L){kt(o,d,g,y,L),y[L+3]=255}function Mr(o,d,g,y,L){ot(o,d,g,y,L),y[L+3]=255}function xr(o,d){return 0>o?0:o>d?d:o}function mn(o,d,g){I[o]=function(y,L,E,T,O,D,q,re,de){for(var he=re+(-2&de)*g;re!=he;)d(y[L+0],E[T+0],O[D+0],q,re),d(y[L+1],E[T+0],O[D+0],q,re+g),L+=2,++T,++D,re+=2*g;1&de&&d(y[L+0],E[T+0],O[D+0],q,re)}}function Ea(o,d,g){return g==0?o==0?d==0?6:5:d==0?4:0:g}function Ei(o,d,g,y,L){switch(o>>>30){case 3:Ys(d,g,y,L,0);break;case 2:Mi(d,g,y,L);break;case 1:zr(d,g,y,L)}}function Ii(o,d){var g,y,L=d.M,E=d.Nb,T=o.oc,O=o.pc+40,D=o.oc,q=o.pc+584,re=o.oc,de=o.pc+600;for(g=0;16>g;++g)T[O+32*g-1]=129;for(g=0;8>g;++g)D[q+32*g-1]=129,re[de+32*g-1]=129;for(0<L?T[O-1-32]=D[q-1-32]=re[de-1-32]=129:(i(T,O-32-1,127,21),i(D,q-32-1,127,9),i(re,de-32-1,127,9)),y=0;y<o.za;++y){var he=d.ya[d.aa+y];if(0<y){for(g=-1;16>g;++g)r(T,O+32*g-4,T,O+32*g+12,4);for(g=-1;8>g;++g)r(D,q+32*g-4,D,q+32*g+4,4),r(re,de+32*g-4,re,de+32*g+4,4)}var ae=o.Gd,ye=o.Hd+y,me=he.ad,ne=he.Hc;if(0<L&&(r(T,O-32,ae[ye].y,0,16),r(D,q-32,ae[ye].f,0,8),r(re,de-32,ae[ye].ea,0,8)),he.Za){var se=T,be=O-32+16;for(0<L&&(y>=o.za-1?i(se,be,ae[ye].y[15],4):r(se,be,ae[ye+1].y,0,4)),g=0;4>g;g++)se[be+128+g]=se[be+256+g]=se[be+384+g]=se[be+0+g];for(g=0;16>g;++g,ne<<=2)se=T,be=O+_c[g],$r[he.Ob[g]](se,be),Ei(ne,me,16*+g,se,be)}else if(se=Ea(y,L,he.Ob[0]),Mn[se](T,O),ne!=0)for(g=0;16>g;++g,ne<<=2)Ei(ne,me,16*+g,T,O+_c[g]);for(g=he.Gc,se=Ea(y,L,he.Dd),yn[se](D,q),yn[se](re,de),ne=me,se=D,be=q,255&(he=g>>0)&&(170&he?Fn(ne,256,se,be):vn(ne,256,se,be)),he=re,ne=de,255&(g>>=8)&&(170&g?Fn(me,320,he,ne):vn(me,320,he,ne)),L<o.Ub-1&&(r(ae[ye].y,0,T,O+480,16),r(ae[ye].f,0,D,q+224,8),r(ae[ye].ea,0,re,de+224,8)),g=8*E*o.B,ae=o.sa,ye=o.ta+16*y+16*E*o.R,me=o.qa,he=o.ra+8*y+g,ne=o.Ha,se=o.Ia+8*y+g,g=0;16>g;++g)r(ae,ye+g*o.R,T,O+32*g,16);for(g=0;8>g;++g)r(me,he+g*o.B,D,q+32*g,8),r(ne,se+g*o.B,re,de+32*g,8)}}function $s(o,d,g,y,L,E,T,O,D){var q=[0],re=[0],de=0,he=D!=null?D.kd:0,ae=D??new ki;if(o==null||12>g)return 7;ae.data=o,ae.w=d,ae.ha=g,d=[d],g=[g],ae.gb=[ae.gb];e:{var ye=d,me=g,ne=ae.gb;if(e(o!=null),e(me!=null),e(ne!=null),ne[0]=0,12<=me[0]&&!t(o,ye[0],"RIFF")){if(t(o,ye[0]+8,"WEBP")){ne=3;break e}var se=Re(o,ye[0]+4);if(12>se||4294967286<se){ne=3;break e}if(he&&se>me[0]-8){ne=7;break e}ne[0]=se,ye[0]+=12,me[0]-=12}ne=0}if(ne!=0)return ne;for(se=0<ae.gb[0],g=g[0];;){e:{var be=o;me=d,ne=g;var we=q,xe=re,Fe=ye=[0];if((Pe=de=[de])[0]=0,8>ne[0])ne=7;else{if(!t(be,me[0],"VP8X")){if(Re(be,me[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var Le=Re(be,me[0]+8),ze=1+Ee(be,me[0]+12);if(2147483648<=ze*(be=1+Ee(be,me[0]+15))){ne=3;break e}Fe!=null&&(Fe[0]=Le),we!=null&&(we[0]=ze),xe!=null&&(xe[0]=be),me[0]+=18,ne[0]-=18,Pe[0]=1}ne=0}}if(de=de[0],ye=ye[0],ne!=0)return ne;if(me=!!(2&ye),!se&&de)return 3;if(E!=null&&(E[0]=!!(16&ye)),T!=null&&(T[0]=me),O!=null&&(O[0]=0),T=q[0],ye=re[0],de&&me&&D==null){ne=0;break}if(4>g){ne=7;break}if(se&&de||!se&&!de&&!t(o,d[0],"ALPH")){g=[g],ae.na=[ae.na],ae.P=[ae.P],ae.Sa=[ae.Sa];e:{Le=o,ne=d,se=g;var Pe=ae.gb;we=ae.na,xe=ae.P,Fe=ae.Sa,ze=22,e(Le!=null),e(se!=null),be=ne[0];var dt=se[0];for(e(we!=null),e(Fe!=null),we[0]=null,xe[0]=null,Fe[0]=0;;){if(ne[0]=be,se[0]=dt,8>dt){ne=7;break e}var pt=Re(Le,be+4);if(4294967286<pt){ne=3;break e}var ct=8+pt+1&-2;if(ze+=ct,0<Pe&&ze>Pe){ne=3;break e}if(!t(Le,be,"VP8 ")||!t(Le,be,"VP8L")){ne=0;break e}if(dt[0]<ct){ne=7;break e}t(Le,be,"ALPH")||(we[0]=Le,xe[0]=be+8,Fe[0]=pt),be+=ct,dt-=ct}}if(g=g[0],ae.na=ae.na[0],ae.P=ae.P[0],ae.Sa=ae.Sa[0],ne!=0)break}g=[g],ae.Ja=[ae.Ja],ae.xa=[ae.xa];e:if(Pe=o,ne=d,se=g,we=ae.gb[0],xe=ae.Ja,Fe=ae.xa,Le=ne[0],be=!t(Pe,Le,"VP8 "),ze=!t(Pe,Le,"VP8L"),e(Pe!=null),e(se!=null),e(xe!=null),e(Fe!=null),8>se[0])ne=7;else{if(be||ze){if(Pe=Re(Pe,Le+4),12<=we&&Pe>we-12){ne=3;break e}if(he&&Pe>se[0]-8){ne=7;break e}xe[0]=Pe,ne[0]+=8,se[0]-=8,Fe[0]=ze}else Fe[0]=5<=se[0]&&Pe[Le+0]==47&&!(Pe[Le+4]>>5),xe[0]=se[0];ne=0}if(g=g[0],ae.Ja=ae.Ja[0],ae.xa=ae.xa[0],d=d[0],ne!=0)break;if(4294967286<ae.Ja)return 3;if(O==null||me||(O[0]=ae.xa?2:1),T=[T],ye=[ye],ae.xa){if(5>g){ne=7;break}O=T,he=ye,me=E,o==null||5>g?o=0:5<=g&&o[d+0]==47&&!(o[d+4]>>5)?(se=[0],Pe=[0],we=[0],X(xe=new k,o,d,g),$e(xe,se,Pe,we)?(O!=null&&(O[0]=se[0]),he!=null&&(he[0]=Pe[0]),me!=null&&(me[0]=we[0]),o=1):o=0):o=0}else{if(10>g){ne=7;break}O=ye,o==null||10>g||!ma(o,d+3,g-3)?o=0:(he=o[d+0]|o[d+1]<<8|o[d+2]<<16,me=16383&(o[d+7]<<8|o[d+6]),o=16383&(o[d+9]<<8|o[d+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=ae.Ja||!me||!o?o=0:(T&&(T[0]=me),O&&(O[0]=o),o=1))}if(!o||(T=T[0],ye=ye[0],de&&(q[0]!=T||re[0]!=ye)))return 3;D!=null&&(D[0]=ae,D.offset=d-D.w,e(4294967286>d-D.w),e(D.offset==D.ha-g));break}return ne==0||ne==7&&de&&D==null?(E!=null&&(E[0]|=ae.na!=null&&0<ae.na.length),y!=null&&(y[0]=T),L!=null&&(L[0]=ye),0):ne}function Ti(o,d,g){var y=d.width,L=d.height,E=0,T=0,O=y,D=L;if(d.Da=o!=null&&0<o.Da,d.Da&&(O=o.cd,D=o.bd,E=o.v,T=o.j,11>g||(E&=-2,T&=-2),0>E||0>T||0>=O||0>=D||E+O>y||T+D>L))return 0;if(d.v=E,d.j=T,d.va=E+O,d.o=T+D,d.U=O,d.T=D,d.da=o!=null&&0<o.da,d.da){if(!Xe(O,D,g=[o.ib],E=[o.hb]))return 0;d.ib=g[0],d.hb=E[0]}return d.ob=o!=null&&o.ob,d.Kb=o==null||!o.Sd,d.da&&(d.ob=d.ib<3*y/4&&d.hb<3*L/4,d.Kb=0),1}function Oi(o){if(o==null)return 2;if(11>o.S){var d=o.f.RGBA;d.fb+=(o.height-1)*d.A,d.A=-d.A}else d=o.f.kb,o=o.height,d.O+=(o-1)*d.fa,d.fa=-d.fa,d.N+=(o-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(o-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(o-1)*d.lb,d.lb=-d.lb);return 0}function Hs(o,d,g,y){if(y==null||0>=o||0>=d)return 2;if(g!=null){if(g.Da){var L=g.cd,E=g.bd,T=-2&g.v,O=-2&g.j;if(0>T||0>O||0>=L||0>=E||T+L>o||O+E>d)return 2;o=L,d=E}if(g.da){if(!Xe(o,d,L=[g.ib],E=[g.hb]))return 2;o=L[0],d=E[0]}}y.width=o,y.height=d;e:{var D=y.width,q=y.height;if(o=y.S,0>=D||0>=q||!(o>=Fa&&13>o))o=2;else{if(0>=y.Rd&&y.sd==null){T=E=L=d=0;var re=(O=D*Sc[o])*q;if(11>o||(E=(q+1)/2*(d=(D+1)/2),o==12&&(T=(L=D)*q)),(q=s(re+2*E+T))==null){o=1;break e}y.sd=q,11>o?((D=y.f.RGBA).eb=q,D.fb=0,D.A=O,D.size=re):((D=y.f.kb).y=q,D.O=0,D.fa=O,D.Fd=re,D.f=q,D.N=0+re,D.Ab=d,D.Cd=E,D.ea=q,D.W=0+re+E,D.Db=d,D.Ed=E,o==12&&(D.F=q,D.J=0+re+2*E),D.Tc=T,D.lb=L)}if(d=1,L=y.S,E=y.width,T=y.height,L>=Fa&&13>L)if(11>L)o=y.f.RGBA,d&=(O=Math.abs(o.A))*(T-1)+E<=o.size,d&=O>=E*Sc[L],d&=o.eb!=null;else{o=y.f.kb,O=(E+1)/2,re=(T+1)/2,D=Math.abs(o.fa),q=Math.abs(o.Ab);var de=Math.abs(o.Db),he=Math.abs(o.lb),ae=he*(T-1)+E;d&=D*(T-1)+E<=o.Fd,d&=q*(re-1)+O<=o.Cd,d=(d&=de*(re-1)+O<=o.Ed)&D>=E&q>=O&de>=O,d&=o.y!=null,d&=o.f!=null,d&=o.ea!=null,L==12&&(d&=he>=E,d&=ae<=o.Tc,d&=o.F!=null)}else d=0;o=d?0:2}}return o!=0||g!=null&&g.fd&&(o=Oi(y)),o}var ur=64,Ws=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vs=24,Gs=32,Fi=8,dr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ke("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(o){return o},I.Predictor2=function(o,d,g){return d[g+0]},I.Predictor3=function(o,d,g){return d[g+1]},I.Predictor4=function(o,d,g){return d[g-1]},I.Predictor5=function(o,d,g){return Ce(Ce(o,d[g+1]),d[g+0])},I.Predictor6=function(o,d,g){return Ce(o,d[g-1])},I.Predictor7=function(o,d,g){return Ce(o,d[g+0])},I.Predictor8=function(o,d,g){return Ce(d[g-1],d[g+0])},I.Predictor9=function(o,d,g){return Ce(d[g+0],d[g+1])},I.Predictor10=function(o,d,g){return Ce(Ce(o,d[g-1]),Ce(d[g+0],d[g+1]))},I.Predictor11=function(o,d,g){var y=d[g+0];return 0>=et(y>>24&255,o>>24&255,(d=d[g-1])>>24&255)+et(y>>16&255,o>>16&255,d>>16&255)+et(y>>8&255,o>>8&255,d>>8&255)+et(255&y,255&o,255&d)?y:o},I.Predictor12=function(o,d,g){var y=d[g+0];return(Be((o>>24&255)+(y>>24&255)-((d=d[g-1])>>24&255))<<24|Be((o>>16&255)+(y>>16&255)-(d>>16&255))<<16|Be((o>>8&255)+(y>>8&255)-(d>>8&255))<<8|Be((255&o)+(255&y)-(255&d)))>>>0},I.Predictor13=function(o,d,g){var y=d[g-1];return(Je((o=Ce(o,d[g+0]))>>24&255,y>>24&255)<<24|Je(o>>16&255,y>>16&255)<<16|Je(o>>8&255,y>>8&255)<<8|Je(o>>0&255,y>>0&255))>>>0};var Ko=I.PredictorAdd0;I.PredictorAdd1=nt,ke("Predictor2","PredictorAdd2"),ke("Predictor3","PredictorAdd3"),ke("Predictor4","PredictorAdd4"),ke("Predictor5","PredictorAdd5"),ke("Predictor6","PredictorAdd6"),ke("Predictor7","PredictorAdd7"),ke("Predictor8","PredictorAdd8"),ke("Predictor9","PredictorAdd9"),ke("Predictor10","PredictorAdd10"),ke("Predictor11","PredictorAdd11"),ke("Predictor12","PredictorAdd12"),ke("Predictor13","PredictorAdd13");var Ri=I.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var Ia,Br=I.ColorIndexInverseTransform,Di=I.MapARGB,Xo=I.VP8LColorIndexInverseTransformAlpha,Qo=I.MapAlpha,Tn=I.VP8LPredictorsAdd=[];Tn.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Sr,qr,On,sn,gn,Js,Ur,Ys,Mi,Fn,zr,vn,ds,Ks,hs,Rn,Bi,Ar,bn,Nt,jt,Ot,Wt,xn,Dn,Xs,Ta,oc,lc=s(511),cc=s(2041),uc=s(225),dc=s(767),hc=0,Zo=cc,Oa=uc,yr=dc,kr=lc,Fa=0,Ra=1,fc=2,Da=3,Ma=4,el=5,pc=6,tl=7,rl=8,Ba=9,nl=10,Md=[2,3,7],Bd=[3,3,11],mc=[280,256,256,256,40],qd=[0,1,1,1,0],Ud=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zd=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$d=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Hd=8,sl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],il=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qi=null,Wd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Vd=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Gd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Yd=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Kd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Mn=[],$r=[],yn=[],Xd=1,vc=2,Bn=[],Lr=[];ge("UpsampleRgbLinePair",ot,3),ge("UpsampleBgrLinePair",kt,3),ge("UpsampleRgbaLinePair",Mr,4),ge("UpsampleBgraLinePair",Gt,4),ge("UpsampleArgbLinePair",tr,4),ge("UpsampleRgba4444LinePair",Bt,2),ge("UpsampleRgb565LinePair",Ct,2);var Qd=I.UpsampleRgbLinePair,Zd=I.UpsampleBgrLinePair,bc=I.UpsampleRgbaLinePair,xc=I.UpsampleBgraLinePair,yc=I.UpsampleArgbLinePair,wc=I.UpsampleRgba4444LinePair,eh=I.UpsampleRgb565LinePair,qa=16,Ua=1<<qa-1,Ui=-227,al=482,Nc=6,th=(256<<Nc)-1,jc=0,rh=s(256),nh=s(256),sh=s(256),ih=s(256),ah=s(al-Ui),oh=s(al-Ui);mn("YuvToRgbRow",ot,3),mn("YuvToBgrRow",kt,3),mn("YuvToRgbaRow",Mr,4),mn("YuvToBgraRow",Gt,4),mn("YuvToArgbRow",tr,4),mn("YuvToRgba4444Row",Bt,2),mn("YuvToRgb565Row",Ct,2);var _c=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],za=[0,2,8],lh=[8,7,6,4,4,2,2,2,1,1,1,1],ch=1;this.WebPDecodeRGBA=function(o,d,g,y,L){var E=Ra,T=new Us,O=new Er;T.ba=O,O.S=E,O.width=[O.width],O.height=[O.height];var D=O.width,q=O.height,re=new dn;if(re==null||o==null)var de=2;else e(re!=null),de=$s(o,d,g,re.width,re.height,re.Pd,re.Qd,re.format,null);if(de!=0?D=0:(D!=null&&(D[0]=re.width[0]),q!=null&&(q[0]=re.height[0]),D=1),D){O.width=O.width[0],O.height=O.height[0],y!=null&&(y[0]=O.width),L!=null&&(L[0]=O.height);e:{if(y=new Os,(L=new ki).data=o,L.w=d,L.ha=g,L.kd=1,d=[0],e(L!=null),((o=$s(L.data,L.w,L.ha,null,null,null,d,null,L))==0||o==7)&&d[0]&&(o=4),(d=o)==0){if(e(T!=null),y.data=L.data,y.w=L.w+L.offset,y.ha=L.ha-L.offset,y.put=Qr,y.ac=Xt,y.bc=Zr,y.ma=T,L.xa){if((o=_r())==null){T=1;break e}if(function(he,ae){var ye=[0],me=[0],ne=[0];t:for(;;){if(he==null)return 0;if(ae==null)return he.a=2,0;if(he.l=ae,he.a=0,X(he.m,ae.data,ae.w,ae.ha),!$e(he.m,ye,me,ne)){he.a=3;break t}if(he.xb=vc,ae.width=ye[0],ae.height=me[0],!rn(ye[0],me[0],1,he,null))break t;return 1}return e(he.a!=0),0}(o,y)){if(y=(d=Hs(y.width,y.height,T.Oa,T.ba))==0){t:{y=o;r:for(;;){if(y==null){y=0;break t}if(e(y.s.yc!=null),e(y.s.Ya!=null),e(0<y.s.Wb),e((g=y.l)!=null),e((L=g.ma)!=null),y.xb!=0){if(y.ca=L.ba,y.tb=L.tb,e(y.ca!=null),!Ti(L.Oa,g,Da)){y.a=2;break r}if(!as(y,g.width)||g.da)break r;if((g.da||ht(y.ca.S))&&le(),11>y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),y.ca.f.kb.F!=null&&le()),y.Pb&&0<y.s.ua&&y.s.vb.X==null&&!He(y.s.vb,y.s.Wa.Xa)){y.a=1;break r}y.xb=0}if(!Fr(y,y.V,y.Ba,y.c,y.i,g.o,Ls))break r;L.Dc=y.Ma,y=1;break t}e(y.a!=0),y=0}y=!y}y&&(d=o.a)}else d=o.a}else{if((o=new Eo)==null){T=1;break e}if(o.Fa=L.na,o.P=L.P,o.qc=L.Sa,ga(o,y)){if((d=Hs(y.width,y.height,T.Oa,T.ba))==0){if(o.Aa=0,g=T.Oa,e((L=o)!=null),g!=null){if(0<(D=0>(D=g.Md)?0:100<D?255:255*D/100)){for(q=re=0;4>q;++q)12>(de=L.pb[q]).lc&&(de.ia=D*lh[0>de.lc?0:de.lc]>>3),re|=de.ia;re&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=g.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}Io(o,y)||(d=o.a)}}else d=o.a}d==0&&T.Oa!=null&&T.Oa.fd&&(d=Oi(T.ba))}T=d}E=T!=0?null:11>E?O.f.RGBA.eb:O.f.kb.y}else E=null;return E};var Sc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(I,K){for(var J="",C=0;C<4;C++)J+=String.fromCharCode(I[K++]);return J}function p(I,K){return(I[K+0]<<0|I[K+1]<<8|I[K+2]<<16)>>>0}function v(I,K){return(I[K+0]<<0|I[K+1]<<8|I[K+2]<<16|I[K+3]<<24)>>>0}new c;var b=[0],m=[0],_=[],N=new c,j=n,x=function(I,K){var J={},C=0,A=!1,B=0,U=0;if(J.frames=[],!function(M,z,Y,ee){for(var ce=0;ce<ee;ce++)if(M[z+ce]!=Y.charCodeAt(ce))return!0;return!1}(I,K,"RIFF",4)){var oe,V;for(v(I,K+=4),K+=8;K<I.length;){var W=h(I,K),X=v(I,K+=4);K+=4;var Q=X+(1&X);switch(W){case"VP8 ":case"VP8L":J.frames[C]===void 0&&(J.frames[C]={}),(k=J.frames[C]).src_off=A?U:K-8,k.src_size=B+X+8,C++,A&&(A=!1,B=0,U=0);break;case"VP8X":(k=J.header={}).feature_flags=I[K];var ie=K+4;k.canvas_width=1+p(I,ie),ie+=3,k.canvas_height=1+p(I,ie),ie+=3;break;case"ALPH":A=!0,B=Q+8,U=K-8;break;case"ANIM":(k=J.header).bgcolor=v(I,K),ie=K+4,k.loop_count=(oe=I)[(V=ie)+0]<<0|oe[V+1]<<8,ie+=2;break;case"ANMF":var pe,k;(k=J.frames[C]={}).offset_x=2*p(I,K),K+=3,k.offset_y=2*p(I,K),K+=3,k.width=1+p(I,K),K+=3,k.height=1+p(I,K),K+=3,k.duration=p(I,K),K+=3,pe=I[K++],k.dispose=1&pe,k.blend=pe>>1&1}W!="ANMF"&&(K+=Q)}return J}}(j,0);x.response=j,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,S=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,b=[w.canvas_height],m=[w.canvas_width];for(var F=0;F<S.length&&S[F].blend!=0;F++);}var H=S[0],$=N.WebPDecodeRGBA(j,H.src_off,H.src_size,m,b);H.rgba=$,H.imgwidth=m[0],H.imgheight=b[0];for(var R=0;R<m[0]*b[0]*4;R++)_[R]=$[R];return this.width=m,this.height=b,this.data=_,this}(function(n){var e=function(){return typeof Dl=="function"},t=function(b,m,_,N){var j=4,x=l;switch(N){case n.image_compression.FAST:j=1,x=s;break;case n.image_compression.MEDIUM:j=6,x=u;break;case n.image_compression.SLOW:j=9,x=c}b=r(b,m,_,x);var w=Dl(b,{level:j});return n.__addimage__.arrayBufferToBinaryString(w)},r=function(b,m,_,N){for(var j,x,w,S=b.length/m,F=new Uint8Array(b.length+S),H=p(),$=0;$<S;$+=1){if(w=$*m,j=b.subarray(w,w+m),N)F.set(N(j,_,x),w+$);else{for(var R,I=H.length,K=[];R<I;R+=1)K[R]=H[R](j,_,x);var J=v(K.concat());F.set(K[J],w+$)}x=j}return F},i=function(b){var m=Array.apply([],b);return m.unshift(0),m},s=function(b,m){var _,N=[],j=b.length;N[0]=1;for(var x=0;x<j;x+=1)_=b[x-m]||0,N[x+1]=b[x]-_+256&255;return N},l=function(b,m,_){var N,j=[],x=b.length;j[0]=2;for(var w=0;w<x;w+=1)N=_&&_[w]||0,j[w+1]=b[w]-N+256&255;return j},u=function(b,m,_){var N,j,x=[],w=b.length;x[0]=3;for(var S=0;S<w;S+=1)N=b[S-m]||0,j=_&&_[S]||0,x[S+1]=b[S]+256-(N+j>>>1)&255;return x},c=function(b,m,_){var N,j,x,w,S=[],F=b.length;S[0]=4;for(var H=0;H<F;H+=1)N=b[H-m]||0,j=_&&_[H]||0,x=_&&_[H-m]||0,w=h(N,j,x),S[H+1]=b[H]-w+256&255;return S},h=function(b,m,_){if(b===m&&m===_)return b;var N=Math.abs(m-_),j=Math.abs(b-_),x=Math.abs(b+m-_-_);return N<=j&&N<=x?b:j<=x?m:_},p=function(){return[i,s,l,u,c]},v=function(b){var m=b.map(function(_){return _.reduce(function(N,j){return N+Math.abs(j)},0)});return m.indexOf(Math.min.apply(null,m))};n.processPNG=function(b,m,_,N){var j,x,w,S,F,H,$,R,I,K,J,C,A,B,U,oe=this.decode.FLATE_DECODE,V="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(w=new Bf(b)).imgData,x=w.bits,j=w.colorSpace,F=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){I=(R=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,J=new Uint8Array(I*w.colors),K=new Uint8Array(I);var W,X=w.pixelBitlength-w.bits;for(B=0,U=0;B<I;B++){for(A=R[B],W=0;W<X;)J[U++]=A>>>W&255,W+=w.bits;K[B]=A>>>W&255}}if(w.bits===16){I=(R=new Uint32Array(w.decodePixels().buffer)).length,J=new Uint8Array(I*(32/w.pixelBitlength)*w.colors),K=new Uint8Array(I*(32/w.pixelBitlength)),C=w.colors>1,B=0,U=0;for(var Q=0;B<I;)A=R[B++],J[U++]=A>>>0&255,C&&(J[U++]=A>>>16&255,A=R[B++],J[U++]=A>>>0&255),K[Q++]=A>>>16&255;x=8}N!==n.image_compression.NONE&&e()?(b=t(J,w.width*w.colors,w.colors,N),$=t(K,w.width,1,N)):(b=J,$=K,oe=void 0)}if(w.colorType===3&&(j=this.color_spaces.INDEXED,H=w.palette,w.transparency.indexed)){var ie=w.transparency.indexed,pe=0;for(B=0,I=ie.length;B<I;++B)pe+=ie[B];if((pe/=255)===I-1&&ie.indexOf(0)!==-1)S=[ie.indexOf(0)];else if(pe!==I){for(R=w.decodePixels(),K=new Uint8Array(R.length),B=0,I=R.length;B<I;B++)K[B]=ie[R[B]];$=t(K,w.width,1)}}var k=function(M){var z;switch(M){case n.image_compression.FAST:z=11;break;case n.image_compression.MEDIUM:z=13;break;case n.image_compression.SLOW:z=14;break;default:z=12}return z}(N);return oe===this.decode.FLATE_DECODE&&(V="/Predictor "+k+" "),V+="/Colors "+F+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:_,data:b,index:m,filter:oe,decodeParameters:V,transparency:S,palette:H,sMask:$,predictor:k,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:j}}}})(Ue.API),function(n){n.processGIF89A=function(e,t,r,i){var s=new qf(e),l=s.width,u=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:l,height:u},p=new _l(100).encode(h,100);return n.processJPEG.call(this,p,t,r,i)},n.processGIF87A=n.processGIF89A}(Ue.API),Vr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vr.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){wt.log("bit decode error:"+t)}},Vr.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var c=this.palette[s>>7-u&1];this.data[l+4*u]=c.blue,this.data[l+4*u+1]=c.green,this.data[l+4*u+2]=c.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Vr.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,u=s>>4,c=15&s,h=this.palette[u];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Vr.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Vr.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,u=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=c,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=h}this.pos+=n}},Vr.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,c=(l>>5&t)/t*255|0,h=(l>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=h,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=255}this.pos+=n}},Vr.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Vr.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=l}},Vr.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var s=new Vr(e,!1),l=s.width,u=s.height,c={data:s.getData(),width:l,height:u},h=new _l(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}}(Ue.API),uu.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var s=new uu(e),l=s.width,u=s.height,c={data:s.getData(),width:l,height:u},h=new _l(100).encode(c,100);return n.processJPEG.call(this,h,t,r,i)}}(Ue.API),Ue.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),u=0,c=0,h=0;h<i;h+=4){var p=r[h],v=r[h+1],b=r[h+2],m=r[h+3];s[u++]=p,s[u++]=v,s[u++]=b,l[c++]=m}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:_,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ue.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ni=Ue.API,ro=ni.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,c=u.fof?u.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=h.fof?h.fof:1,v=e.doKerning!==!1,b=0,m=n.length,_=0,N=u[0]||c,j=[];for(t=0;t<m;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?j.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(b=v&&gt(h[r])==="object"&&!isNaN(parseInt(h[r][_],10))?h[r][_]/p:0,j.push((u[r]||N)/c+b)),_=r;return j},au=ni.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ni.processArabic&&(n=ni.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:ro.apply(this,arguments).reduce(function(s,l){return s+l},0)},ou=function(n,e,t,r){for(var i=[],s=0,l=n.length,u=0;s!==l&&u+e[s]<t;)u+=e[s],s++;i.push(n.slice(0,s));var c=s;for(u=0;s!==l;)u+e[s]>r&&(i.push(n.slice(c,s)),u=0,c=s),u+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},lu=function(n,e,t){t||(t={});var r,i,s,l,u,c,h,p=[],v=[p],b=t.textIndent||0,m=0,_=0,N=n.split(" "),j=ro.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var x=Array(c).join(" "),w=[];N.map(function(F){(F=F.split(/\s*\n/)).length>1?w=w.concat(F.map(function(H,$){return($&&H.length?`
`:"")+H})):w.push(F[0])}),N=w,c=au.apply(this,[x,t])}for(s=0,l=N.length;s<l;s++){var S=0;if(r=N[s],c&&r[0]==`
`&&(r=r.substr(1),S=1),b+m+(_=(i=ro.apply(this,[r,t])).reduce(function(F,H){return F+H},0))>e||S){if(_>e){for(u=ou.apply(this,[r,i,e-(b+m),e]),p.push(u.shift()),p=[u.pop()];u.length;)v.push([u.shift()]);_=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(F,H){return F+H},0)}else p=[r];v.push(p),b=_+c,m=j}else p.push(r),b+=m+_,m=j}return h=c?function(F,H){return(H?x:"")+F.join(" ")}:function(F){return F.join(" ")},v.map(h)},ni.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var v=this.internal.getFont(p.fontName,p.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var u,c,h=[];for(u=0,c=r.length;u<c;u++)h=h.concat(lu.apply(this,[r[u],l,s]));return h},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(v){return"0x"+parseInt(v,10).toString(16)},l=n.__fontmetrics__.compress=function(v){var b,m,_,N,j=["{"];for(var x in v){if(b=v[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=s(x).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof b=="number")b<0?(_=s(b).slice(3),N="-"):(_=s(b).slice(2),N=""),_=N+_.slice(0,-1)+r[_.slice(-1)];else{if(gt(b)!=="object")throw new Error("Don't know what to do with value type "+gt(b)+".");_=l(b)}j.push(m+_)}return j.push("}"),j.join("")},u=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,m,_,N,j={},x=1,w=j,S=[],F="",H="",$=v.length-1,R=1;R<$;R+=1)(N=v[R])=="'"?b?(_=b.join(""),b=void 0):b=[]:b?b.push(N):N=="{"?(S.push([w,_]),w={},_=void 0):N=="}"?((m=S.pop())[0][m[1]]=w,_=void 0,w=m[0]):N=="-"?x=-1:_===void 0?t.hasOwnProperty(N)?(F+=t[N],_=parseInt(F,16)*x,x=1,F=""):F+=N:t.hasOwnProperty(N)?(H+=t[N],w[_]=parseInt(H,16)*x,x=1,_=void 0,H=""):H+=N;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var b=v.font,m=p.Unicode[b.postScriptName];m&&(b.metadata.Unicode={},b.metadata.Unicode.widths=m.widths,b.metadata.Unicode.kerning=m.kerning);var _=h.Unicode[b.postScriptName];_&&(b.metadata.Unicode.encoding=_,b.encoding=_.codePages[0])}])}(Ue.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Qi(u)),l.metadata=n.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ue),function(n){function e(){return(We.canvg?Promise.resolve(We.canvg):kn(()=>import("./index.es-CIStrX7M.js"),__vite__mapDeps([0,1,2]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Ue.API.addSvgAsImage=function(t,r,i,s,l,u,c,h){if(isNaN(r)||isNaN(i))throw wt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw wt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=l;var v=p.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,p.width,p.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(_){return _.fromString(v,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(b)}).then(function(){m.addImage(p.toDataURL("image/jpeg",1),r,i,s,l,c,h)})}}(),Ue.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Ue.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),c=[],h=0,p=0,v=0;function b(_,N){var j,x=!1;for(j=0;j<_.length;j+=1)_[j]===N&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var m=u.length;for(v=0;v<m;v+=1)t[u[v]].value=t[u[v]].defaultValue,t[u[v]].explicitSet=!1}if(gt(n)==="object"){for(i in n)if(s=n[i],b(u,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&b(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(p=0;p<s[h].length;p+=1)typeof s[h][p]!="number"&&(r=!1);r===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,N=[];for(_ in t)t[_].explicitSet===!0&&(t[_].type==="name"?N.push("/"+_+" /"+t[_].value):N.push("/"+_+" "+t[_].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+l.length+u.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+l+u+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Ue.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,l){for(var u,c=l.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],v=0,b=s.length;v<b;++v){if(u=l.metadata.characterToGlyph(s.charCodeAt(v)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=s.charCodeAt(v),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(h[4-u.length],u)}return p.join("")},r=function(s){var l,u,c,h,p,v,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],v=0,b=(u=Object.keys(s).sort(function(m,_){return m-_})).length;v<b;v++)l=u[v],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(h=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+h+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var u=l.font,c=l.out,h=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var v=u.metadata.Unicode.widths,b=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),m="",_=0;_<b.length;_++)m+=String.fromCharCode(b[_]);var N=h();p({data:m,addLength1:!0,objectId:N}),c("endobj");var j=h();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var x=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+li(u.fontName)),c("/FontFile2 "+N+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var w=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+li(u.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+n.API.PDFObject.convert(v)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+li(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var u=l.font,c=l.out,h=l.newObject,p=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var v=u.metadata.rawData,b="",m=0;m<v.length;m++)b+=String.fromCharCode(v[m]);var _=h();p({data:b,addLength1:!0,objectId:_}),c("endobj");var N=h();p({data:r(u.metadata.toUnicode),addLength1:!0,objectId:N}),c("endobj");var j=h();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+_+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+li(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=h();for(var x=0;x<u.metadata.hmtx.widths.length;x++)u.metadata.hmtx.widths[x]=parseInt(u.metadata.hmtx.widths[x]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+li(u.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,u=s.text||"",c=s.x,h=s.y,p=s.options||{},v=s.mutex||{},b=v.pdfEscape,m=v.activeFontKey,_=v.fonts,N=m,j="",x=0,w="",S=_[N].encoding;if(_[N].encoding!=="Identity-H")return{text:u,x:c,y:h,options:p,mutex:v};for(w=u,N=m,Array.isArray(u)&&(w=u[0]),x=0;x<w.length;x+=1)_[N].metadata.hasOwnProperty("cmap")&&(l=_[N].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),l||w[x].charCodeAt(0)<256&&_[N].metadata.hasOwnProperty("Unicode")?j+=w[x]:j+="";var F="";return parseInt(N.slice(1))<14||S==="WinAnsiEncoding"?F=b(j,N).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(F=t(j,_[N])),v.isHex=!0,{text:F,x:c,y:h,options:p,mutex:v}};e.events.push(["postProcessText",function(s){var l=s.text||"",u=[],c={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?u.push([i(Object.assign({},c,{text:l[h][0]})).text,l[h][1],l[h][2]]):u.push(i(Object.assign({},c,{text:l[h]})).text);s.text=u}else s.text=i(Object.assign({},c,{text:l})).text}])}(Ue),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ue.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,l,u,c,h,p,v=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var F=function(C){var A=C.charCodeAt(),B=A>>8,U=N[B];return U!==void 0?v[256*U+(255&A)]:B===252||B===253?"AL":x.test(B)?"L":B===8?"R":"N"},H=function(C){for(var A,B=0;B<C.length;B++){if((A=F(C.charAt(B)))==="L")return!1;if(A==="R")return!0}return!1},$=function(C,A,B,U){var oe,V,W,X,Q=A[U];switch(Q){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(Q="AN");break;case"AL":w=!0,Q="R";break;case"WS":Q="N";break;case"CS":U<1||U+1>=A.length||(oe=B[U-1])!=="EN"&&oe!=="AN"||(V=A[U+1])!=="EN"&&V!=="AN"?Q="N":w&&(V="AN"),Q=V===oe?V:"N";break;case"ES":Q=(oe=U>0?B[U-1]:"B")==="EN"&&U+1<A.length&&A[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&B[U-1]==="EN"){Q="EN";break}if(w){Q="N";break}for(W=U+1,X=A.length;W<X&&A[W]==="ET";)W++;Q=W<X&&A[W]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(X=A.length,W=U+1;W<X&&A[W]==="NSM";)W++;if(W<X){var ie=C[U],pe=ie>=1425&&ie<=2303||ie===64286;if(oe=A[W],pe&&(oe==="R"||oe==="AL")){Q="R";break}}}Q=U<1||(oe=A[U-1])==="B"?"N":B[U-1];break;case"B":w=!1,i=!0,Q=S;break;case"S":s=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":Q="N"}return Q},R=function(C,A,B){var U=C.split("");return B&&I(U,B,{hiLevel:S}),U.reverse(),A&&A.reverse(),U.join("")},I=function(C,A,B){var U,oe,V,W,X,Q=-1,ie=C.length,pe=0,k=[],M=S?m:b,z=[];for(w=!1,i=!1,s=!1,oe=0;oe<ie;oe++)z[oe]=F(C[oe]);for(V=0;V<ie;V++){if(X=pe,k[V]=$(C,z,k,V),U=240&(pe=M[X][_[k[V]]]),pe&=15,A[V]=W=M[pe][5],U>0)if(U===16){for(oe=Q;oe<V;oe++)A[oe]=1;Q=-1}else Q=-1;if(M[pe][6])Q===-1&&(Q=V);else if(Q>-1){for(oe=Q;oe<V;oe++)A[oe]=W;Q=-1}z[V]==="B"&&(A[V]=0),B.hiLevel|=W}s&&function(Y,ee,ce){for(var ue=0;ue<ce;ue++)if(Y[ue]==="S"){ee[ue]=S;for(var fe=ue-1;fe>=0&&Y[fe]==="WS";fe--)ee[fe]=S}}(z,A,ie)},K=function(C,A,B,U,oe){if(!(oe.hiLevel<C)){if(C===1&&S===1&&!i)return A.reverse(),void(B&&B.reverse());for(var V,W,X,Q,ie=A.length,pe=0;pe<ie;){if(U[pe]>=C){for(X=pe+1;X<ie&&U[X]>=C;)X++;for(Q=pe,W=X-1;Q<W;Q++,W--)V=A[Q],A[Q]=A[W],A[W]=V,B&&(V=B[Q],B[Q]=B[W],B[W]=V);pe=X}pe++}}},J=function(C,A,B){var U=C.split(""),oe={hiLevel:S};return B||(B=[]),I(U,B,oe),function(V,W,X){if(X.hiLevel!==0&&p)for(var Q,ie=0;ie<V.length;ie++)W[ie]===1&&(Q=j.indexOf(V[ie]))>=0&&(V[ie]=j[Q+1])}(U,B,oe),K(2,U,A,B,oe),K(1,U,A,B,oe),U.join("")};return this.__bidiEngine__.doBidiReorder=function(C,A,B){if(function(oe,V){if(V)for(var W=0;W<oe.length;W++)V[W]=W;u===void 0&&(u=H(oe)),h===void 0&&(h=H(oe))}(C,A),l||!c||h)if(l&&c&&u^h)S=u?1:0,C=R(C,A,B);else if(!l&&c&&h)S=u?1:0,C=J(C,A,B),C=R(C,A);else if(!l||u||c||h){if(l&&!c&&u^h)C=R(C,A),u?(S=0,C=J(C,A,B)):(S=1,C=J(C,A,B),C=R(C,A));else if(l&&u&&!c&&h)S=1,C=J(C,A,B),C=R(C,A);else if(!l&&!c&&u^h){var U=p;u?(S=1,C=J(C,A,B),S=0,p=!1,C=J(C,A,B),p=U):(S=0,C=J(C,A,B),C=R(C,A),S=1,p=!1,C=J(C,A,B),p=U,C=R(C,A))}}else S=0,C=J(C,A,B);else S=u?1:0,C=J(C,A,B);return C},this.__bidiEngine__.setOptions=function(C){C&&(l=C.isInputVisual,c=C.isOutputVisual,u=C.isInputRtl,h=C.isOutputRtl,p=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),l=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(l=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?l.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):l.push([t.doBidiReorder(i[u])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Ue),Ue.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new rs(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new t0(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Uf(this.contents),this.head=new $f(this),this.name=new Jf(this),this.cmap=new ud(this),this.toUnicode={},this.hhea=new Hf(this),this.maxp=new Yf(this),this.hmtx=new Kf(this),this.post=new Vf(this),this.os2=new Wf(this),this.loca=new e0(this),this.glyf=new Xf(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,c,h;for(h=[],l=0,u=(c=this.bbox).length;l<u;l++)e=c[l],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,l,u;for(l=0,s=0,u=(e=""+e).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var Kr,rs=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,l,u,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^u)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*l+256*u+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n}(),Uf=function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,l,u,c,h,p,v,b,m,_,N;for(N in m=Object.keys(t).length,c=Math.log(2),v=16*Math.floor(Math.log(m)/c),l=Math.floor(v/c),p=16*m-v,(i=new rs).writeInt(this.scalarType),i.writeShort(m),i.writeShort(v),i.writeShort(l),i.writeShort(p),s=16*m,h=i.pos+s,u=null,_=[],t)for(b=t[N],i.writeString(N),i.writeInt(n(b)),i.writeInt(h),i.writeInt(b.length),_=_.concat(b),N==="head"&&(u=h),h+=b.length;h%4;)_.push(0),h++;return i.write(_),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,l;for(t=dd.call(t);t.length%4;)t.push(0);for(s=new rs(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),zf={}.hasOwnProperty,un=function(n,e){for(var t in e)zf.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Kr=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var $f=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new rs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),du=function(){function n(e,t){var r,i,s,l,u,c,h,p,v,b,m,_,N,j,x,w,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(m=e.readUInt16(),b=m/2,e.pos+=6,s=function(){var F,H;for(H=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)H.push(e.readUInt16());return H}(),e.pos+=2,N=function(){var F,H;for(H=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)H.push(e.readUInt16());return H}(),h=function(){var F,H;for(H=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)H.push(e.readUInt16());return H}(),p=function(){var F,H;for(H=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)H.push(e.readUInt16());return H}(),i=(this.length-e.pos+this.offset)/2,u=function(){var F,H;for(H=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)H.push(e.readUInt16());return H}(),c=x=0,S=s.length;x<S;c=++x)for(j=s[c],r=w=_=N[c];_<=j?w<=j:w>=j;r=_<=j?++w:--w)p[c]===0?l=r+h[c]:(l=u[p[c]/2+(r-_)-(b-c)]||0)!==0&&(l+=h[c]),this.codeMap[r]=65535&l}e.pos=v}return n.encode=function(e,t){var r,i,s,l,u,c,h,p,v,b,m,_,N,j,x,w,S,F,H,$,R,I,K,J,C,A,B,U,oe,V,W,X,Q,ie,pe,k,M,z,Y,ee,ce,ue,fe,Ae,_e,Ee;switch(U=new rs,l=Object.keys(e).sort(function(Re,He){return Re-He}),t){case"macroman":for(N=0,j=function(){var Re=[];for(_=0;_<256;++_)Re.push(0);return Re}(),w={0:0},s={},oe=0,Q=l.length;oe<Q;oe++)w[fe=e[i=l[oe]]]==null&&(w[fe]=++N),s[i]={old:e[i],new:w[e[i]]},j[i]=w[e[i]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(j),{charMap:s,subtable:U.data,maxGlyphID:N+1};case"unicode":for(A=[],v=[],S=0,w={},r={},x=h=null,V=0,ie=l.length;V<ie;V++)w[H=e[i=l[V]]]==null&&(w[H]=++S),r[i]={old:H,new:w[H]},u=w[H]-i,x!=null&&u===h||(x&&v.push(x),A.push(i),h=u),x=i;for(x&&v.push(x),v.push(65535),A.push(65535),J=2*(K=A.length),I=2*Math.pow(Math.log(K)/Math.LN2,2),b=Math.log(I/2)/Math.LN2,R=2*K-I,c=[],$=[],m=[],_=W=0,pe=A.length;W<pe;_=++W){if(C=A[_],p=v[_],C===65535){c.push(0),$.push(0);break}if(C-(B=r[C].new)>=32768)for(c.push(0),$.push(2*(m.length+K-_)),i=X=C;C<=p?X<=p:X>=p;i=C<=p?++X:--X)m.push(r[i].new);else c.push(B-C),$.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*K+2*m.length),U.writeUInt16(0),U.writeUInt16(J),U.writeUInt16(I),U.writeUInt16(b),U.writeUInt16(R),ce=0,k=v.length;ce<k;ce++)i=v[ce],U.writeUInt16(i);for(U.writeUInt16(0),ue=0,M=A.length;ue<M;ue++)i=A[ue],U.writeUInt16(i);for(Ae=0,z=c.length;Ae<z;Ae++)u=c[Ae],U.writeUInt16(u);for(_e=0,Y=$.length;_e<Y;_e++)F=$[_e],U.writeUInt16(F);for(Ee=0,ee=m.length;Ee<ee;Ee++)N=m[Ee],U.writeUInt16(N);return{charMap:r,subtable:U.data,maxGlyphID:S+1}}},n}(),ud=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new du(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=du.encode(t,r),(s=new rs).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Hf=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Wf=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Vf=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(i=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var u,c,h;for(h=[],l=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;l=0<=c?++u:--u)h.push(t.readUInt32());return h}).call(this)}},e}(),Gf=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Jf=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,l,u,c,h,p,v,b,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(h={},l=v=0,b=i.length;v<b;l=++v)s=i[l],t.pos=s.offset,p=t.readString(s.length),u=new Gf(p,s),h[m=s.nameID]==null&&(h[m]=[]),h[s.nameID].push(u);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),Yf=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Kf=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,l,u,c,h;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,v;for(v=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)v.push(t.readInt16());return v}(),this.widths=(function(){var p,v,b,m;for(m=[],p=0,v=(b=this.metrics).length;p<v;p++)l=b[p],m.push(l.advance);return m}).call(this),i=this.widths[this.widths.length-1],h=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),dd=[].slice,Xf=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,l,u,c,h,p,v,b;return t in this.cache?this.cache[t]:(l=this.file.loca,r=this.file.contents,i=l.indexOf(t),(s=l.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,u=(c=new rs(r.read(s))).readShort(),p=c.readShort(),b=c.readShort(),h=c.readShort(),v=c.readShort(),this.cache[t]=u===-1?new Zf(c,p,b,h,v):new Qf(c,u,p,b,h,v),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,l,u,c,h;for(u=[],l=[],c=0,h=r.length;c<h;c++)s=t[r[c]],l.push(u.length),s&&(u=u.concat(s.encode(i)));return l.push(u.length),{table:u,offsets:l}},e}(),Qf=function(){function n(e,t,r,i,s,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Zf=function(){function n(e,t,r,i,s){var l,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new rs(dd.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),e0=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return un(e,Kr),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],i=0,s=this.length;i<s;i+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,l=0,u=0;u<i.length;++u)if(i[u]=s,l<r.length&&r[l]==u){++l,i[u]=s;var c=this.offsets[u],h=this.offsets[u+1]-c;h>0&&(s+=h)}for(var p=new Array(4*i.length),v=0;v<i.length;++v)p[4*v+3]=255&i[v],p[4*v+2]=(65280&i[v])>>8,p[4*v+1]=(16711680&i[v])>>16,p[4*v]=(4278190080&i[v])>>24;return p},e}(),t0=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,l,u,c;for(i={},l=0,u=e.length;l<u;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,l,u,c,h,p,v,b,m,_,N,j,x;for(i in r=ud.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),m={0:0},x=r.charMap)m[(c=x[i]).old]=c.new;for(_ in b=r.maxGlyphID,l)_ in m||(m[_]=b++);return p=function(w){var S,F;for(S in F={},w)F[w[S]]=S;return F}(m),v=Object.keys(p).sort(function(w,S){return w-S}),N=function(){var w,S,F;for(F=[],w=0,S=v.length;w<S;w++)u=v[w],F.push(p[u]);return F}(),s=this.font.glyf.encode(l,N,m),h=this.font.loca.encode(s.offsets,N),j={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},n}();Ue.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,l;if(Array.isArray(t))return"["+function(){var u,c,h;for(h=[],u=0,c=t.length;u<c;u++)r=t[u],h.push(e.convert(r));return h}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)l=t[i],s.push("/"+i+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+t},e}();const r0=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Tf,AcroFormAppearance:De,AcroFormButton:Vt,AcroFormCheckBox:ta,AcroFormChoiceField:xs,AcroFormComboBox:ws,AcroFormEditBox:Zi,AcroFormListBox:ys,AcroFormPasswordField:ra,AcroFormPushButton:ea,AcroFormRadioButton:Ns,AcroFormTextField:Zn,GState:la,ShadingPattern:Kn,TilingPattern:bs,default:Ue,jsPDF:Ue},Symbol.toStringTag,{value:"Module"}));var n0={exports:{}};const s0=Tu(r0);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.2
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(n,e){(function(r,i){n.exports=i(function(){try{return s0}catch{}}())})(typeof globalThis<"u"?globalThis:typeof $t<"u"?$t:typeof window<"u"?window:typeof self<"u"?self:$t,function(t){return function(){var r={172:function(u,c){var h=this&&this.__extends||function(){var b=function(m,_){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,j){N.__proto__=j}||function(N,j){for(var x in j)Object.prototype.hasOwnProperty.call(j,x)&&(N[x]=j[x])},b(m,_)};return function(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");b(m,_);function N(){this.constructor=m}m.prototype=_===null?Object.create(_):(N.prototype=_.prototype,new N)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var p=function(){function b(m,_,N){this.table=_,this.pageNumber=_.pageNumber,this.pageCount=this.pageNumber,this.settings=_.settings,this.cursor=N,this.doc=m.getDocument()}return b}();c.HookData=p;var v=function(b){h(m,b);function m(_,N,j,x,w,S){var F=b.call(this,_,N,S)||this;return F.cell=j,F.row=x,F.column=w,F.section=x.section,F}return m}(p);c.CellHookData=v},340:function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0});var p=h(4),v=h(136),b=h(744),m=h(776),_=h(664),N=h(972);function j(x){x.API.autoTable=function(){for(var w=[],S=0;S<arguments.length;S++)w[S]=arguments[S];var F;w.length===1?F=w[0]:(console.error("Use of deprecated autoTable initiation"),F=w[2]||{},F.columns=w[0],F.body=w[1]);var H=(0,m.parseInput)(this,F),$=(0,N.createTable)(this,H);return(0,_.drawTable)(this,$),this},x.API.lastAutoTable=!1,x.API.previousAutoTable=!1,x.API.autoTable.previous=!1,x.API.autoTableText=function(w,S,F,H){(0,v.default)(w,S,F,H,this)},x.API.autoTableSetDefaults=function(w){return b.DocHandler.setDefaults(w,this),this},x.autoTableSetDefaults=function(w,S){b.DocHandler.setDefaults(w,S)},x.API.autoTableHtmlToJson=function(w,S){var F;if(S===void 0&&(S=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var H=new b.DocHandler(this),$=(0,p.parseHtml)(H,w,window,S,!1),R=$.head,I=$.body,K=((F=R[0])===null||F===void 0?void 0:F.map(function(J){return J.content}))||[];return{columns:K,rows:I,data:I}},x.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var w=this.lastAutoTable;return w&&w.finalY?w.finalY:0},x.API.autoTableAddPageContent=function(w){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),x.API.autoTable.globalDefaults||(x.API.autoTable.globalDefaults={}),x.API.autoTable.globalDefaults.addPageContent=w,this},x.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=j},136:function(u,c){Object.defineProperty(c,"__esModule",{value:!0});function h(p,v,b,m,_){m=m||{};var N=1.15,j=_.internal.scaleFactor,x=_.internal.getFontSize()/j,w=_.getLineHeightFactor?_.getLineHeightFactor():N,S=x*w,F=/\r\n|\r|\n/g,H="",$=1;if((m.valign==="middle"||m.valign==="bottom"||m.halign==="center"||m.halign==="right")&&(H=typeof p=="string"?p.split(F):p,$=H.length||1),b+=x*(2-N),m.valign==="middle"?b-=$/2*S:m.valign==="bottom"&&(b-=$*S),m.halign==="center"||m.halign==="right"){var R=x;if(m.halign==="center"&&(R*=.5),H&&$>=1){for(var I=0;I<H.length;I++)_.text(H[I],v-_.getStringUnitWidth(H[I])*R,b),b+=S;return _}v-=_.getStringUnitWidth(p)*R}return m.halign==="justify"?_.text(p,v,b,{maxWidth:m.maxWidth||100,align:"justify"}):_.text(p,v,b),_}c.default=h},420:function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function h(_,N,j){j.applyStyles(N,!0);var x=Array.isArray(_)?_:[_],w=x.map(function(S){return j.getTextWidth(S)}).reduce(function(S,F){return Math.max(S,F)},0);return w}c.getStringWidth=h;function p(_,N,j,x){var w=N.settings.tableLineWidth,S=N.settings.tableLineColor;_.applyStyles({lineWidth:w,lineColor:S});var F=v(w,!1);F&&_.rect(j.x,j.y,N.getWidth(_.pageSize().width),x.y-j.y,F)}c.addTableBorder=p;function v(_,N){var j=_>0,x=N||N===0;return j&&x?"DF":j?"S":x?"F":null}c.getFillStyle=v;function b(_,N){var j,x,w,S;if(_=_||N,Array.isArray(_)){if(_.length>=4)return{top:_[0],right:_[1],bottom:_[2],left:_[3]};if(_.length===3)return{top:_[0],right:_[1],bottom:_[2],left:_[1]};if(_.length===2)return{top:_[0],right:_[1],bottom:_[0],left:_[1]};_.length===1?_=_[0]:_=N}return typeof _=="object"?(typeof _.vertical=="number"&&(_.top=_.vertical,_.bottom=_.vertical),typeof _.horizontal=="number"&&(_.right=_.horizontal,_.left=_.horizontal),{left:(j=_.left)!==null&&j!==void 0?j:N,top:(x=_.top)!==null&&x!==void 0?x:N,right:(w=_.right)!==null&&w!==void 0?w:N,bottom:(S=_.bottom)!==null&&S!==void 0?S:N}):(typeof _!="number"&&(_=N),{top:_,right:_,bottom:_,left:_})}c.parseSpacing=b;function m(_,N){var j=b(N.settings.margin,0);return _.pageSize().width-(j.left+j.right)}c.getPageAvailableWidth=m},796:function(u,c){var h=this&&this.__extends||function(){var m=function(_,N){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,x){j.__proto__=x}||function(j,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(j[w]=x[w])},m(_,N)};return function(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");m(_,N);function j(){this.constructor=_}_.prototype=N===null?Object.create(N):(j.prototype=N.prototype,new j)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var p=function(m){h(_,m);function _(N){var j=m.call(this)||this;return j._element=N,j}return _}(Array);c.HtmlRowInput=p;function v(m){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/m,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=v;function b(m){var _={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return _[m]}c.getTheme=b},903:function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var p=h(420);function v(j,x,w,S,F){var H={},$=1.3333333333333333,R=m(x,function(Q){return F.getComputedStyle(Q).backgroundColor});R!=null&&(H.fillColor=R);var I=m(x,function(Q){return F.getComputedStyle(Q).color});I!=null&&(H.textColor=I);var K=N(S,w);K&&(H.cellPadding=K);var J="borderTopColor",C=$*w,A=S.borderTopWidth;if(S.borderBottomWidth===A&&S.borderRightWidth===A&&S.borderLeftWidth===A){var B=(parseFloat(A)||0)/C;B&&(H.lineWidth=B)}else H.lineWidth={top:(parseFloat(S.borderTopWidth)||0)/C,right:(parseFloat(S.borderRightWidth)||0)/C,bottom:(parseFloat(S.borderBottomWidth)||0)/C,left:(parseFloat(S.borderLeftWidth)||0)/C},H.lineWidth.top||(H.lineWidth.right?J="borderRightColor":H.lineWidth.bottom?J="borderBottomColor":H.lineWidth.left&&(J="borderLeftColor"));console.log(H.lineWidth);var U=m(x,function(Q){return F.getComputedStyle(Q)[J]});U!=null&&(H.lineColor=U);var oe=["left","right","center","justify"];oe.indexOf(S.textAlign)!==-1&&(H.halign=S.textAlign),oe=["middle","bottom","top"],oe.indexOf(S.verticalAlign)!==-1&&(H.valign=S.verticalAlign);var V=parseInt(S.fontSize||"");isNaN(V)||(H.fontSize=V/$);var W=b(S);W&&(H.fontStyle=W);var X=(S.fontFamily||"").toLowerCase();return j.indexOf(X)!==-1&&(H.font=X),H}c.parseCss=v;function b(j){var x="";return(j.fontWeight==="bold"||j.fontWeight==="bolder"||parseInt(j.fontWeight)>=700)&&(x="bold"),(j.fontStyle==="italic"||j.fontStyle==="oblique")&&(x+="italic"),x}function m(j,x){var w=_(j,x);if(!w)return null;var S=w.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!S||!Array.isArray(S))return null;var F=[parseInt(S[1]),parseInt(S[2]),parseInt(S[3])],H=parseInt(S[4]);return H===0||isNaN(F[0])||isNaN(F[1])||isNaN(F[2])?null:F}function _(j,x){var w=x(j);return w==="rgba(0, 0, 0, 0)"||w==="transparent"||w==="initial"||w==="inherit"?j.parentElement==null?null:_(j.parentElement,x):w}function N(j,x){var w=[j.paddingTop,j.paddingRight,j.paddingBottom,j.paddingLeft],S=96/(72/x),F=(parseInt(j.lineHeight)-parseInt(j.fontSize))/x/2,H=w.map(function(R){return parseInt(R||"0")/S}),$=(0,p.parseSpacing)(H,0);return F>$.top&&($.top=F),F>$.bottom&&($.bottom=F),$}},744:function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var h={},p=function(){function v(b){this.jsPDFDocument=b,this.userStyles={textColor:b.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:b.internal.getFontSize(),fontStyle:b.internal.getFont().fontStyle,font:b.internal.getFont().fontName,lineWidth:b.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:b.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return v.setDefaults=function(b,m){m===void 0&&(m=null),m?m.__autoTableDocumentDefaults=b:h=b},v.unifyColor=function(b){return Array.isArray(b)?b:typeof b=="number"?[b,b,b]:typeof b=="string"?[b]:null},v.prototype.applyStyles=function(b,m){var _,N,j;m===void 0&&(m=!1),b.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(b.fontStyle);var x=this.jsPDFDocument.internal.getFont(),w=x.fontStyle,S=x.fontName;if(b.font&&(S=b.font),b.fontStyle){w=b.fontStyle;var F=this.getFontList()[S];F&&F.indexOf(w)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(F[0]),w=F[0])}if(this.jsPDFDocument.setFont(S,w),b.fontSize&&this.jsPDFDocument.setFontSize(b.fontSize),!m){var H=v.unifyColor(b.fillColor);H&&(_=this.jsPDFDocument).setFillColor.apply(_,H),H=v.unifyColor(b.textColor),H&&(N=this.jsPDFDocument).setTextColor.apply(N,H),H=v.unifyColor(b.lineColor),H&&(j=this.jsPDFDocument).setDrawColor.apply(j,H),typeof b.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(b.lineWidth)}},v.prototype.splitTextToSize=function(b,m,_){return this.jsPDFDocument.splitTextToSize(b,m,_)},v.prototype.rect=function(b,m,_,N,j){return this.jsPDFDocument.rect(b,m,_,N,j)},v.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},v.prototype.getTextWidth=function(b){return this.jsPDFDocument.getTextWidth(b)},v.prototype.getDocument=function(){return this.jsPDFDocument},v.prototype.setPage=function(b){this.jsPDFDocument.setPage(b)},v.prototype.addPage=function(){return this.jsPDFDocument.addPage()},v.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},v.prototype.getGlobalOptions=function(){return h||{}},v.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},v.prototype.pageSize=function(){var b=this.jsPDFDocument.internal.pageSize;return b.width==null&&(b={width:b.getWidth(),height:b.getHeight()}),b},v.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},v.prototype.getLineHeightFactor=function(){var b=this.jsPDFDocument;return b.getLineHeightFactor?b.getLineHeightFactor():1.15},v.prototype.getLineHeight=function(b){return b/this.scaleFactor()*this.getLineHeightFactor()},v.prototype.pageNumber=function(){var b=this.jsPDFDocument.internal.getCurrentPageInfo();return b?b.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},v}();c.DocHandler=p},4:function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var p=h(903),v=h(796);function b(N,j,x,w,S){var F,H;w===void 0&&(w=!1),S===void 0&&(S=!1);var $;typeof j=="string"?$=x.document.querySelector(j):$=j;var R=Object.keys(N.getFontList()),I=N.scaleFactor(),K=[],J=[],C=[];if(!$)return console.error("Html table could not be found with input: ",j),{head:K,body:J,foot:C};for(var A=0;A<$.rows.length;A++){var B=$.rows[A],U=(H=(F=B==null?void 0:B.parentElement)===null||F===void 0?void 0:F.tagName)===null||H===void 0?void 0:H.toLowerCase(),oe=m(R,I,x,B,w,S);oe&&(U==="thead"?K.push(oe):U==="tfoot"?C.push(oe):J.push(oe))}return{head:K,body:J,foot:C}}c.parseHtml=b;function m(N,j,x,w,S,F){for(var H=new v.HtmlRowInput(w),$=0;$<w.cells.length;$++){var R=w.cells[$],I=x.getComputedStyle(R);if(S||I.display!=="none"){var K=void 0;F&&(K=(0,p.parseCss)(N,R,j,I,x)),H.push({rowSpan:R.rowSpan,colSpan:R.colSpan,styles:K,_element:R,content:_(R)})}}var J=x.getComputedStyle(w);if(H.length>0&&(S||J.display!=="none"))return H}function _(N){var j=N.cloneNode(!0);return j.innerHTML=j.innerHTML.replace(/\n/g,"").replace(/ +/g," "),j.innerHTML=j.innerHTML.split(/<br.*?>/).map(function(x){return x.trim()}).join(`
`),j.innerText||j.textContent||""}},776:function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var p=h(4),v=h(356),b=h(420),m=h(744),_=h(792);function N($,R){var I=new m.DocHandler($),K=I.getDocumentOptions(),J=I.getGlobalOptions();(0,_.default)(I,J,K,R);var C=(0,v.assign)({},J,K,R),A;typeof window<"u"&&(A=window);var B=j(J,K,R),U=x(J,K,R),oe=w(I,C),V=F(I,C,A);return{id:R.tableId,content:V,hooks:U,styles:B,settings:oe}}c.parseInput=N;function j($,R,I){for(var K={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},J=function(U){if(U==="columnStyles"){var oe=$[U],V=R[U],W=I[U];K.columnStyles=(0,v.assign)({},oe,V,W)}else{var X=[$,R,I],Q=X.map(function(ie){return ie[U]||{}});K[U]=(0,v.assign)({},Q[0],Q[1],Q[2])}},C=0,A=Object.keys(K);C<A.length;C++){var B=A[C];J(B)}return K}function x($,R,I){for(var K=[$,R,I],J={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},C=0,A=K;C<A.length;C++){var B=A[C];B.didParseCell&&J.didParseCell.push(B.didParseCell),B.willDrawCell&&J.willDrawCell.push(B.willDrawCell),B.didDrawCell&&J.didDrawCell.push(B.didDrawCell),B.willDrawPage&&J.willDrawPage.push(B.willDrawPage),B.didDrawPage&&J.didDrawPage.push(B.didDrawPage)}return J}function w($,R){var I,K,J,C,A,B,U,oe,V,W,X,Q,ie=(0,b.parseSpacing)(R.margin,40/$.scaleFactor()),pe=(I=S($,R.startY))!==null&&I!==void 0?I:ie.top,k;R.showFoot===!0?k="everyPage":R.showFoot===!1?k="never":k=(K=R.showFoot)!==null&&K!==void 0?K:"everyPage";var M;R.showHead===!0?M="everyPage":R.showHead===!1?M="never":M=(J=R.showHead)!==null&&J!==void 0?J:"everyPage";var z=(C=R.useCss)!==null&&C!==void 0?C:!1,Y=R.theme||(z?"plain":"striped"),ee=!!R.horizontalPageBreak,ce=(A=R.horizontalPageBreakRepeat)!==null&&A!==void 0?A:null;return{includeHiddenHtml:(B=R.includeHiddenHtml)!==null&&B!==void 0?B:!1,useCss:z,theme:Y,startY:pe,margin:ie,pageBreak:(U=R.pageBreak)!==null&&U!==void 0?U:"auto",rowPageBreak:(oe=R.rowPageBreak)!==null&&oe!==void 0?oe:"auto",tableWidth:(V=R.tableWidth)!==null&&V!==void 0?V:"auto",showHead:M,showFoot:k,tableLineWidth:(W=R.tableLineWidth)!==null&&W!==void 0?W:0,tableLineColor:(X=R.tableLineColor)!==null&&X!==void 0?X:200,horizontalPageBreak:ee,horizontalPageBreakRepeat:ce,horizontalPageBreakBehaviour:(Q=R.horizontalPageBreakBehaviour)!==null&&Q!==void 0?Q:"afterAllRows"}}function S($,R){var I=$.getLastAutoTable(),K=$.scaleFactor(),J=$.pageNumber(),C=!1;if(I&&I.startPageNumber){var A=I.startPageNumber+I.pageNumber-1;C=A===J}return typeof R=="number"?R:(R==null||R===!1)&&C&&(I==null?void 0:I.finalY)!=null?I.finalY+20/K:null}function F($,R,I){var K=R.head||[],J=R.body||[],C=R.foot||[];if(R.html){var A=R.includeHiddenHtml;if(I){var B=(0,p.parseHtml)($,R.html,I,A,R.useCss)||{};K=B.head||K,J=B.body||K,C=B.foot||K}else console.error("Cannot parse html in non browser environment")}var U=R.columns||H(K,J,C);return{columns:U,head:K,body:J,foot:C}}function H($,R,I){var K=$[0]||R[0]||I[0]||[],J=[];return Object.keys(K).filter(function(C){return C!=="_element"}).forEach(function(C){var A=1,B;Array.isArray(K)?B=K[parseInt(C)]:B=K[C],typeof B=="object"&&!Array.isArray(B)&&(A=(B==null?void 0:B.colSpan)||1);for(var U=0;U<A;U++){var oe=void 0;Array.isArray(K)?oe=J.length:oe=C+(U>0?"_".concat(U):"");var V={dataKey:oe};J.push(V)}}),J}},792:function(u,c){Object.defineProperty(c,"__esModule",{value:!0});function h(v,b,m,_){for(var N=function(S){S&&typeof S!="object"&&console.error("The options parameter should be of type object, is: "+typeof S),typeof S.extendWidth<"u"&&(S.tableWidth=S.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof S.margins<"u"&&(typeof S.margin>"u"&&(S.margin=S.margins),console.error("Use of deprecated option: margins, use margin instead.")),S.startY&&typeof S.startY!="number"&&(console.error("Invalid value for startY option",S.startY),delete S.startY),!S.didDrawPage&&(S.afterPageContent||S.beforePageContent||S.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),S.didDrawPage=function(C){v.applyStyles(v.userStyles),S.beforePageContent&&S.beforePageContent(C),v.applyStyles(v.userStyles),S.afterPageContent&&S.afterPageContent(C),v.applyStyles(v.userStyles),S.afterPageAdd&&C.pageNumber>1&&C.afterPageAdd(C),v.applyStyles(v.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(C){S[C]&&console.error('The "'.concat(C,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(C){var A=C[0],B=C[1];S[B]&&(console.error("Use of deprecated option ".concat(B,". Use ").concat(A," instead")),S[A]=S[B])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(C){var A=typeof C=="string"?C:C[0],B=typeof C=="string"?C:C[1];typeof S[A]<"u"&&(typeof S.styles[B]>"u"&&(S.styles[B]=S[A]),console.error("Use of deprecated option: "+A+", use the style "+B+" instead."))});for(var F=0,H=["styles","bodyStyles","headStyles","footStyles"];F<H.length;F++){var $=H[F];p(S[$]||{})}for(var R=S.columnStyles||{},I=0,K=Object.keys(R);I<K.length;I++){var J=K[I];p(R[J]||{})}},j=0,x=[b,m,_];j<x.length;j++){var w=x[j];N(w)}}c.default=h;function p(v){v.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),v.minCellHeight||(v.minCellHeight=v.rowHeight)):v.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),v.cellWidth||(v.cellWidth=v.columnWidth))}},260:function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var p=h(796),v=h(172),b=h(420),m=function(){function x(w,S){this.pageNumber=1,this.pageCount=1,this.id=w.id,this.settings=w.settings,this.styles=w.styles,this.hooks=w.hooks,this.columns=S.columns,this.head=S.head,this.body=S.body,this.foot=S.foot}return x.prototype.getHeadHeight=function(w){return this.head.reduce(function(S,F){return S+F.getMaxCellHeight(w)},0)},x.prototype.getFootHeight=function(w){return this.foot.reduce(function(S,F){return S+F.getMaxCellHeight(w)},0)},x.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},x.prototype.callCellHooks=function(w,S,F,H,$,R){for(var I=0,K=S;I<K.length;I++){var J=K[I],C=new v.CellHookData(w,this,F,H,$,R),A=J(C)===!1;if(F.text=Array.isArray(F.text)?F.text:[F.text],A)return!1}return!0},x.prototype.callEndPageHooks=function(w,S){w.applyStyles(w.userStyles);for(var F=0,H=this.hooks.didDrawPage;F<H.length;F++){var $=H[F];$(new v.HookData(w,this,S))}},x.prototype.callWillDrawPageHooks=function(w,S){for(var F=0,H=this.hooks.willDrawPage;F<H.length;F++){var $=H[F];$(new v.HookData(w,this,S))}},x.prototype.getWidth=function(w){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var S=this.columns.reduce(function(H,$){return H+$.wrappedWidth},0);return S}else{var F=this.settings.margin;return w-F.left-F.right}},x}();c.Table=m;var _=function(){function x(w,S,F,H,$){$===void 0&&($=!1),this.height=0,this.raw=w,w instanceof p.HtmlRowInput&&(this.raw=w._element,this.element=w._element),this.index=S,this.section=F,this.cells=H,this.spansMultiplePages=$}return x.prototype.getMaxCellHeight=function(w){var S=this;return w.reduce(function(F,H){var $;return Math.max(F,(($=S.cells[H.index])===null||$===void 0?void 0:$.height)||0)},0)},x.prototype.hasRowSpan=function(w){var S=this;return w.filter(function(F){var H=S.cells[F.index];return H?H.rowSpan>1:!1}).length>0},x.prototype.canEntireRowFit=function(w,S){return this.getMaxCellHeight(S)<=w},x.prototype.getMinimumRowHeight=function(w,S){var F=this;return w.reduce(function(H,$){var R=F.cells[$.index];if(!R)return 0;var I=S.getLineHeight(R.styles.fontSize),K=R.padding("vertical"),J=K+I;return J>H?J:H},0)},x}();c.Row=_;var N=function(){function x(w,S,F){var H,$;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=S,this.section=F,this.raw=w;var R=w;w!=null&&typeof w=="object"&&!Array.isArray(w)?(this.rowSpan=w.rowSpan||1,this.colSpan=w.colSpan||1,R=($=(H=w.content)!==null&&H!==void 0?H:w.title)!==null&&$!==void 0?$:w,w._element&&(this.raw=w._element)):(this.rowSpan=1,this.colSpan=1);var I=R!=null?""+R:"",K=/\r\n|\r|\n/g;this.text=I.split(K)}return x.prototype.getTextPos=function(){var w;if(this.styles.valign==="top")w=this.y+this.padding("top");else if(this.styles.valign==="bottom")w=this.y+this.height-this.padding("bottom");else{var S=this.height-this.padding("vertical");w=this.y+S/2+this.padding("top")}var F;if(this.styles.halign==="right")F=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var H=this.width-this.padding("horizontal");F=this.x+H/2+this.padding("left")}else F=this.x+this.padding("left");return{x:F,y:w}},x.prototype.getContentHeight=function(w,S){S===void 0&&(S=1.15);var F=Array.isArray(this.text)?this.text.length:1,H=this.styles.fontSize/w*S,$=F*H+this.padding("vertical");return Math.max($,this.styles.minCellHeight)},x.prototype.padding=function(w){var S=(0,b.parseSpacing)(this.styles.cellPadding,0);return w==="vertical"?S.top+S.bottom:w==="horizontal"?S.left+S.right:S[w]},x}();c.Cell=N;var j=function(){function x(w,S,F){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=w,this.raw=S,this.index=F}return x.prototype.getMaxCustomCellWidth=function(w){for(var S=0,F=0,H=w.allRows();F<H.length;F++){var $=H[F],R=$.cells[this.index];R&&typeof R.styles.cellWidth=="number"&&(S=Math.max(S,R.styles.cellWidth))}return S},x}();c.Column=j},356:function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function h(p,v,b,m,_){if(p==null)throw new TypeError("Cannot convert undefined or null to object");for(var N=Object(p),j=1;j<arguments.length;j++){var x=arguments[j];if(x!=null)for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(N[w]=x[w])}return N}c.assign=h},972:function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var p=h(744),v=h(260),b=h(324),m=h(796),_=h(356);function N($,R){var I=new p.DocHandler($),K=j(R,I.scaleFactor()),J=new v.Table(R,K);return(0,b.calculateWidths)(I,J),I.applyStyles(I.userStyles),J}c.createTable=N;function j($,R){var I=$.content,K=F(I.columns);if(I.head.length===0){var J=w(K,"head");J&&I.head.push(J)}if(I.foot.length===0){var J=w(K,"foot");J&&I.foot.push(J)}var C=$.settings.theme,A=$.styles;return{columns:K,head:x("head",I.head,K,A,C,R),body:x("body",I.body,K,A,C,R),foot:x("foot",I.foot,K,A,C,R)}}function x($,R,I,K,J,C){var A={},B=R.map(function(U,oe){for(var V=0,W={},X=0,Q=0,ie=0,pe=I;ie<pe.length;ie++){var k=pe[ie];if(A[k.index]==null||A[k.index].left===0)if(Q===0){var M=void 0;Array.isArray(U)?M=U[k.index-X-V]:M=U[k.dataKey];var z={};typeof M=="object"&&!Array.isArray(M)&&(z=(M==null?void 0:M.styles)||{});var Y=H($,k,oe,J,K,C,z),ee=new v.Cell(M,Y,$);W[k.dataKey]=ee,W[k.index]=ee,Q=ee.colSpan-1,A[k.index]={left:ee.rowSpan-1,times:Q}}else Q--,X++;else A[k.index].left--,Q=A[k.index].times,V++}return new v.Row(U,oe,$,W)});return B}function w($,R){var I={};return $.forEach(function(K){if(K.raw!=null){var J=S(R,K.raw);J!=null&&(I[K.dataKey]=J)}}),Object.keys(I).length>0?I:null}function S($,R){if($==="head"){if(typeof R=="object")return R.header||R.title||null;if(typeof R=="string"||typeof R=="number")return R}else if($==="foot"&&typeof R=="object")return R.footer;return null}function F($){return $.map(function(R,I){var K,J,C;return typeof R=="object"?C=(J=(K=R.dataKey)!==null&&K!==void 0?K:R.key)!==null&&J!==void 0?J:I:C=I,new v.Column(C,R,I)})}function H($,R,I,K,J,C,A){var B=(0,m.getTheme)(K),U;$==="head"?U=J.headStyles:$==="body"?U=J.bodyStyles:$==="foot"&&(U=J.footStyles);var oe=(0,_.assign)({},B.table,B[$],J.styles,U),V=J.columnStyles[R.dataKey]||J.columnStyles[R.index]||{},W=$==="body"?V:{},X=$==="body"&&I%2===0?(0,_.assign)({},B.alternateRow,J.alternateRowStyles):{},Q=(0,m.defaultStyles)(C),ie=(0,_.assign)({},Q,oe,X,W);return(0,_.assign)(ie,A)}},664:function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var p=h(420),v=h(260),b=h(744),m=h(356),_=h(136),N=h(224);function j(V,W){var X=W.settings,Q=X.startY,ie=X.margin,pe={x:ie.left,y:Q},k=W.getHeadHeight(W.columns)+W.getFootHeight(W.columns),M=Q+ie.bottom+k;if(X.pageBreak==="avoid"){var z=W.body,Y=z.reduce(function(ue,fe){return ue+fe.height},0);M+=Y}var ee=new b.DocHandler(V);(X.pageBreak==="always"||X.startY!=null&&M>ee.pageSize().height)&&(oe(ee),pe.y=ie.top),W.callWillDrawPageHooks(ee,pe);var ce=(0,m.assign)({},pe);W.startPageNumber=ee.pageNumber(),X.horizontalPageBreak?x(ee,W,ce,pe):(ee.applyStyles(ee.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&W.head.forEach(function(ue){return J(ee,W,ue,pe,W.columns)}),ee.applyStyles(ee.userStyles),W.body.forEach(function(ue,fe){var Ae=fe===W.body.length-1;K(ee,W,ue,Ae,ce,pe,W.columns)}),ee.applyStyles(ee.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&W.foot.forEach(function(ue){return J(ee,W,ue,pe,W.columns)})),(0,p.addTableBorder)(ee,W,ce,pe),W.callEndPageHooks(ee,pe),W.finalY=pe.y,V.lastAutoTable=W,V.previousAutoTable=W,V.autoTable&&(V.autoTable.previous=W),ee.applyStyles(ee.userStyles)}c.drawTable=j;function x(V,W,X,Q){var ie=(0,N.calculateAllColumnsCanFitInPage)(V,W),pe=W.settings;if(pe.horizontalPageBreakBehaviour==="afterAllRows")ie.forEach(function(Y,ee){V.applyStyles(V.userStyles),ee>0?U(V,W,X,Q,Y.columns,!0):w(V,W,Q,Y.columns),S(V,W,X,Q,Y.columns),H(V,W,Q,Y.columns)});else for(var k=-1,M=ie[0],z=function(){var Y=k;if(M){V.applyStyles(V.userStyles);var ee=M.columns;k>=0?U(V,W,X,Q,ee,!0):w(V,W,Q,ee),Y=F(V,W,k+1,Q,ee),H(V,W,Q,ee)}var ce=Y-k;ie.slice(1).forEach(function(ue){V.applyStyles(V.userStyles),U(V,W,X,Q,ue.columns,!0),F(V,W,k+1,Q,ue.columns,ce),H(V,W,Q,ue.columns)}),k=Y};k<W.body.length-1;)z()}function w(V,W,X,Q){var ie=W.settings;V.applyStyles(V.userStyles),(ie.showHead==="firstPage"||ie.showHead==="everyPage")&&W.head.forEach(function(pe){return J(V,W,pe,X,Q)})}function S(V,W,X,Q,ie){V.applyStyles(V.userStyles),W.body.forEach(function(pe,k){var M=k===W.body.length-1;K(V,W,pe,M,X,Q,ie)})}function F(V,W,X,Q,ie,pe){V.applyStyles(V.userStyles),pe=pe??W.body.length;var k=Math.min(X+pe,W.body.length),M=-1;return W.body.slice(X,k).forEach(function(z,Y){var ee=X+Y===W.body.length-1,ce=B(V,W,ee,Q);z.canEntireRowFit(ce,ie)&&(J(V,W,z,Q,ie),M=X+Y)}),M}function H(V,W,X,Q){var ie=W.settings;V.applyStyles(V.userStyles),(ie.showFoot==="lastPage"||ie.showFoot==="everyPage")&&W.foot.forEach(function(pe){return J(V,W,pe,X,Q)})}function $(V,W,X){var Q=X.getLineHeight(V.styles.fontSize),ie=V.padding("vertical"),pe=Math.floor((W-ie)/Q);return Math.max(0,pe)}function R(V,W,X,Q){var ie={};V.spansMultiplePages=!0,V.height=0;for(var pe=0,k=0,M=X.columns;k<M.length;k++){var z=M[k],Y=V.cells[z.index];if(Y){Array.isArray(Y.text)||(Y.text=[Y.text]);var ee=new v.Cell(Y.raw,Y.styles,Y.section);ee=(0,m.assign)(ee,Y),ee.text=[];var ce=$(Y,W,Q);Y.text.length>ce&&(ee.text=Y.text.splice(ce,Y.text.length));var ue=Q.scaleFactor(),fe=Q.getLineHeightFactor();Y.contentHeight=Y.getContentHeight(ue,fe),Y.contentHeight>=W&&(Y.contentHeight=W,ee.styles.minCellHeight-=W),Y.contentHeight>V.height&&(V.height=Y.contentHeight),ee.contentHeight=ee.getContentHeight(ue,fe),ee.contentHeight>pe&&(pe=ee.contentHeight),ie[z.index]=ee}}var Ae=new v.Row(V.raw,-1,V.section,ie,!0);Ae.height=pe;for(var _e=0,Ee=X.columns;_e<Ee.length;_e++){var z=Ee[_e],ee=Ae.cells[z.index];ee&&(ee.height=Ae.height);var Y=V.cells[z.index];Y&&(Y.height=V.height)}return Ae}function I(V,W,X,Q){var ie=V.pageSize().height,pe=Q.settings.margin,k=pe.top+pe.bottom,M=ie-k;W.section==="body"&&(M-=Q.getHeadHeight(Q.columns)+Q.getFootHeight(Q.columns));var z=W.getMinimumRowHeight(Q.columns,V),Y=z<X;if(z>M)return console.error("Will not be able to print row ".concat(W.index," correctly since it's minimum height is larger than page height")),!0;if(!Y)return!1;var ee=W.hasRowSpan(Q.columns),ce=W.getMaxCellHeight(Q.columns)>M;return ce?(ee&&console.error("The content of row ".concat(W.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ee||Q.settings.rowPageBreak==="avoid")}function K(V,W,X,Q,ie,pe,k){var M=B(V,W,Q,pe);if(X.canEntireRowFit(M,k))J(V,W,X,pe,k);else if(I(V,X,M,W)){var z=R(X,M,W,V);J(V,W,X,pe,k),U(V,W,ie,pe,k),K(V,W,z,Q,ie,pe,k)}else U(V,W,ie,pe,k),K(V,W,X,Q,ie,pe,k)}function J(V,W,X,Q,ie){Q.x=W.settings.margin.left;for(var pe=0,k=ie;pe<k.length;pe++){var M=k[pe],z=X.cells[M.index];if(!z){Q.x+=M.width;continue}V.applyStyles(z.styles),z.x=Q.x,z.y=Q.y;var Y=W.callCellHooks(V,W.hooks.willDrawCell,z,X,M,Q);if(Y===!1){Q.x+=M.width;continue}C(V,z,Q);var ee=z.getTextPos();(0,_.default)(z.text,ee.x,ee.y,{halign:z.styles.halign,valign:z.styles.valign,maxWidth:Math.ceil(z.width-z.padding("left")-z.padding("right"))},V.getDocument()),W.callCellHooks(V,W.hooks.didDrawCell,z,X,M,Q),Q.x+=M.width}Q.y+=X.height}function C(V,W,X){var Q=W.styles;if(V.getDocument().setFillColor(V.getDocument().getFillColor()),typeof Q.lineWidth=="number"){var ie=(0,p.getFillStyle)(Q.lineWidth,Q.fillColor);ie&&V.rect(W.x,X.y,W.width,W.height,ie)}else typeof Q.lineWidth=="object"&&(Q.fillColor&&V.rect(W.x,X.y,W.width,W.height,"F"),A(V,W,X,Q.lineWidth))}function A(V,W,X,Q){var ie,pe,k,M;Q.top&&(ie=X.x,pe=X.y,k=X.x+W.width,M=X.y,Q.right&&(k+=.5*Q.right),Q.left&&(ie-=.5*Q.left),z(Q.top,ie,pe,k,M)),Q.bottom&&(ie=X.x,pe=X.y+W.height,k=X.x+W.width,M=X.y+W.height,Q.right&&(k+=.5*Q.right),Q.left&&(ie-=.5*Q.left),z(Q.bottom,ie,pe,k,M)),Q.left&&(ie=X.x,pe=X.y,k=X.x,M=X.y+W.height,Q.top&&(pe-=.5*Q.top),Q.bottom&&(M+=.5*Q.bottom),z(Q.left,ie,pe,k,M)),Q.right&&(ie=X.x+W.width,pe=X.y,k=X.x+W.width,M=X.y+W.height,Q.top&&(pe-=.5*Q.top),Q.bottom&&(M+=.5*Q.bottom),z(Q.right,ie,pe,k,M));function z(Y,ee,ce,ue,fe){V.getDocument().setLineWidth(Y),V.getDocument().line(ee,ce,ue,fe,"S")}}function B(V,W,X,Q){var ie=W.settings.margin.bottom,pe=W.settings.showFoot;return(pe==="everyPage"||pe==="lastPage"&&X)&&(ie+=W.getFootHeight(W.columns)),V.pageSize().height-Q.y-ie}function U(V,W,X,Q,ie,pe){ie===void 0&&(ie=[]),pe===void 0&&(pe=!1),V.applyStyles(V.userStyles),W.settings.showFoot==="everyPage"&&!pe&&W.foot.forEach(function(M){return J(V,W,M,Q,ie)}),W.callEndPageHooks(V,Q);var k=W.settings.margin;(0,p.addTableBorder)(V,W,X,Q),oe(V),W.pageNumber++,W.pageCount++,Q.x=k.left,Q.y=k.top,X.y=k.top,W.callWillDrawPageHooks(V,Q),W.settings.showHead==="everyPage"&&(W.head.forEach(function(M){return J(V,W,M,Q,ie)}),V.applyStyles(V.userStyles))}c.addPage=U;function oe(V){var W=V.pageNumber();V.setPage(W+1);var X=V.pageNumber();return X===W?(V.addPage(),!0):!1}},224:function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var p=h(420);function v(m,_,N){var j;N===void 0&&(N={});var x=(0,p.getPageAvailableWidth)(m,_),w=new Map,S=[],F=[],H=[];_.settings.horizontalPageBreakRepeat,Array.isArray(_.settings.horizontalPageBreakRepeat)?H=_.settings.horizontalPageBreakRepeat:(typeof _.settings.horizontalPageBreakRepeat=="string"||typeof _.settings.horizontalPageBreakRepeat=="number")&&(H=[_.settings.horizontalPageBreakRepeat]),H.forEach(function(K){var J=_.columns.find(function(C){return C.dataKey===K||C.index===K});J&&!w.has(J.index)&&(w.set(J.index,!0),S.push(J.index),F.push(_.columns[J.index]),x-=J.wrappedWidth)});for(var $=!0,R=(j=N==null?void 0:N.start)!==null&&j!==void 0?j:0;R<_.columns.length;){if(w.has(R)){R++;continue}var I=_.columns[R].wrappedWidth;if($||x>=I)$=!1,S.push(R),F.push(_.columns[R]),x-=I;else break;R++}return{colIndexes:S,columns:F,lastIndex:R-1}}function b(m,_){for(var N=[],j=0;j<_.columns.length;j++){var x=v(m,_,{start:j});x.columns.length&&(N.push(x),j=x.lastIndex)}return N}c.calculateAllColumnsCanFitInPage=b},324:function(u,c,h){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var p=h(420);function v(S,F){b(S,F);var H=[],$=0;F.columns.forEach(function(I){var K=I.getMaxCustomCellWidth(F);K?I.width=K:(I.width=I.wrappedWidth,H.push(I)),$+=I.width});var R=F.getWidth(S.pageSize().width)-$;R&&(R=m(H,R,function(I){return Math.max(I.minReadableWidth,I.minWidth)})),R&&(R=m(H,R,function(I){return I.minWidth})),R=Math.abs(R),!F.settings.horizontalPageBreak&&R>.1/S.scaleFactor()&&(R=R<1?R:Math.round(R),console.warn("Of the table content, ".concat(R," units width could not fit page"))),N(F),j(F,S),_(F)}c.calculateWidths=v;function b(S,F){var H=S.scaleFactor(),$=F.settings.horizontalPageBreak,R=(0,p.getPageAvailableWidth)(S,F);F.allRows().forEach(function(I){for(var K=0,J=F.columns;K<J.length;K++){var C=J[K],A=I.cells[C.index];if(A){var B=F.hooks.didParseCell;F.callCellHooks(S,B,A,I,C,null);var U=A.padding("horizontal");A.contentWidth=(0,p.getStringWidth)(A.text,A.styles,S)+U;var oe=(0,p.getStringWidth)(A.text.join(" ").split(/\s+/),A.styles,S);if(A.minReadableWidth=oe+A.padding("horizontal"),typeof A.styles.cellWidth=="number")A.minWidth=A.styles.cellWidth,A.wrappedWidth=A.styles.cellWidth;else if(A.styles.cellWidth==="wrap"||$===!0)A.contentWidth>R?(A.minWidth=R,A.wrappedWidth=R):(A.minWidth=A.contentWidth,A.wrappedWidth=A.contentWidth);else{var V=10/H;A.minWidth=A.styles.minCellWidth||V,A.wrappedWidth=A.contentWidth,A.minWidth>A.wrappedWidth&&(A.wrappedWidth=A.minWidth)}}}}),F.allRows().forEach(function(I){for(var K=0,J=F.columns;K<J.length;K++){var C=J[K],A=I.cells[C.index];if(A&&A.colSpan===1)C.wrappedWidth=Math.max(C.wrappedWidth,A.wrappedWidth),C.minWidth=Math.max(C.minWidth,A.minWidth),C.minReadableWidth=Math.max(C.minReadableWidth,A.minReadableWidth);else{var B=F.styles.columnStyles[C.dataKey]||F.styles.columnStyles[C.index]||{},U=B.cellWidth||B.minCellWidth;U&&typeof U=="number"&&(C.minWidth=U,C.wrappedWidth=U)}A&&(A.colSpan>1&&!C.minWidth&&(C.minWidth=A.minWidth),A.colSpan>1&&!C.wrappedWidth&&(C.wrappedWidth=A.minWidth))}})}function m(S,F,H){for(var $=F,R=S.reduce(function(V,W){return V+W.wrappedWidth},0),I=0;I<S.length;I++){var K=S[I],J=K.wrappedWidth/R,C=$*J,A=K.width+C,B=H(K),U=A<B?B:A;F-=U-K.width,K.width=U}if(F=Math.round(F*1e10)/1e10,F){var oe=S.filter(function(V){return F<0?V.width>H(V):!0});oe.length&&(F=m(oe,F,H))}return F}c.resizeColumns=m;function _(S){for(var F={},H=1,$=S.allRows(),R=0;R<$.length;R++)for(var I=$[R],K=0,J=S.columns;K<J.length;K++){var C=J[K],A=F[C.index];if(H>1)H--,delete I.cells[C.index];else if(A)A.cell.height+=I.height,H=A.cell.colSpan,delete I.cells[C.index],A.left--,A.left<=1&&delete F[C.index];else{var B=I.cells[C.index];if(!B)continue;if(B.height=I.height,B.rowSpan>1){var U=$.length-R,oe=B.rowSpan>U?U:B.rowSpan;F[C.index]={cell:B,left:oe,row:I}}}}}function N(S){for(var F=S.allRows(),H=0;H<F.length;H++)for(var $=F[H],R=null,I=0,K=0,J=0;J<S.columns.length;J++){var C=S.columns[J];if(K-=1,K>1&&S.columns[J+1])I+=C.width,delete $.cells[C.index];else if(R){var A=R;delete $.cells[C.index],R=null,A.width=C.width+I}else{var A=$.cells[C.index];if(!A)continue;if(K=A.colSpan,I=0,A.colSpan>1){R=A,I+=C.width;continue}A.width=C.width+I}}}function j(S,F){for(var H={count:0,height:0},$=0,R=S.allRows();$<R.length;$++){for(var I=R[$],K=0,J=S.columns;K<J.length;K++){var C=J[K],A=I.cells[C.index];if(A){F.applyStyles(A.styles,!0);var B=A.width-A.padding("horizontal");if(A.styles.overflow==="linebreak")A.text=F.splitTextToSize(A.text,B+1/F.scaleFactor(),{fontSize:A.styles.fontSize});else if(A.styles.overflow==="ellipsize")A.text=x(A.text,B,A.styles,F,"...");else if(A.styles.overflow==="hidden")A.text=x(A.text,B,A.styles,F,"");else if(typeof A.styles.overflow=="function"){var U=A.styles.overflow(A.text,B);typeof U=="string"?A.text=[U]:A.text=U}A.contentHeight=A.getContentHeight(F.scaleFactor(),F.getLineHeightFactor());var oe=A.contentHeight/A.rowSpan;A.rowSpan>1&&H.count*H.height<oe*A.rowSpan?H={height:oe,count:A.rowSpan}:H&&H.count>0&&H.height>oe&&(oe=H.height),oe>I.height&&(I.height=oe)}}H.count--}}function x(S,F,H,$,R){return S.map(function(I){return w(I,F,H,$,R)})}c.ellipsize=x;function w(S,F,H,$,R){var I=1e4*$.scaleFactor();if(F=Math.ceil(F*I)/I,F>=(0,p.getStringWidth)(S,H,$))return S;for(;F<(0,p.getStringWidth)(S+R,H,$)&&!(S.length<=1);)S=S.substring(0,S.length-1);return S.trim()+R}},964:function(u){if(typeof t>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}u.exports=t}},i={};function s(u){var c=i[u];if(c!==void 0)return c.exports;var h=i[u]={exports:{}};return r[u].call(h.exports,h,h.exports,s),h.exports}var l={};return function(){var u=l;Object.defineProperty(u,"__esModule",{value:!0}),u.Cell=u.Column=u.Row=u.Table=u.CellHookData=u.__drawTable=u.__createTable=u.applyPlugin=void 0;var c=s(340),h=s(776),p=s(664),v=s(972),b=s(260);Object.defineProperty(u,"Table",{enumerable:!0,get:function(){return b.Table}});var m=s(172);Object.defineProperty(u,"CellHookData",{enumerable:!0,get:function(){return m.CellHookData}});var _=s(260);Object.defineProperty(u,"Cell",{enumerable:!0,get:function(){return _.Cell}}),Object.defineProperty(u,"Column",{enumerable:!0,get:function(){return _.Column}}),Object.defineProperty(u,"Row",{enumerable:!0,get:function(){return _.Row}});function N(F){(0,c.default)(F)}u.applyPlugin=N;function j(F,H){var $=(0,h.parseInput)(F,H),R=(0,v.createTable)(F,$);(0,p.drawTable)(F,R)}function x(F,H){var $=(0,h.parseInput)(F,H);return(0,v.createTable)(F,$)}u.__createTable=x;function w(F,H){(0,p.drawTable)(F,H)}u.__drawTable=w;try{var S=s(964);S.jsPDF&&(S=S.jsPDF),N(S)}catch{}u.default=j}(),l}()})})(n0);function i0(n){const e=new Ue,t=e.internal.pageSize.width;let r=20;e.setFontSize(16),e.text("DEMONSTRAÇÃO DO RESULTADO DO EXERCÍCIO",t/2,r,{align:"center"}),r+=20,e.setFontSize(12),e.text("Empresa Demo LTDA",20,r),e.setFontSize(10),e.text("CNPJ: 00.000.000/0001-00",20,r+7),e.text("Endereço: Rua Exemplo, 123 - Centro",20,r+14),r+=25,e.setFontSize(11);const i=new Date(n.period.startDate).toLocaleDateString(),s=new Date(n.period.endDate).toLocaleDateString();e.text(`Período: ${i} a ${s}`,t/2,r,{align:"center"});const l=n.receitas.reduce((p,v)=>p+v.valor,0),u=n.custos.reduce((p,v)=>p+v.valor,0),c=n.despesas.reduce((p,v)=>p+v.valor,0),h=l-u-c;return r+=15,e.autoTable({startY:r,head:[["RECEITAS","Valor"]],body:[...n.receitas.map(p=>[p.categoria,`R$ ${p.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]),["Total Receitas",`R$ ${l.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]],theme:"grid",headStyles:{fillColor:[66,139,202]},styles:{fontSize:10},margin:{left:20,right:20}}),r=e.lastAutoTable.finalY+10,e.autoTable({startY:r,head:[["CUSTOS","Valor"]],body:[...n.custos.map(p=>[p.categoria,`R$ ${p.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]),["Total Custos",`R$ ${u.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]],theme:"grid",headStyles:{fillColor:[66,139,202]},styles:{fontSize:10},margin:{left:20,right:20}}),r=e.lastAutoTable.finalY+10,e.autoTable({startY:r,head:[["DESPESAS","Valor"]],body:[...n.despesas.map(p=>[p.categoria,`R$ ${p.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]),["Total Despesas",`R$ ${c.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]],theme:"grid",headStyles:{fillColor:[66,139,202]},styles:{fontSize:10},margin:{left:20,right:20}}),r=e.lastAutoTable.finalY+10,e.autoTable({startY:r,body:[["RESULTADO LÍQUIDO",`R$ ${h.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]],theme:"grid",styles:{fontSize:11,fontStyle:"bold",textColor:h>=0?[0,128,0]:[255,0,0],halign:"left"},margin:{left:20,right:20}}),r=e.lastAutoTable.finalY+40,e.line(20,r,t-20,r),r+=5,e.setFontSize(10),e.text("Empresa Demo LTDA",t/4,r,{align:"center"}),e.text("Liderar Contabilidade",t*3/4,r,{align:"center"}),r+=7,e.text("CNPJ: 00.000.000/0001-00",t/4,r,{align:"center"}),e.text("CNPJ: 13.636.911/0001-51",t*3/4,r,{align:"center"}),r+=7,e.text("João da Silva",t/4,r,{align:"center"}),e.text("Maria Santos",t*3/4,r,{align:"center"}),r+=7,e.text("Sócio Administrador",t/4,r,{align:"center"}),e.text("CRC SP-123456/O-0",t*3/4,r,{align:"center"}),e}function a0(n){const e=new Ue,t=e.internal.pageSize.width;let r=20;e.setFontSize(16),e.text("RELATÓRIO DE FATURAMENTO",t/2,r,{align:"center"}),r+=20,e.setFontSize(12),e.text("Empresa Demo LTDA",20,r),e.setFontSize(10),e.text("CNPJ: 00.000.000/0001-00",20,r+7),e.text("Endereço: Rua Exemplo, 123 - Centro",20,r+14),r+=25,e.setFontSize(11);const i=new Date,s=`Período: ${new Date(i.getFullYear(),i.getMonth()-11,1).toLocaleDateString()} a ${i.toLocaleDateString()}`;e.text(s,t/2,r,{align:"center"}),r+=15;const l=["Competência","Faturamento"],u=n.months.map(h=>[h.month,`R$ ${h.revenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`]);e.autoTable({startY:r,head:[l],body:u,theme:"grid",headStyles:{fillColor:[66,139,202]},styles:{fontSize:10},margin:{left:20,right:20}});const c=n.months.reduce((h,p)=>h+p.revenue,0)/n.months.length;return r=e.lastAutoTable.finalY+10,e.setFontSize(11),e.text(`Média de Faturamento: R$ ${c.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,20,r),r+=40,e.line(20,r,t-20,r),r+=5,e.setFontSize(10),e.text("Empresa Demo LTDA",t/4,r,{align:"center"}),e.text("Liderar Contabilidade",t*3/4,r,{align:"center"}),r+=7,e.text("CNPJ: 00.000.000/0001-00",t/4,r,{align:"center"}),e.text("CNPJ: 13.636.911/0001-51",t*3/4,r,{align:"center"}),r+=7,e.text("João da Silva",t/4,r,{align:"center"}),e.text("Maria Santos",t*3/4,r,{align:"center"}),r+=7,e.text("Sócio Administrador",t/4,r,{align:"center"}),e.text("CRC SP-123456/O-0",t*3/4,r,{align:"center"}),e}function hd(){const[n,e]=Ne.useState({startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[t]=Ne.useState(mo),[r,i]=Ne.useState([]);Ne.useEffect(()=>{const h=Array.from({length:12},(p,v)=>{const b=new Date;return b.setMonth(b.getMonth()-v),{month:b.toLocaleString("pt-BR",{month:"long",year:"numeric"}),date:b}}).reverse().map(({month:p,date:v})=>{const b=new Date(v.getFullYear(),v.getMonth(),1),m=new Date(v.getFullYear(),v.getMonth()+1,0),_=t.filter(N=>N.type==="INCOME"&&N.category&&N.category.toLowerCase().includes("receita")&&new Date(N.date)>=b&&new Date(N.date)<=m).reduce((N,j)=>N+j.amount,0);return{month:p,revenue:_}});i(h)},[t]);const s=(c,h)=>{const p=new Date(c),v=new Date(h);v.setHours(23,59,59,999);const b=t.filter(j=>{const x=new Date(j.date);return x>=p&&x<=v}),m=b.filter(j=>j.type==="INCOME"&&j.category&&j.category.toLowerCase().includes("receita")).reduce((j,x)=>{const w=x.category||"Sem categoria",S=j.find(F=>F.categoria===w);return S?S.valor+=x.amount:j.push({categoria:w,valor:x.amount}),j},[]),_=b.filter(j=>j.type==="EXPENSE"&&j.category&&j.category.toLowerCase().includes("custo")).reduce((j,x)=>{const w=x.category||"Sem categoria",S=j.find(F=>F.categoria===w);return S?S.valor+=x.amount:j.push({categoria:w,valor:x.amount}),j},[]),N=b.filter(j=>j.type==="EXPENSE"&&(!j.category||!j.category.toLowerCase().includes("custo"))).reduce((j,x)=>{const w=x.category||"Sem categoria",S=j.find(F=>F.categoria===w);return S?S.valor+=x.amount:j.push({categoria:w,valor:x.amount}),j},[]);return{period:{startDate:c,endDate:h},receitas:m,custos:_,despesas:N}},l=()=>{const c=s(n.startDate,n.endDate);i0(c).save(`dre_${n.startDate}_${n.endDate}.pdf`)},u=()=>{a0({months:r}).save("relatorio_faturamento.pdf")};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Relatórios"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"DRE - Demonstração do Resultado"}),a.jsx(Cl,{className:"h-6 w-6 text-gray-400"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data Inicial"}),a.jsx("input",{type:"date",value:n.startDate,onChange:c=>e({...n,startDate:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data Final"}),a.jsx("input",{type:"date",value:n.endDate,onChange:c=>e({...n,endDate:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),a.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(An,{className:"h-5 w-5 mr-2"}),"Gerar DRE"]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Relatório de Faturamento"}),a.jsx(fo,{className:"h-6 w-6 text-gray-400"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Gere um relatório detalhado do faturamento dos últimos 12 meses."}),a.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(An,{className:"h-5 w-5 mr-2"}),"Gerar Relatório de Faturamento"]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Faturamento Mensal"}),a.jsx("div",{className:"space-y-4",children:r.map((c,h)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:c.month}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c.revenue)})]},h))})]})]})}function o0(){const[n,e]=Ne.useState([]),[t,r]=Ne.useState(!1),[i,s]=Ne.useState(""),[l,u]=Ne.useState(null),c=Ne.useCallback(()=>n.filter(v=>v.name.toLowerCase().includes(i.toLowerCase())||v.description.toLowerCase().includes(i.toLowerCase())),[n,i]),h=v=>{v.preventDefault();const b=v.currentTarget,m=new FormData(b),_={id:(l==null?void 0:l.id)||crypto.randomUUID(),name:m.get("name"),description:m.get("description"),price:parseFloat(m.get("price")),companyId:"current-company-id",active:!0};e(l?N=>N.map(j=>j.id===l.id?_:j):N=>[...N,_]),r(!1),u(null)},p=v=>{e(b=>b.filter(m=>m.id!==v))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Serviços"}),a.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center space-x-2 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Serviço"})]})]}),t&&a.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:l?"Editar Serviço":"Novo Serviço"}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Serviço"}),a.jsx("input",{id:"name",name:"name",type:"text",required:!0,defaultValue:l==null?void 0:l.name,className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),a.jsx("textarea",{id:"description",name:"description",rows:3,defaultValue:l==null?void 0:l.description,className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço"}),a.jsx("input",{id:"price",name:"price",type:"number",step:"0.01",required:!0,defaultValue:l==null?void 0:l.price,className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar"}),a.jsx("button",{type:"button",onClick:()=>{r(!1),u(null)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancelar"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Buscar serviços...",value:i,onChange:v=>s(v.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Nome"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Descrição"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Preço"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Ações"})]})}),a.jsx("tbody",{children:c().length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum serviço cadastrado"})}):c().map(v=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"px-6 py-4 text-gray-800",children:v.name}),a.jsx("td",{className:"px-6 py-4 text-gray-600",children:v.description}),a.jsx("td",{className:"px-6 py-4 text-right text-gray-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v.price)}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>{u(v),r(!0)},className:"p-2 text-gray-600 hover:text-blue-600",children:a.jsx(hi,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>p(v.id),className:"p-2 text-gray-600 hover:text-red-600",children:a.jsx(fi,{className:"h-5 w-5"})})]})})]},v.id))})]})})]})]})}function l0({onClose:n,onSelect:e,products:t}){const[r,i]=Ne.useState(""),[s,l]=Ne.useState(!1),[u,c]=Ne.useState({name:"",description:"",price:0,stock:0,sku:""}),h=t.filter(v=>v.name.toLowerCase().includes(r.toLowerCase())||v.sku.toLowerCase().includes(r.toLowerCase())),p=()=>{const v={id:crypto.randomUUID(),...u};e(v),l(!1)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Selecionar Produto"}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(ns,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-4 border-b space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:r,onChange:v=>i(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-5 w-5 mr-2"}),"Novo Produto"]})]}),s?a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Novo Produto"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome"}),a.jsx("input",{type:"text",value:u.name,onChange:v=>c({...u,name:v.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descrição"}),a.jsx("textarea",{value:u.description,onChange:v=>c({...u,description:v.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Preço"}),a.jsx("input",{type:"number",step:"0.01",value:u.price,onChange:v=>c({...u,price:parseFloat(v.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estoque"}),a.jsx("input",{type:"number",value:u.stock,onChange:v=>c({...u,stock:parseInt(v.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"SKU"}),a.jsx("input",{type:"text",value:u.sku,onChange:v=>c({...u,sku:v.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Criar e Selecionar"})]})]})]}):a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Estoque"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Preço"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:h.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"Nenhum produto encontrado"})}):h.map(v=>a.jsxs("tr",{onClick:()=>e(v),className:"hover:bg-gray-50 cursor-pointer",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:v.sku}),a.jsx("td",{className:"px-6 py-4 text-sm text-right text-gray-500",children:v.stock}),a.jsx("td",{className:"px-6 py-4 text-sm text-right text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v.price)})]},v.id))})]})})]})})}function c0({onClose:n,onSelect:e,services:t}){const[r,i]=Ne.useState(""),[s,l]=Ne.useState(!1),[u,c]=Ne.useState({name:"",description:"",price:0}),h=t.filter(v=>v.name.toLowerCase().includes(r.toLowerCase())),p=()=>{const v={id:crypto.randomUUID(),companyId:"current-company-id",active:!0,...u};e(v),l(!1)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Selecionar Serviço"}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(ns,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"p-4 border-b space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Buscar serviços...",value:r,onChange:v=>i(v.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-5 w-5 mr-2"}),"Novo Serviço"]})]}),s?a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Novo Serviço"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome"}),a.jsx("input",{type:"text",value:u.name,onChange:v=>c({...u,name:v.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descrição"}),a.jsx("textarea",{value:u.description,onChange:v=>c({...u,description:v.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Preço"}),a.jsx("input",{type:"number",step:"0.01",value:u.price,onChange:v=>c({...u,price:parseFloat(v.target.value)}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Criar e Selecionar"})]})]})]}):a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Nome"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Descrição"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Preço"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:h.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-6 py-4 text-center text-gray-500",children:"Nenhum serviço encontrado"})}):h.map(v=>a.jsxs("tr",{onClick:()=>e(v),className:"hover:bg-gray-50 cursor-pointer",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:v.description}),a.jsx("td",{className:"px-6 py-4 text-sm text-right text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v.price)})]},v.id))})]})})]})})}function u0(n,e){const t=new Ue,r=t.internal.pageSize.width;let i=20;t.setFontSize(16),t.text(e.razaoSocial,20,i),t.setFontSize(10),t.text(`CNPJ: ${e.cnpj}`,20,i+7),t.text(e.endereco,20,i+14),i+=25,t.setFontSize(14),t.text("ORÇAMENTO",r/2,i,{align:"center"}),t.setFontSize(10),t.text(`Data: ${new Date(n.date).toLocaleDateString()}`,r-20,i,{align:"right"}),i+=15,t.setFontSize(12),t.text("Dados do Cliente",20,i),t.setFontSize(10),i+=7,t.text(`Nome: ${n.clientName}`,20,i),i+=7,t.text(`Email: ${n.clientEmail}`,20,i),i+=7,t.text(`Telefone: ${n.clientPhone}`,20,i),i+=15;const s=["Item","Qtd","Valor Unit.","Total"],l=n.items.map(u=>[u.name,u.quantity.toString(),`R$ ${u.price.toFixed(2)}`,`R$ ${(u.quantity*u.price).toFixed(2)}`]);return t.autoTable({startY:i,head:[s],body:l,theme:"grid",headStyles:{fillColor:[66,139,202]},styles:{fontSize:10},margin:{left:20,right:20}}),i=t.lastAutoTable.finalY+10,t.setFontSize(12),t.text(`Valor Total: R$ ${n.total.toFixed(2)}`,r-20,i,{align:"right"}),n.notes&&(i+=15,t.setFontSize(10),t.text("Observações:",20,i),i+=7,t.text(n.notes,20,i)),i+=15,t.text(`Validade: ${new Date(n.validUntil).toLocaleDateString()}`,20,i),i+=30,t.line(20,i,r-20,i),i+=5,t.text("Assinatura do Cliente",r/2,i,{align:"center"}),i+=7,t.text("Data: ____/____/________",r/2,i,{align:"center"}),t}function d0(){const[n,e]=Ne.useState(Zh),[t,r]=Ne.useState(!1),[i,s]=Ne.useState(!1),[l,u]=Ne.useState(!1),[c,h]=Ne.useState([]),[p,v]=Ne.useState({id:"",name:"",email:"",phone:""}),b=()=>c.reduce((x,w)=>x+w.price*w.quantity,0),m=(x,w)=>{const S=[...c];S[x].quantity=w,h(S)},_=x=>{h(c.filter((w,S)=>S!==x))},N=x=>{x.preventDefault();const w={id:crypto.randomUUID(),companyId:"current-company-id",clientId:p.id||crypto.randomUUID(),clientName:p.name,clientEmail:p.email,clientPhone:p.phone,items:c.map(S=>({type:S.type,id:S.id,quantity:S.quantity,price:S.price,name:S.name})),total:b(),date:new Date().toISOString(),status:"draft",validUntil:new Date(Date.now()+30*24*60*60*1e3).toISOString(),notes:"Orçamento válido por 30 dias."};e([...n,w]),r(!1),h([]),v({id:"",name:"",email:"",phone:""})},j=x=>{u0(x,Kh).save(`orcamento_${x.id}.pdf`)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Orçamentos"}),a.jsxs("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center space-x-2 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-5 w-5"}),a.jsx("span",{children:"Novo Orçamento"})]})]}),t&&a.jsxs("div",{className:"bg-white rounded-xl border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Novo Orçamento"}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Cliente"}),a.jsx("input",{type:"text",required:!0,value:p.name,onChange:x=>v({...p,name:x.target.value}),className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:p.email,onChange:x=>v({...p,email:x.target.value}),className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),a.jsx("input",{type:"tel",value:p.phone,onChange:x=>v({...p,phone:x.target.value}),className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Itens"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>s(!0),className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200",children:"Adicionar Produto"}),a.jsx("button",{type:"button",onClick:()=>u(!0),className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200",children:"Adicionar Serviço"})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Quantidade"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Preço Unit."}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ações"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[c.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"Nenhum item adicionado"})}):c.map((x,w)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:x.name}),a.jsx("div",{className:"text-sm text-gray-500",children:x.type==="product"?"Produto":"Serviço"})]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("input",{type:"number",min:"1",value:x.quantity,onChange:S=>m(w,parseInt(S.target.value)),className:"w-20 px-2 py-1 text-right border rounded-md"})}),a.jsx("td",{className:"px-6 py-4 text-right text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x.price)}),a.jsx("td",{className:"px-6 py-4 text-right text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x.price*x.quantity)}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{type:"button",onClick:()=>_(w),className:"text-red-600 hover:text-red-800",children:a.jsx(fi,{className:"h-5 w-5"})})})]},w)),c.length>0&&a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{colSpan:3,className:"px-6 py-4 text-right font-medium",children:"Total"}),a.jsx("td",{className:"px-6 py-4 text-right font-bold text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b())}),a.jsx("td",{})]})]})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>{r(!1),h([]),v({id:"",name:"",email:"",phone:""})},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Salvar Orçamento"})]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Data"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-600",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Ações"})]})}),a.jsx("tbody",{children:n.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"Nenhum orçamento cadastrado"})}):n.map(x=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"px-6 py-4 text-gray-900",children:x.clientName}),a.jsx("td",{className:"px-6 py-4 text-gray-500",children:new Date(x.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-right text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x.total)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`inline-flex justify-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.status==="approved"?"bg-green-100 text-green-800":x.status==="rejected"?"bg-red-100 text-red-800":x.status==="sent"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:x.status==="approved"?"Aprovado":x.status==="rejected"?"Rejeitado":x.status==="sent"?"Enviado":"Rascunho"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>j(x),className:"p-2 text-gray-400 hover:text-blue-600",title:"Gerar PDF",children:a.jsx(An,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600",children:a.jsx(js,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-green-600",children:a.jsx(Ou,{className:"h-5 w-5"})})]})})]},x.id))})]})})}),i&&a.jsx(l0,{onClose:()=>s(!1),onSelect:x=>{h([...c,{type:"product",id:x.id,name:x.name,quantity:1,price:x.price}]),s(!1)},products:Xh}),l&&a.jsx(c0,{onClose:()=>u(!1),onSelect:x=>{h([...c,{type:"service",id:x.id,name:x.name,quantity:1,price:x.price}]),u(!1)},services:Qh})]})}function h0({initialData:n,onSave:e}){const[t,r]=Ne.useState({razaoSocial:(n==null?void 0:n.razaoSocial)||"",cnpj:(n==null?void 0:n.cnpj)||"",email:(n==null?void 0:n.email)||"",whatsapp:(n==null?void 0:n.whatsapp)||"",socioNome:(n==null?void 0:n.socioNome)||"",socioCpf:(n==null?void 0:n.socioCpf)||"",endereco:(n==null?void 0:n.endereco)||"",telefoneFixo:(n==null?void 0:n.telefoneFixo)||"",inscricaoEstadual:(n==null?void 0:n.inscricaoEstadual)||"",inscricaoMunicipal:(n==null?void 0:n.inscricaoMunicipal)||"",dataAbertura:(n==null?void 0:n.dataAbertura)||"",regimeTributario:(n==null?void 0:n.regimeTributario)||"Simples Nacional",ramoAtividade:(n==null?void 0:n.ramoAtividade)||"",accountingCnpj:(n==null?void 0:n.accountingCnpj)||""}),i=s=>{s.preventDefault(),e(t)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Dados da Empresa"}),a.jsxs("button",{onClick:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center space-x-2 hover:bg-blue-700",children:[a.jsx(Zl,{className:"h-5 w-5"}),a.jsx("span",{children:"Salvar Alterações"})]})]}),a.jsx("form",{onSubmit:i,className:"space-y-6",children:a.jsx("div",{className:"bg-white rounded-xl border p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Razão Social"}),a.jsx("input",{type:"text",value:t.razaoSocial,onChange:s=>r({...t,razaoSocial:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CNPJ"}),a.jsx("input",{type:"text",value:t.cnpj,onChange:s=>r({...t,cnpj:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",value:t.email,onChange:s=>r({...t,email:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"WhatsApp"}),a.jsx("input",{type:"tel",value:t.whatsapp,onChange:s=>r({...t,whatsapp:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome do Sócio"}),a.jsx("input",{type:"text",value:t.socioNome,onChange:s=>r({...t,socioNome:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CPF do Sócio"}),a.jsx("input",{type:"text",value:t.socioCpf,onChange:s=>r({...t,socioCpf:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Endereço"}),a.jsx("input",{type:"text",value:t.endereco,onChange:s=>r({...t,endereco:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone Fixo"}),a.jsx("input",{type:"tel",value:t.telefoneFixo,onChange:s=>r({...t,telefoneFixo:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Inscrição Estadual"}),a.jsx("input",{type:"text",value:t.inscricaoEstadual,onChange:s=>r({...t,inscricaoEstadual:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Inscrição Municipal"}),a.jsx("input",{type:"text",value:t.inscricaoMunicipal,onChange:s=>r({...t,inscricaoMunicipal:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data de Abertura"}),a.jsx("input",{type:"date",value:t.dataAbertura,onChange:s=>r({...t,dataAbertura:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Regime Tributário"}),a.jsxs("select",{value:t.regimeTributario,onChange:s=>r({...t,regimeTributario:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[a.jsx("option",{value:"Simples Nacional",children:"Simples Nacional"}),a.jsx("option",{value:"Lucro Presumido",children:"Lucro Presumido"}),a.jsx("option",{value:"Lucro Real",children:"Lucro Real"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ramo de Atividade"}),a.jsx("input",{type:"text",value:t.ramoAtividade,onChange:s=>r({...t,ramoAtividade:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CNPJ da Contabilidade"}),a.jsx("input",{type:"text",value:t.accountingCnpj,onChange:s=>r({...t,accountingCnpj:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Digite o CNPJ da sua contabilidade"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Se você trabalha com uma contabilidade, informe o CNPJ dela para vincular o acesso"})]})]})})})]})}const zt={PENDING_COMPANIES:"pending_companies",APPROVED_COMPANIES:"approved_companies",PENDING_ACCOUNTINGS:"pending_accountings",APPROVED_ACCOUNTINGS:"approved_accountings"};localStorage.getItem(zt.PENDING_COMPANIES)||localStorage.setItem(zt.PENDING_COMPANIES,"[]");localStorage.getItem(zt.APPROVED_COMPANIES)||localStorage.setItem(zt.APPROVED_COMPANIES,"[]");localStorage.getItem(zt.PENDING_ACCOUNTINGS)||localStorage.setItem(zt.PENDING_ACCOUNTINGS,"[]");localStorage.getItem(zt.APPROVED_ACCOUNTINGS)||localStorage.setItem(zt.APPROVED_ACCOUNTINGS,"[]");const Sn={addPendingCompany:n=>{const e=Sn.getPendingCompanies();e.push({...n,status:"pending",active:!1,createdAt:new Date}),localStorage.setItem(zt.PENDING_COMPANIES,JSON.stringify(e))},getPendingCompanies:()=>{const n=localStorage.getItem(zt.PENDING_COMPANIES);return n?JSON.parse(n):[]},approveCompany:n=>{const e=Sn.getPendingCompanies(),t=Sn.getApprovedCompanies(),r=e.findIndex(i=>i.id===n);if(r!==-1){const i=e[r];i.status="approved",i.active=!0,t.push(i),e.splice(r,1),localStorage.setItem(zt.PENDING_COMPANIES,JSON.stringify(e)),localStorage.setItem(zt.APPROVED_COMPANIES,JSON.stringify(t))}},rejectCompany:n=>{const e=Sn.getPendingCompanies(),t=e.findIndex(r=>r.id===n);t!==-1&&(e[t].status="rejected",e[t].active=!1,localStorage.setItem(zt.PENDING_COMPANIES,JSON.stringify(e)))},getApprovedCompanies:()=>{const n=localStorage.getItem(zt.APPROVED_COMPANIES);return n?JSON.parse(n):[]},addPendingAccounting:n=>{const e=Sn.getPendingAccountings();e.push({...n,status:"pending",active:!1,createdAt:new Date}),localStorage.setItem(zt.PENDING_ACCOUNTINGS,JSON.stringify(e))},getPendingAccountings:()=>{const n=localStorage.getItem(zt.PENDING_ACCOUNTINGS);return n?JSON.parse(n):[]},approveAccounting:n=>{const e=Sn.getPendingAccountings(),t=Sn.getApprovedAccountings(),r=e.findIndex(i=>i.id===n);if(r!==-1){const i=e[r];i.status="approved",i.active=!0,t.push(i),e.splice(r,1),localStorage.setItem(zt.PENDING_ACCOUNTINGS,JSON.stringify(e)),localStorage.setItem(zt.APPROVED_ACCOUNTINGS,JSON.stringify(t))}},rejectAccounting:n=>{const e=Sn.getPendingAccountings(),t=e.findIndex(r=>r.id===n);t!==-1&&(e[t].status="rejected",e[t].active=!1,localStorage.setItem(zt.PENDING_ACCOUNTINGS,JSON.stringify(e)))},getApprovedAccountings:()=>{const n=localStorage.getItem(zt.APPROVED_ACCOUNTINGS);return n?JSON.parse(n):[]}},f0=n=>/^(\+55|55)?(\d{2})(\d{4,5})(\d{4})$/.test(n.replace(/\D/g,""));function p0({onBack:n}){const[e,t]=Ne.useState(null),[r,i]=Ne.useState(null),[s,l]=Ne.useState({name:"",cnpj:"",email:"",phone:"",ownerName:"",address:"",password:"",confirmPassword:""}),u=async c=>{if(c.preventDefault(),t(null),i(null),!f0(s.phone)){t("Número de telefone inválido");return}if(s.password!==s.confirmPassword){t("As senhas não coincidem");return}if(!/^\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}$/.test(s.cnpj)){t("CNPJ inválido. Use o formato: XX.XXX.XXX/XXXX-XX");return}try{const p={id:crypto.randomUUID(),name:s.name,cnpj:s.cnpj,address:s.address,owner:s.ownerName,mainEmail:s.email,phone:s.phone,users:[],active:!1,status:"pending",createdAt:new Date,permissions:[],accountingId:""};Sn.addPendingCompany(p),i("Cadastro realizado com sucesso! Aguarde a aprovação do administrador."),l({name:"",cnpj:"",email:"",phone:"",ownerName:"",address:"",password:"",confirmPassword:""})}catch{t("Erro ao realizar cadastro. Tente novamente.")}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Cadastre sua empresa"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Preencha os dados abaixo para solicitar seu cadastro"})]})}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[e&&a.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(ia,{className:"h-5 w-5 text-red-400"}),a.jsx("p",{className:"ml-3 text-sm text-red-700",children:e})]})}),r&&a.jsx("div",{className:"mb-4 bg-green-50 border-l-4 border-green-400 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(ia,{className:"h-5 w-5 text-green-400"}),a.jsx("p",{className:"ml-3 text-sm text-green-700",children:r})]})}),a.jsxs("form",{onSubmit:u,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Razão Social"}),a.jsx("input",{type:"text",value:s.name,onChange:c=>l({...s,name:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CNPJ"}),a.jsx("input",{type:"text",value:s.cnpj,onChange:c=>l({...s,cnpj:c.target.value}),placeholder:"XX.XXX.XXX/XXXX-XX",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Endereço"}),a.jsx("input",{type:"text",value:s.address,onChange:c=>l({...s,address:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Responsável"}),a.jsx("input",{type:"text",value:s.ownerName,onChange:c=>l({...s,ownerName:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",value:s.email,onChange:c=>l({...s,email:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),a.jsx("input",{type:"tel",value:s.phone,onChange:c=>l({...s,phone:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Senha"}),a.jsx("input",{type:"password",value:s.password,onChange:c=>l({...s,password:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirmar Senha"}),a.jsx("input",{type:"password",value:s.confirmPassword,onChange:c=>l({...s,confirmPassword:c.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cadastrar"})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Já tem uma conta?"})})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:n,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Fazer login"})})]})]})})]})}const m0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>kn(()=>Promise.resolve().then(()=>mi),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class rc extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class g0 extends rc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class v0 extends rc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class b0 extends rc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Hl;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Hl||(Hl={}));var x0=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function u(p){try{h(r.next(p))}catch(v){l(v)}}function c(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})};class y0{constructor(e,{headers:t={},customFetch:r,region:i=Hl.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=m0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return x0(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:l}=t;let u={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(u["x-region"]=c);let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const p=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h}).catch(_=>{throw new g0(_)}),v=p.headers.get("x-relay-error");if(v&&v==="true")throw new v0(p);if(!p.ok)throw new b0(p);let b=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return b==="application/json"?m=yield p.json():b==="application/octet-stream"?m=yield p.blob():b==="text/event-stream"?m=p:b==="multipart/form-data"?m=yield p.formData():m=yield p.text(),{data:m,error:null}}catch(i){return{data:null,error:i}}})}}var mr={},nc={},xo={},ua={},yo={},wo={},w0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},di=w0();const N0=di.fetch,fd=di.fetch.bind(di),pd=di.Headers,j0=di.Request,_0=di.Response,mi=Object.freeze(Object.defineProperty({__proto__:null,Headers:pd,Request:j0,Response:_0,default:fd,fetch:N0},Symbol.toStringTag,{value:"Module"})),S0=Tu(mi);var No={};Object.defineProperty(No,"__esModule",{value:!0});class A0 extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}No.default=A0;var md=$t&&$t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(wo,"__esModule",{value:!0});const k0=md(S0),L0=md(No);let P0=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=k0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var l,u,c;let h=null,p=null,v=null,b=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=x:p=JSON.parse(x))}const N=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),j=(u=s.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");N&&j&&j.length>1&&(v=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,b=406,m="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const N=await s.text();try{h=JSON.parse(N),Array.isArray(h)&&s.status===404&&(p=[],h=null,b=200,m="OK")}catch{s.status===404&&N===""?(b=204,m="No Content"):h={message:N}}if(h&&this.isMaybeSingle&&(!((c=h==null?void 0:h.details)===null||c===void 0)&&c.includes("0 rows"))&&(h=null,b=200,m="OK"),h&&this.shouldThrowOnError)throw new L0.default(h)}return{error:h,data:p,count:v,status:b,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var l,u,c;return{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(u=s==null?void 0:s.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}};wo.default=P0;var C0=$t&&$t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(yo,"__esModule",{value:!0});const E0=C0(wo);let I0=class extends E0.default{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const l=s?`${s}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:l="text"}={}){var u;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${h}"; options=${c};`,l==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};yo.default=I0;var T0=$t&&$t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ua,"__esModule",{value:!0});const O0=T0(yo);let F0=class extends O0.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};ua.default=F0;var R0=$t&&$t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(xo,"__esModule",{value:!0});const Yi=R0(ua);let D0=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Yi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const l="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),s||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(e)){const c=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new Yi.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Yi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Yi.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};xo.default=D0;var jo={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.version=void 0;_o.version="0.0.0-automated";Object.defineProperty(jo,"__esModule",{value:!0});jo.DEFAULT_HEADERS=void 0;const M0=_o;jo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${M0.version}`};var gd=$t&&$t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nc,"__esModule",{value:!0});const B0=gd(xo),q0=gd(ua),U0=jo;let z0=class vd{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},U0.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(e){const t=new URL(`${this.url}/${e}`);return new B0.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new vd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:i=!1,count:s}={}){let l;const u=new URL(`${this.url}/rpc/${e}`);let c;r||i?(l=r?"HEAD":"GET",Object.entries(t).filter(([p,v])=>v!==void 0).map(([p,v])=>[p,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([p,v])=>{u.searchParams.append(p,v)})):(l="POST",c=t);const h=Object.assign({},this.headers);return s&&(h.Prefer=`count=${s}`),new q0.default({method:l,url:u,headers:h,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};nc.default=z0;var gi=$t&&$t.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(mr,"__esModule",{value:!0});mr.PostgrestError=mr.PostgrestBuilder=mr.PostgrestTransformBuilder=mr.PostgrestFilterBuilder=mr.PostgrestQueryBuilder=mr.PostgrestClient=void 0;const bd=gi(nc);mr.PostgrestClient=bd.default;const xd=gi(xo);mr.PostgrestQueryBuilder=xd.default;const yd=gi(ua);mr.PostgrestFilterBuilder=yd.default;const wd=gi(yo);mr.PostgrestTransformBuilder=wd.default;const Nd=gi(wo);mr.PostgrestBuilder=Nd.default;const jd=gi(No);mr.PostgrestError=jd.default;var $0=mr.default={PostgrestClient:bd.default,PostgrestQueryBuilder:xd.default,PostgrestFilterBuilder:yd.default,PostgrestTransformBuilder:wd.default,PostgrestBuilder:Nd.default,PostgrestError:jd.default};const{PostgrestClient:H0,PostgrestQueryBuilder:Gm,PostgrestFilterBuilder:Jm,PostgrestTransformBuilder:Ym,PostgrestBuilder:Km}=$0,W0="2.10.7",V0={"X-Client-Info":`realtime-js/${W0}`},G0="1.0.0",_d=1e4,J0=1e3;var ci;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ci||(ci={}));var jr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(jr||(jr={}));var Jr;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Jr||(Jr={}));var Wl;(function(n){n.websocket="websocket"})(Wl||(Wl={}));var vs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(vs||(vs={}));class Y0{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+s));l=l+s;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:c,payload:h}}}class Sd{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _t;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(_t||(_t={}));const hu=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,l)=>(s[l]=K0(l,n,e,i),s),{})},K0=(n,e,t,r)=>{const i=e.find(u=>u.name===n),s=i==null?void 0:i.type,l=t[n];return s&&!r.includes(s)?Ad(s,l):Vl(l)},Ad=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return ep(e,t)}switch(n){case _t.bool:return X0(e);case _t.float4:case _t.float8:case _t.int2:case _t.int4:case _t.int8:case _t.numeric:case _t.oid:return Q0(e);case _t.json:case _t.jsonb:return Z0(e);case _t.timestamp:return tp(e);case _t.abstime:case _t.date:case _t.daterange:case _t.int4range:case _t.int8range:case _t.money:case _t.reltime:case _t.text:case _t.time:case _t.timestamptz:case _t.timetz:case _t.tsrange:case _t.tstzrange:return Vl(e);default:return Vl(e)}},Vl=n=>n,X0=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Q0=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Z0=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},ep=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const l=n.slice(1,t);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>Ad(e,u))}return n},tp=n=>typeof n=="string"?n.replace(" ","T"):n,kd=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Sl{constructor(e,t,r={},i=_d){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fu;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(fu||(fu={}));class na{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=na.syncState(this.state,i,s,l),this.pendingDiffs.forEach(c=>{this.state=na.syncDiff(this.state,c,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=na.syncDiff(this.state,i,s,l),u())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),l=this.transformState(t),u={},c={};return this.map(s,(h,p)=>{l[h]||(c[h]=p)}),this.map(l,(h,p)=>{const v=s[h];if(v){const b=p.map(j=>j.presence_ref),m=v.map(j=>j.presence_ref),_=p.filter(j=>m.indexOf(j.presence_ref)<0),N=v.filter(j=>b.indexOf(j.presence_ref)<0);_.length>0&&(u[h]=_),N.length>0&&(c[h]=N)}else u[h]=p}),this.syncDiff(s,{joins:u,leaves:c},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(u,c)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(c),p.length>0){const v=e[u].map(m=>m.presence_ref),b=p.filter(m=>v.indexOf(m.presence_ref)<0);e[u].unshift(...b)}r(u,p,c)}),this.map(l,(u,c)=>{let h=e[u];if(!h)return;const p=c.map(v=>v.presence_ref);h=h.filter(v=>p.indexOf(v.presence_ref)<0),e[u]=h,i(u,h,c),h.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pu;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(pu||(pu={}));var mu;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(mu||(mu={}));var gu;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(gu||(gu={}));class sc{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=jr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Sl(this,Jr.join,this.params,this.timeout),this.rejoinTimer=new Sd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new na(this),this.broadcastEndpointURL=kd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:l,private:u}}=this.params;this._onError(p=>e&&e("CHANNEL_ERROR",p)),this._onClose(()=>e&&e("CLOSED"));const c={},h={broadcast:s,presence:l,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:p})=>{var v;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),p===void 0){e&&e("SUBSCRIBED");return}else{const b=this.bindings.postgres_changes,m=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,_=[];for(let N=0;N<m;N++){const j=b[N],{filter:{event:x,schema:w,table:S,filter:F}}=j,H=p&&p[N];if(H&&H.event===x&&H.schema===w&&H.table===S&&H.filter===F)_.push(Object.assign(Object.assign({},j),{id:H.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e("SUBSCRIBED");return}}).receive("error",p=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:l}=e,u={method:"POST",headers:{Authorization:this.socket.accessToken?`Bearer ${this.socket.accessToken}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,c;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new Sl(this,Jr.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sl(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const l=e.toLocaleLowerCase(),{close:u,error:c,leave:h,join:p}=Jr;if(r&&[u,c,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let b=this._onMessage(l,t,r);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var _,N,j;return((_=m.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(N=m.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(m=>m.callback(b,r)):(s=this.bindings[l])===null||s===void 0||s.filter(m=>{var _,N,j,x,w,S;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in m){const F=m.id,H=(_=m.filter)===null||_===void 0?void 0:_.event;return F&&((N=t.ids)===null||N===void 0?void 0:N.includes(F))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((j=t.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const F=(w=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return F==="*"||F===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===l}).map(m=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:N,table:j,commit_timestamp:x,type:w,errors:S}=_;b=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:x,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(_))}m.callback(b,r)})}_isClosed(){return this.state===jr.closed}_isJoined(){return this.state===jr.joined}_isJoining(){return this.state===jr.joining}_isLeaving(){return this.state===jr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&sc.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jr.close,{},e)}_onError(e){this._on(Jr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=hu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=hu(e.columns,e.old_record)),t}}const rp=()=>{},np=typeof WebSocket<"u",sp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ip{constructor(e,t){var r;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=V0,this.params={},this.timeout=_d,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=rp,this.conn=null,this.sendBuffer=[],this.serializer=new Y0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...u)=>kn(()=>Promise.resolve().then(()=>mi),void 0).then(({default:c})=>c(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${Wl.websocket}`,this.httpEndpoint=kd(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessToken=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,l)=>l(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sd(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(np){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new ap(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),kn(()=>import("./browser-_xnikinW.js").then(e=>e.b),__vite__mapDeps([3,1])).then(({default:e})=>{this.conn=new e(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ci.connecting:return vs.Connecting;case ci.open:return vs.Open;case ci.closing:return vs.Closing;default:return vs.Closed}}isConnected(){return this.connectionState()===vs.Open}channel(e,t={config:{}}){const r=new sc(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e,l=()=>{this.encode(e,u=>{var c;(c=this.conn)===null||c===void 0||c.send(u)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Jr.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:G0}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:l}=t;(l&&l===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${l&&"("+l+")"||""}`,s),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,l)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this._sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(J0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([sp],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class ap{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ci.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ic extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Kt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class op extends ic{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Gl extends ic{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var lp=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function u(p){try{h(r.next(p))}catch(v){l(v)}}function c(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})};const Ld=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>kn(()=>Promise.resolve().then(()=>mi),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},cp=()=>lp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield kn(()=>Promise.resolve().then(()=>mi),void 0)).Response:Response}),Jl=n=>{if(Array.isArray(n))return n.map(t=>Jl(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Jl(r)}),e};var As=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function u(p){try{h(r.next(p))}catch(v){l(v)}}function c(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})};const Al=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),up=(n,e,t)=>As(void 0,void 0,void 0,function*(){const r=yield cp();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new op(Al(i),n.status||500))}).catch(i=>{e(new Gl(Al(i),i))}):e(new Gl(Al(n),n))}),dp=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function da(n,e,t,r,i,s){return As(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,dp(e,r,i,s)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>l(c)).catch(c=>up(c,u,r))})})}function uo(n,e,t,r){return As(this,void 0,void 0,function*(){return da(n,"GET",e,t,r)})}function Yn(n,e,t,r,i){return As(this,void 0,void 0,function*(){return da(n,"POST",e,r,i,t)})}function hp(n,e,t,r,i){return As(this,void 0,void 0,function*(){return da(n,"PUT",e,r,i,t)})}function fp(n,e,t,r){return As(this,void 0,void 0,function*(){return da(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Pd(n,e,t,r,i){return As(this,void 0,void 0,function*(){return da(n,"DELETE",e,r,i,t)})}var pr=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function u(p){try{h(r.next(p))}catch(v){l(v)}}function c(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})};const pp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mp{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Ld(i)}uploadOrUpdate(e,t,r,i){return pr(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},vu),i);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const c=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",l.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(t),p=this._getFinalPath(h),v=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:s,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),b=yield v.json();return v.ok?{data:{path:h,id:b.Id,fullPath:b.Key},error:null}:{data:null,error:b}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}upload(e,t,r){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return pr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let c;const h=Object.assign({upsert:vu.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const v=yield this.fetch(u.toString(),{method:"PUT",body:c,headers:p}),b=yield v.json();return v.ok?{data:{path:s,fullPath:b.Key},error:null}:{data:null,error:b}}catch(c){if(Kt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return pr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield Yn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new ic("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}})}update(e,t,r){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return pr(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}copy(e,t,r){return pr(this,void 0,void 0,function*(){try{return{data:{path:(yield Yn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return pr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Yn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return pr(this,void 0,void 0,function*(){try{const i=yield Yn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}download(e,t){return pr(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=s?`?${s}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield uo(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Kt(u))return{data:null,error:u};throw u}})}info(e){return pr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield uo(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Jl(r),error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}})}exists(e){return pr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield fp(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Kt(r)&&r instanceof Gl){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&i.push(c);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(e){return pr(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Kt(t))return{data:null,error:t};throw t}})}list(e,t,r){return pr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pp),t),{prefix:e||""});return{data:yield Yn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const gp="2.7.1",vp={"X-Client-Info":`storage-js/${gp}`};var si=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function u(p){try{h(r.next(p))}catch(v){l(v)}}function c(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})};class bp{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},vp),t),this.fetch=Ld(r)}listBuckets(){return si(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Kt(e))return{data:null,error:e};throw e}})}getBucket(e){return si(this,void 0,void 0,function*(){try{return{data:yield uo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Kt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return si(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return si(this,void 0,void 0,function*(){try{return{data:yield hp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return si(this,void 0,void 0,function*(){try{return{data:yield Yn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Kt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return si(this,void 0,void 0,function*(){try{return{data:yield Pd(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Kt(t))return{data:null,error:t};throw t}})}}class xp extends bp{constructor(e,t={},r){super(e,t,r)}from(e){return new mp(this.url,this.headers,e,this.fetch)}}const yp="2.46.1";let Xi="";typeof Deno<"u"?Xi="deno":typeof document<"u"?Xi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xi="react-native":Xi="node";const wp={"X-Client-Info":`supabase-js-${Xi}/${yp}`},Np={headers:wp},jp={schema:"public"},_p={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sp={};var Ap=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function u(p){try{h(r.next(p))}catch(v){l(v)}}function c(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})};const kp=n=>{let e;return n?e=n:typeof fetch>"u"?e=fd:e=fetch,(...t)=>e(...t)},Lp=()=>typeof Headers>"u"?pd:Headers,Pp=(n,e,t)=>{const r=kp(t),i=Lp();return(s,l)=>Ap(void 0,void 0,void 0,function*(){var u;const c=(u=yield e())!==null&&u!==void 0?u:n;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),r(s,Object.assign(Object.assign({},l),{headers:h}))})};var Cp=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function u(p){try{h(r.next(p))}catch(v){l(v)}}function c(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})};function Ep(n){return n.replace(/\/$/,"")}function Ip(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:l,auth:u,realtime:c,global:h}=e,p={db:Object.assign(Object.assign({},l),t),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},h),s),accessToken:()=>Cp(this,void 0,void 0,function*(){return""})};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}const Cd="2.65.1",Tp="http://localhost:9999",Op="supabase.auth.token",Fp={"X-Client-Info":`gotrue-js/${Cd}`},bu=10,Yl="X-Supabase-Api-Version",Ed={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Rp(n){return Math.round(Date.now()/1e3)+n}function Dp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Gr=()=>typeof document<"u",ps={tested:!1,writable:!1},sa=()=>{if(!Gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function kl(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const Id=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>kn(()=>Promise.resolve().then(()=>mi),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Mp=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Td=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},no=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},so=async(n,e)=>{await n.removeItem(e)};function Bp(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,i,s,l,u,c,h,p=0;for(n=n.replace("-","+").replace("_","/");p<n.length;)l=e.indexOf(n.charAt(p++)),u=e.indexOf(n.charAt(p++)),c=e.indexOf(n.charAt(p++)),h=e.indexOf(n.charAt(p++)),r=l<<2|u>>4,i=(u&15)<<4|c>>2,s=(c&3)<<6|h,t=t+String.fromCharCode(r),c!=64&&i!=0&&(t=t+String.fromCharCode(i)),h!=64&&s!=0&&(t=t+String.fromCharCode(s));return t}class So{constructor(){this.promise=new So.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}So.promiseConstructor=Promise;function xu(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(Bp(r))}async function qp(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function Up(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await n(s);if(!e(s,null,l)){r(l);return}}catch(l){if(!e(s,l)){i(l);return}}})()})}function zp(n){return("0"+n.toString(16)).substr(-2)}function $p(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,zp).join("")}async function Hp(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function Wp(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vp(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Hp(n);return Wp(t)}async function ii(n,e,t=!1){const r=$p();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await Td(n,`${e}-code-verifier`,i);const s=await Vp(r);return[s,r===s?"plain":"s256"]}const Gp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jp(n){const e=n.headers.get(Yl);if(!e||!e.match(Gp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class ac extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function rt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Yp extends ac{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Kp(n){return rt(n)&&n.name==="AuthApiError"}class Od extends ac{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ks extends ac{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Gn extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xp(n){return rt(n)&&n.name==="AuthSessionMissingError"}class Ll extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class io extends ks{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ao extends ks{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yu extends ks{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kl extends ks{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Pl(n){return rt(n)&&n.name==="AuthRetryableFetchError"}class wu extends ks{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}var Qp=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const gs=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Zp=[502,503,504];async function Nu(n){var e;if(!Mp(n))throw new Kl(gs(n),0);if(Zp.includes(n.status))throw new Kl(gs(n),n.status);let t;try{t=await n.json()}catch(s){throw new Od(gs(s),s)}let r;const i=Jp(n);if(i&&i.getTime()>=Ed["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new wu(gs(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Gn}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new wu(gs(t),n.status,t.weak_password.reasons);throw new Yp(gs(t),n.status||500,r)}const em=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function at(n,e,t,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Yl]||(s[Yl]=Ed["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",c=await tm(n,e,t+u,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function tm(n,e,t,r,i,s){const l=em(e,r,i,s);let u;try{u=await n(t,Object.assign({},l))}catch(c){throw console.error(c),new Kl(gs(c),0)}if(u.ok||await Nu(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(c){await Nu(c)}}function Jn(n){var e;let t=null;im(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Rp(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function ju(n){const e=Jn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Xn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function rm(n){return{data:n,error:null}}function nm(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,l=Qp(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},c=Object.assign({},l);return{data:{properties:u,user:c},error:null}}function sm(n){return n}function im(n){return n.access_token&&n.refresh_token&&n.expires_in}var am=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class om{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Id(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await at(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await at(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Xn})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=am(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await at(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:nm,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(rt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await at(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xn})}catch(t){if(rt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,l,u,c;try{const h={nextPage:null,lastPage:0,total:0},p=await at(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:sm});if(p.error)throw p.error;const v=await p.json(),b=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,m=(c=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(_=>{const N=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);h[`${j}Page`]=N}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(rt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){try{return await at(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xn})}catch(t){if(rt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await at(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Xn})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await at(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Xn})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await at(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(rt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await at(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(rt(t))return{data:null,error:t};throw t}}}const lm={getItem:n=>sa()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{sa()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{sa()&&globalThis.localStorage.removeItem(n)}};function _u(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function cm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ai={debug:!!(globalThis&&sa()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class um extends Fd{}async function dm(n,e,t){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ai.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw ai.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new um(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ai.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}cm();const hm={url:Tp,storageKey:Op,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ki=30*1e3,Su=3;async function Au(n,e,t){return await t()}class ca{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ca.nextInstanceID,ca.nextInstanceID+=1,this.instanceID>0&&Gr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},hm),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new om({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Id(i.fetch),this.lock=i.lock||Au,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Gr()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=dm:this.lock=Au,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:sa()?this.storage=lm:(this.memoryStorage={},this.storage=_u(this.memoryStorage)):(this.memoryStorage={},this.storage=_u(this.memoryStorage)),Gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cd}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Gr()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:r}=await this._getSessionFromURL(e);if(r)return this._debug("#_initialize()","error detecting session from URL",r),(r==null?void 0:r.code)==="identity_already_exists"?{error:r}:(await this._removeSession(),{error:r});const{session:i,redirectType:s}=t;return this._debug("#_initialize()","detected session in URL",i,"redirect type",s),await this._saveSession(i),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return rt(e)?{error:e}:{error:new Od("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const s=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jn}),{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(rt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,r,i;try{let s;if("email"in e){const{email:p,password:v,options:b}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await ii(this.storage,this.storageKey)),s=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:p,password:v,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:m,code_challenge_method:_},xform:Jn})}else if("phone"in e){const{phone:p,password:v,options:b}=e;s=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(i=b==null?void 0:b.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Jn})}else throw new io("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const c=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(s){if(rt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:l,options:u}=e;t=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:ju})}else if("phone"in e){const{phone:s,password:l,options:u}=e;t=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:ju})}else throw new io("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ll}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await no(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:s,error:l}=await at(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Jn});if(await so(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ll}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(rt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:s,nonce:l}=e,u=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Jn}),{data:c,error:h}=u;return h?{data:{user:null,session:null},error:h}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ll}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:h})}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,s,l;try{if("email"in e){const{email:u,options:c}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ii(this.storage,this.storageKey));const{error:v}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:u,options:c}=e,{data:h,error:p}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(l=c==null?void 0:c.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new io("You must provide either an email or phone number.")}catch(u){if(rt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var t,r;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await at(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Jn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const c=l.session,h=l.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:h,session:c},error:null}}catch(i){if(rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await ii(this.storage,this.storageKey)),await at(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:rm})}catch(s){if(rt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Gn;const{error:i}=await at(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(rt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:l}=await at(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:l,error:u}=await at(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new io("You must provide either an email or phone number and a type")}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await no(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,h,p))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xn}):await this._useSession(async t=>{var r,i,s;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gn}:await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Xn})})}catch(t){if(rt(t))return Xp(t)&&(await this._removeSession(),await so(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Gn;const l=i.session;let u=null,c=null;this.flowType==="pkce"&&e.email!=null&&([u,c]=await ii(this.storage,this.storageKey));const{data:h,error:p}=await at(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:c}),jwt:l.access_token,xform:Xn});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return xu(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Gn;const t=Date.now()/1e3;let r=t,i=!0,s=null;const l=xu(e.access_token);if(l.exp&&(r=l.exp,i=r<=t),i){const{session:u,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(rt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Gn;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(rt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e){try{if(!Gr())throw new ao("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new ao("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new yu("Not a valid PKCE flow url.");const t=kl(window.location.href);if(e){if(!t.code)throw new yu("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:w.session,redirectType:null},error:null}}if(t.error||t.error_description||t.error_code)throw new ao(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:u,expires_at:c,token_type:h}=t;if(!s||!u||!l||!h)throw new ao("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(u);let b=p+v;c&&(b=parseInt(c));const m=b-p;m*1e3<=Ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${v}s`);const _=b-v;p-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,p):p-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,p);const{data:N,error:j}=await this._getUser(s);if(j)throw j;const x={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:v,expires_at:b,refresh_token:l,token_type:h,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(t){if(rt(t))return{data:{session:null,redirectType:null},error:t};throw t}}_isImplicitGrantFlow(){const e=kl(window.location.href);return!!(Gr()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=kl(window.location.href),t=await no(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{error:s};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(Kp(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await so(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Dp(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ii(this.storage,this.storageKey,!0));try{return await at(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(rt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(rt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async s=>{var l,u,c,h,p;const{data:v,error:b}=s;if(b)throw b;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await at(this.fetch,"GET",m,{headers:this.headers,jwt:(p=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Gr()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(rt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:l}=t;if(l)throw l;return await at(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(rt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await Up(async i=>(i>0&&await qp(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await at(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jn})),(i,s)=>{const l=200*Math.pow(2,i);return s&&Pl(s)&&Date.now()+l-r<Ki})}catch(r){if(this._debug(t,"error",r),rt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Gr()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await no(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<i+bu;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${bu}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),Pl(l)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new So;const{data:s,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!s.session)throw new Gn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),rt(s)){const l={session:null,error:s};return Pl(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(c){s.push(c)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Td(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await so(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ki);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ki}ms, refresh threshold is ${Su} ticks`),i<=Su&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fd)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,l]=await ii(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await at(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(rt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:h}=await at(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(rt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:l,error:u}=await at(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})})}catch(t){if(rt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await at(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(rt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),s=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const l=this._decodeJWT(i.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const p=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}}ca.nextInstanceID=0;const fm=ca;class pm extends fm{constructor(e){super(e)}}var mm=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(l){l(s)})}return new(t||(t=Promise))(function(s,l){function u(p){try{h(r.next(p))}catch(v){l(v)}}function c(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(u,c)}h((r=r.apply(n,e||[])).next())})};class gm{constructor(e,t,r){var i,s,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=Ep(e);this.realtimeUrl=`${u}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${u}/auth/v1`,this.storageUrl=`${u}/storage/v1`,this.functionsUrl=`${u}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,h={db:jp,realtime:Sp,auth:Object.assign(Object.assign({},_p),{storageKey:c}),global:Np},p=Ip(r??{},h);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,p.global.fetch),this.fetch=Pp(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new H0(`${u}/rest/v1`,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new y0(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new xp(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return mm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:l,lock:u,debug:c},h,p){var v;const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pm({url:this.authUrl,headers:Object.assign(Object.assign({},b),h),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:l,lock:u,debug:c,fetch:p,hasCustomAuthorizationHeader:(v="Authorization"in this.headers)!==null&&v!==void 0?v:!1})}_initRealtimeClient(e){return new ip(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vm=(n,e,t)=>new gm(n,e,t),Rd="https://iodrpevbnyoaewnftjwc.supabase.co",bm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlvZHJwZXZibnlvYWV3bmZ0andjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ5NzYzNjksImV4cCI6MjA1MDU1MjM2OX0.65_jX_RssoD-Fd-joTKEy0H09zUUIBXiJvPLlTOMHhw";if(!Rd.startsWith("http"))throw new Error("Invalid or missing VITE_SUPABASE_URL. Must be a valid URL starting with http:// or https://");const ku=vm(Rd,bm,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Lu="fabio@fcontador.com.br",xm="F4b10@058",Pu="empresa@teste.com.br",ym="Empresa@123";function wm({onLogin:n}){const[e,t]=Ne.useState("client"),[r,i]=Ne.useState(""),[s,l]=Ne.useState(""),[u,c]=Ne.useState(""),[h,p]=Ne.useState(!1),v=localStorage.getItem("systemLogo"),b=localStorage.getItem("systemName")||"Financial Control",m=async _=>{if(_.preventDefault(),c(""),e==="admin"){r===Lu&&s===xm?n({id:"1",name:"Administrador",email:Lu,role:"admin"}):c("Email ou senha inválidos");return}if(r===Pu&&s===ym){n({id:"demo-company",name:"Empresa Teste",email:Pu,role:"client"});return}try{const{data:{user:N},error:j}=await ku.auth.signInWithPassword({email:r,password:s});if(j)throw j;if(!N){c("Usuário não encontrado");return}const{data:x,error:w}=await ku.from(e==="client"?"companies":"accountings").select("*").eq("owner",N.id).single();if(w)throw w;if(!x){c("Perfil não encontrado");return}if(!x.active){c("Sua conta está pendente de aprovação");return}n({id:N.id,name:x.name,email:N.email,role:e,companyId:e==="client"?x.id:void 0,accountingId:e==="accounting"?x.id:void 0})}catch(N){c(N instanceof Error?N.message:"Erro ao fazer login")}};return h?a.jsx(p0,{onBack:()=>p(!1)}):a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-6",children:v?a.jsx("img",{src:v,alt:b,className:"h-16 w-auto"}):a.jsx("div",{className:"h-16 w-16 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(es,{className:"h-10 w-10 text-white"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:b}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Faça login para acessar sua conta"})]})}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a.jsxs("div",{className:"flex justify-center space-x-4 mb-8",children:[a.jsxs("button",{onClick:()=>t("client"),className:`flex items-center px-4 py-2 rounded-lg ${e==="client"?"bg-blue-50 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(es,{className:"h-5 w-5 mr-2"}),"Empresa"]}),a.jsxs("button",{onClick:()=>t("accounting"),className:`flex items-center px-4 py-2 rounded-lg ${e==="accounting"?"bg-blue-50 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Fu,{className:"h-5 w-5 mr-2"}),"Contabilidade"]}),a.jsxs("button",{onClick:()=>t("admin"),className:`flex items-center px-4 py-2 rounded-lg ${e==="admin"?"bg-blue-50 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(ho,{className:"h-5 w-5 mr-2"}),"Admin"]})]}),u&&a.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(ia,{className:"h-5 w-5 text-red-400"}),a.jsx("p",{className:"ml-3 text-sm text-red-700",children:u})]})}),a.jsxs("form",{onSubmit:m,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ru,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",type:"email",required:!0,value:r,onChange:_=>i(_.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(oo,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",type:"password",required:!0,value:s,onChange:_=>l(_.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Entrar"})})]}),e==="client"&&a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Não tem uma conta?"})})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>p(!0),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Criar nova conta"})})]})]})})]})}const Nm=[{id:"dashboard",label:"Dashboard"},{id:"transactions",label:"Lançamentos"},{id:"banks",label:"Bancos"},{id:"customers",label:"Clientes"},{id:"products",label:"Produtos"},{id:"services",label:"Serviços"},{id:"quotes",label:"Orçamentos"},{id:"reports",label:"Relatórios"},{id:"payables",label:"Contas a Pagar"},{id:"receivables",label:"Contas a Receber"},{id:"chart-accounts",label:"Plano de Contas"}];function jm({company:n,onClose:e,onSave:t}){const[r,i]=Ne.useState(n.permissions||[]),s=u=>{i(c=>c.includes(u)?c.filter(h=>h!==u):[...c,u])},l=()=>{t(n.id,r)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Permissões - ",n.name]}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(ns,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Selecione os módulos que esta empresa terá acesso:"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Nm.map(u=>a.jsxs("label",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.includes(u.id),onChange:()=>s(u.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:u.label})]},u.id))}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:l,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Salvar Permissões"})]})]})]})})}function _m({company:n,onClose:e,onSave:t}){const[r,i]=Ne.useState({name:n.name,cnpj:n.cnpj,address:n.address,owner:n.owner,mainEmail:n.mainEmail,commercialEmail:n.commercialEmail??"",phone:n.phone??""}),s=l=>{l.preventDefault(),t(n.id,r)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Editar Empresa"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(ns,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Razão Social"}),a.jsx("input",{type:"text",value:r.name,onChange:l=>i({...r,name:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CNPJ"}),a.jsx("input",{type:"text",value:r.cnpj,onChange:l=>i({...r,cnpj:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Endereço"}),a.jsx("input",{type:"text",value:r.address,onChange:l=>i({...r,address:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Responsável"}),a.jsx("input",{type:"text",value:r.owner,onChange:l=>i({...r,owner:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),a.jsx("input",{type:"text",value:r.phone,onChange:l=>i({...r,phone:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Principal"}),a.jsx("input",{type:"email",value:r.mainEmail,onChange:l=>i({...r,mainEmail:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Comercial"}),a.jsx("input",{type:"email",value:r.commercialEmail,onChange:l=>i({...r,commercialEmail:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Salvar Alterações"})]})]})]})})}var Dd={exports:{}};(function(n,e){(function(t,r){r()})($t,function(){function t(h,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function r(h,p,v){var b=new XMLHttpRequest;b.open("GET",h),b.responseType="blob",b.onload=function(){c(b.response,p,v)},b.onerror=function(){console.error("could not download file")},b.send()}function i(h){var p=new XMLHttpRequest;p.open("HEAD",h,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(p)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof $t=="object"&&$t.global===$t?$t:void 0,u=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(h,p,v){var b=l.URL||l.webkitURL,m=document.createElement("a");p=p||h.name||"download",m.download=p,m.rel="noopener",typeof h=="string"?(m.href=h,m.origin===location.origin?s(m):i(m.href)?r(h,p,v):s(m,m.target="_blank")):(m.href=b.createObjectURL(h),setTimeout(function(){b.revokeObjectURL(m.href)},4e4),setTimeout(function(){s(m)},0))}:"msSaveOrOpenBlob"in navigator?function(h,p,v){if(p=p||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,v),p);else if(i(h))r(h,p,v);else{var b=document.createElement("a");b.href=h,b.target="_blank",setTimeout(function(){s(b)})}}:function(h,p,v,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof h=="string")return r(h,p,v);var m=h.type==="application/octet-stream",_=/constructor/i.test(l.HTMLElement)||l.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||m&&_||u)&&typeof FileReader<"u"){var j=new FileReader;j.onloadend=function(){var S=j.result;S=N?S:S.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=S:location=S,b=null},j.readAsDataURL(h)}else{var x=l.URL||l.webkitURL,w=x.createObjectURL(h);b?b.location=w:location.href=w,b=null,setTimeout(function(){x.revokeObjectURL(w)},4e4)}});l.saveAs=c.saveAs=c,n.exports=c})})(Dd);var Cu=Dd.exports;async function Sm(n,e){const t=(l,u)=>{const c=[];c.push(u.join(","));for(const h of l){const p=u.map(v=>{const b=h[v.toLowerCase()];return typeof b=="string"?`"${b}"`:b});c.push(p.join(","))}return c.join(`
`)},r={products:{headers:["ID","Name","Description","Price","Stock","SKU"],data:e.products},services:{headers:["ID","Name","Description","Price"],data:e.services},customers:{headers:["ID","Name","Email","Phone","Document"],data:e.customers},transactions:{headers:["ID","Date","Description","Amount","Type","Category","Status"],data:e.transactions},chartOfAccounts:{headers:["ID","Code","Name","Type","ParentId"],data:e.chartOfAccounts}};for(const[l,u]of Object.entries(r)){const c=t(u.data,u.headers),h=new Blob([c],{type:"text/csv;charset=utf-8;"});Cu.saveAs(h,`${n.cnpj}_${l}_${new Date().toISOString().split("T")[0]}.csv`)}const i={companyName:n.name,cnpj:n.cnpj,exportDate:new Date().toISOString(),totalProducts:e.products.length,totalServices:e.services.length,totalCustomers:e.customers.length,totalTransactions:e.transactions.length,totalAccounts:e.chartOfAccounts.length},s=new Blob([JSON.stringify(i,null,2)],{type:"application/json"});Cu.saveAs(s,`${n.cnpj}_export_summary_${new Date().toISOString().split("T")[0]}.json`)}function Am({company:n,onClose:e}){const[t,r]=Ne.useState(!1),[i,s]=Ne.useState(!1),l=async()=>{r(!0);try{await Sm(n,{products:[],services:[],customers:[],transactions:[],chartOfAccounts:[],quotes:[],banks:[]}),s(!0)}catch(u){console.error("Error exporting data:",u)}finally{r(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Exportar Dados da Empresa"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(ns,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Esta operação irá exportar todos os dados cadastrais da empresa ",n.name," em formato CSV."]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Dados incluídos na exportação:"}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[a.jsx("li",{children:"• Produtos"}),a.jsx("li",{children:"• Serviços"}),a.jsx("li",{children:"• Clientes"}),a.jsx("li",{children:"• Transações"}),a.jsx("li",{children:"• Plano de Contas"}),a.jsx("li",{children:"• Orçamentos"}),a.jsx("li",{children:"• Bancos"})]})]}),i?a.jsxs("div",{className:"flex items-center justify-center p-4 bg-green-50 text-green-700 rounded-lg",children:[a.jsx(Th,{className:"h-5 w-5 mr-2"}),a.jsx("span",{children:"Exportação concluída com sucesso!"})]}):a.jsxs("button",{onClick:l,disabled:t,className:`w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${t?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[a.jsx(An,{className:"h-5 w-5 mr-2"}),t?"Exportando...":"Iniciar Exportação"]})]})]})})}function Eu(){const[n,e]=Ne.useState([{id:"company-1",name:"Empresa Demo 1",cnpj:"00.000.000/0001-01",address:"Rua Exemplo, 123",owner:"João Silva",mainEmail:"joao@empresa1.com",accountingId:"accounting-1",users:[],active:!0,status:"approved",permissions:["dashboard","transactions","banks"],createdAt:new Date}]),[t,r]=Ne.useState(""),[i,s]=Ne.useState(null),[l,u]=Ne.useState(!1),[c,h]=Ne.useState(!1),[p,v]=Ne.useState(!1),b=j=>{e(w=>w.map(S=>S.id===j?{...S,active:!S.active}:S));const x=n.find(w=>w.id===j);if(x){const w=document.createElement("div");w.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",w.textContent=`Empresa ${x.active?"desativada":"ativada"} com sucesso`,document.body.appendChild(w),setTimeout(()=>w.remove(),3e3)}},m=j=>{const x=n.find(w=>w.id===j);if(x){const w=document.createElement("div");w.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",w.textContent=`Email de reset de senha enviado para ${x.mainEmail}`,document.body.appendChild(w),setTimeout(()=>w.remove(),3e3)}},_=(j,x)=>{e(S=>S.map(F=>F.id===j?{...F,permissions:x}:F)),u(!1),s(null);const w=document.createElement("div");w.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",w.textContent="Permissões atualizadas com sucesso",document.body.appendChild(w),setTimeout(()=>w.remove(),3e3)},N=(j,x)=>{e(S=>S.map(F=>F.id===j?{...F,...x}:F)),h(!1),s(null);const w=document.createElement("div");w.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",w.textContent="Dados da empresa atualizados com sucesso",document.body.appendChild(w),setTimeout(()=>w.remove(),3e3)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1 max-w-lg",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Buscar empresas...",value:t,onChange:j=>r(j.target.value)})]})}),a.jsx("div",{className:"ml-4",children:a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(_s,{className:"h-5 w-5 mr-2 text-gray-400"}),"Filtros"]})})]}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:n.length===0?a.jsx("li",{className:"px-6 py-8 text-center text-gray-500",children:"Nenhuma empresa cadastrada"}):n.map(j=>a.jsx("li",{children:a.jsxs("div",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(es,{className:"h-6 w-6 text-gray-400"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:j.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["CNPJ: ",j.cnpj]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j.status==="approved"?"bg-green-100 text-green-800":j.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:j.status==="approved"?"Aprovado":j.status==="rejected"?"Rejeitado":"Pendente"}),a.jsx("button",{onClick:()=>{s(j),u(!0)},className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-700",children:"Permissões"}),a.jsx("button",{onClick:()=>{s(j),h(!0)},className:"p-1 text-gray-400 hover:text-blue-600",title:"Editar dados",children:a.jsx(Du,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>m(j.id),className:"p-1 text-gray-400 hover:text-yellow-600",title:"Resetar senha",children:a.jsx(Mu,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>{s(j),v(!0)},className:"p-1 text-gray-400 hover:text-blue-600",title:"Exportar dados",children:a.jsx(An,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>b(j.id),className:`p-1 ${j.active?"text-green-600 hover:text-green-700":"text-red-600 hover:text-red-700"}`,title:j.active?"Desativar empresa":"Ativar empresa",children:a.jsx(Bu,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email Principal"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:j.mainEmail})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Responsável"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:j.owner})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Usuários"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:j.users.length})]})]})]})},j.id))})}),l&&i&&a.jsx(jm,{company:i,onClose:()=>{u(!1),s(null)},onSave:_}),c&&i&&a.jsx(_m,{company:i,onClose:()=>{h(!1),s(null)},onSave:N}),p&&i&&a.jsx(Am,{company:i,onClose:()=>{v(!1),s(null)}})]})}function km({accounting:n,onClose:e,onSave:t}){const[r,i]=Ne.useState({name:n.name,cnpj:n.cnpj,email:n.email,phone:n.phone,address:n.address,responsible:n.responsible}),s=l=>{l.preventDefault(),t(n.id,r)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Editar Contabilidade"}),a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(ns,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:s,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Razão Social"}),a.jsx("input",{type:"text",value:r.name,onChange:l=>i({...r,name:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CNPJ"}),a.jsx("input",{type:"text",value:r.cnpj,onChange:l=>i({...r,cnpj:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Endereço"}),a.jsx("input",{type:"text",value:r.address,onChange:l=>i({...r,address:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contador Responsável"}),a.jsx("input",{type:"text",value:r.responsible,onChange:l=>i({...r,responsible:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),a.jsx("input",{type:"text",value:r.phone,onChange:l=>i({...r,phone:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",value:r.email,onChange:l=>i({...r,email:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",required:!0})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Salvar Alterações"})]})]})]})})}function Lm(){const[n,e]=Ne.useState([{id:"acc-1",name:"Liderar Contabilidade",cnpj:"13.636.911/0001-51",email:"contato@liderarcontabilidade.com.br",phone:"(11) 3333-4444",address:"Rua Principal, 123 - Centro",responsible:"João Silva",companies:[],active:!0,status:"approved",createdAt:new Date}]),[t,r]=Ne.useState(""),[i,s]=Ne.useState(null),[l,u]=Ne.useState(!1),c=v=>{e(m=>m.map(_=>_.id===v?{..._,active:!_.active}:_));const b=n.find(m=>m.id===v);if(b){const m=document.createElement("div");m.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",m.textContent=`Contabilidade ${b.active?"desativada":"ativada"} com sucesso`,document.body.appendChild(m),setTimeout(()=>m.remove(),3e3)}},h=v=>{const b=n.find(m=>m.id===v);if(b){const m=document.createElement("div");m.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",m.textContent=`Email de reset de senha enviado para ${b.email}`,document.body.appendChild(m),setTimeout(()=>m.remove(),3e3)}},p=(v,b)=>{e(_=>_.map(N=>N.id===v?{...N,...b}:N)),u(!1),s(null);const m=document.createElement("div");m.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",m.textContent="Dados da contabilidade atualizados com sucesso",document.body.appendChild(m),setTimeout(()=>m.remove(),3e3)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1 max-w-lg",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Buscar contabilidades...",value:t,onChange:v=>r(v.target.value)})]})}),a.jsx("div",{className:"ml-4",children:a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(_s,{className:"h-5 w-5 mr-2 text-gray-400"}),"Filtros"]})})]}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:n.length===0?a.jsx("li",{className:"px-6 py-8 text-center text-gray-500",children:"Nenhuma contabilidade cadastrada"}):n.map(v=>a.jsx("li",{children:a.jsxs("div",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx(es,{className:"h-6 w-6 text-gray-400"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:v.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["CNPJ: ",v.cnpj]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.status==="approved"?"bg-green-100 text-green-800":v.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:v.status==="approved"?"Aprovado":v.status==="rejected"?"Rejeitado":"Pendente"}),a.jsx("button",{onClick:()=>{s(v),u(!0)},className:"p-1 text-gray-400 hover:text-blue-600",title:"Editar dados",children:a.jsx(Du,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>h(v.id),className:"p-1 text-gray-400 hover:text-yellow-600",title:"Resetar senha",children:a.jsx(Mu,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>c(v.id),className:`p-1 ${v.active?"text-green-600 hover:text-green-700":"text-red-600 hover:text-red-700"}`,title:v.active?"Desativar contabilidade":"Ativar contabilidade",children:a.jsx(Bu,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:v.email})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Responsável"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:v.responsible})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Empresas Vinculadas"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:v.companies.length})]})]})]})},v.id))})}),l&&i&&a.jsx(km,{accounting:i,onClose:()=>{u(!1),s(null)},onSave:p})]})}function Pm(){const[n,e]=Ne.useState(localStorage.getItem("systemLogo")),[t,r]=Ne.useState({primary:"#2563eb",secondary:"#4f46e5",accent:"#0ea5e9"}),[i,s]=Ne.useState(localStorage.getItem("systemName")||"Financial Control"),[l,u]=Ne.useState({email:"fabio@fcontador.com.br",currentPassword:"",newPassword:"",confirmPassword:""}),[c,h]=Ne.useState(!1),[p,v]=Ne.useState({});Ne.useEffect(()=>{const x=localStorage.getItem("adminEmail");x&&u(w=>({...w,email:x}))},[]);const b=x=>{var S;const w=(S=x.target.files)==null?void 0:S[0];if(w){if(w.size>2*1024*1024){alert("A imagem deve ter no máximo 2MB");return}const F=new FileReader;F.onloadend=()=>{const H=F.result;e(H),localStorage.setItem("systemLogo",H),window.dispatchEvent(new Event("systemLogoChanged"))},F.readAsDataURL(w)}},m=(x,w)=>{r(S=>({...S,[x]:w}))},_=x=>{const w=x.target.value;s(w),localStorage.setItem("systemName",w),window.dispatchEvent(new Event("systemNameChanged"))},N=()=>{const x={};return l.currentPassword||(x.currentPassword="Senha atual é obrigatória"),l.newPassword&&(l.newPassword.length<8?x.newPassword="A nova senha deve ter no mínimo 8 caracteres":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(l.newPassword)||(x.newPassword="A senha deve conter letras maiúsculas, minúsculas, números e caracteres especiais"),l.newPassword!==l.confirmPassword&&(x.confirmPassword="As senhas não coincidem")),v(x),Object.keys(x).length===0},j=()=>{if(l.newPassword&&!N())return;localStorage.setItem("adminEmail",l.email),l.newPassword&&l.currentPassword==="F4b10@058"&&localStorage.setItem("adminPassword",l.newPassword),u(w=>({...w,currentPassword:"",newPassword:"",confirmPassword:""}));const x=document.createElement("div");x.className="fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg",x.textContent="Configurações salvas com sucesso!",document.body.appendChild(x),setTimeout(()=>x.remove(),3e3)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Configurações do Sistema"}),a.jsxs("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(Zl,{className:"h-5 w-5 mr-2"}),"Salvar Alterações"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow divide-y divide-gray-200",children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Logo do Sistema"}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex-shrink-0",children:n?a.jsx("img",{src:n,alt:"Logo do Sistema",className:"h-24 w-24 object-contain"}):a.jsx("div",{className:"h-24 w-24 rounded-lg bg-gray-100 flex items-center justify-center",children:a.jsx(Ql,{className:"h-8 w-8 text-gray-400"})})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Logo"}),a.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"PNG, JPG até 2MB. Dimensão recomendada: 200x200px"})]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Nome do Sistema"}),a.jsx("div",{className:"max-w-lg",children:a.jsx("input",{type:"text",value:i,onChange:_,className:"block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Credenciais do Administrador"}),a.jsxs("div",{className:"max-w-lg space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email do Administrador"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ru,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"email",value:l.email,onChange:x=>u(w=>({...w,email:x.target.value})),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha Atual"}),a.jsxs("div",{className:"relative",children:[a.jsx(oo,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx("input",{type:c?"text":"password",value:l.currentPassword,onChange:x=>u(w=>({...w,currentPassword:x.target.value})),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),p.currentPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.currentPassword})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(oo,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx("input",{type:c?"text":"password",value:l.newPassword,onChange:x=>u(w=>({...w,newPassword:x.target.value})),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),p.newPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.newPassword})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nova Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(oo,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.jsx("input",{type:c?"text":"password",value:l.confirmPassword,onChange:x=>u(w=>({...w,confirmPassword:x.target.value})),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),p.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.confirmPassword})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"show-password",type:"checkbox",checked:c,onChange:x=>h(x.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"show-password",className:"ml-2 block text-sm text-gray-900",children:"Mostrar senhas"})]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cores do Tema"}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor Primária"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:t.primary,onChange:x=>m("primary",x.target.value),className:"h-8 w-8 rounded-md border border-gray-300"}),a.jsx("input",{type:"text",value:t.primary,onChange:x=>m("primary",x.target.value),className:"block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor Secundária"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:t.secondary,onChange:x=>m("secondary",x.target.value),className:"h-8 w-8 rounded-md border border-gray-300"}),a.jsx("input",{type:"text",value:t.secondary,onChange:x=>m("secondary",x.target.value),className:"block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor de Destaque"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"color",value:t.accent,onChange:x=>m("accent",x.target.value),className:"h-8 w-8 rounded-md border border-gray-300"}),a.jsx("input",{type:"text",value:t.accent,onChange:x=>m("accent",x.target.value),className:"block w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Prévia"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsx("div",{style:{backgroundColor:t.primary},className:"h-20 rounded-lg shadow flex items-center justify-center text-white",children:"Primária"}),a.jsx("div",{style:{backgroundColor:t.secondary},className:"h-20 rounded-lg shadow flex items-center justify-center text-white",children:"Secundária"}),a.jsx("div",{style:{backgroundColor:t.accent},className:"h-20 rounded-lg shadow flex items-center justify-center text-white",children:"Destaque"})]})]})]})]})}function Cm({user:n,onLogout:e}){const[t,r]=Ne.useState("companies"),i=()=>{switch(t){case"companies":return a.jsx(Eu,{});case"accounting":return a.jsx(Lm,{});case"settings":return a.jsx(Pm,{});default:return a.jsx(Eu,{})}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Financial Control"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-sm text-gray-500",children:n.name}),a.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700",children:a.jsx(Xl,{className:"h-5 w-5"})})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsxs("button",{onClick:()=>r("companies"),className:`group inline-flex items-center px-6 py-4 border-b-2 font-medium text-sm ${t==="companies"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(es,{className:`-ml-1 mr-2 h-5 w-5 ${t==="companies"?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),"Empresas"]}),a.jsxs("button",{onClick:()=>r("accounting"),className:`group inline-flex items-center px-6 py-4 border-b-2 font-medium text-sm ${t==="accounting"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Fu,{className:`-ml-1 mr-2 h-5 w-5 ${t==="accounting"?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),"Contabilidades"]}),a.jsxs("button",{onClick:()=>r("settings"),className:`group inline-flex items-center px-6 py-4 border-b-2 font-medium text-sm ${t==="settings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(ho,{className:`-ml-1 mr-2 h-5 w-5 ${t==="settings"?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),"Configurações"]})]})}),a.jsx("div",{className:"p-6",children:i()})]})})]})}function Em({client:n,onBack:e}){const[t,r]=ui.useState("dashboard"),i=()=>{switch(t){case"dashboard":return a.jsx(lo,{});case"transactions":return a.jsx(Gu,{});case"banks":return a.jsx(Ju,{});case"reports":return a.jsx(hd,{});default:return a.jsx(lo,{})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(qu,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:n.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:["CNPJ: ",n.cnpj]})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"flex",children:[{id:"dashboard",label:"Dashboard"},{id:"transactions",label:"Transações"},{id:"banks",label:"Bancos"},{id:"reports",label:"Relatórios"}].map(s=>a.jsx("button",{onClick:()=>r(s.id),className:`px-4 py-4 text-sm font-medium border-b-2 ${t===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.label},s.id))})}),a.jsx("div",{className:"p-6",children:i()})]})]})}function Iu({accountingId:n}){const[e,t]=Ne.useState([{id:"company-1",name:"Empresa Demo 1",cnpj:"00.000.000/0001-01",address:"Rua Exemplo, 123",owner:"João Silva",mainEmail:"joao@empresa1.com",accountingId:"accounting-1",users:[],active:!0,createdAt:new Date,status:"active",permissions:[]},{id:"company-2",name:"Empresa Demo 2",cnpj:"00.000.000/0001-02",address:"Av Principal, 456",owner:"Maria Santos",mainEmail:"maria@empresa2.com",accountingId:"accounting-1",users:[],active:!0,createdAt:new Date,status:"active",permissions:[]}]),[r,i]=Ne.useState(""),[s,l]=Ne.useState(null),u=Ne.useMemo(()=>e.filter(b=>b.name.toLowerCase().includes(r.toLowerCase())||b.cnpj.includes(r)),[e,r]),c=b=>{l(b)},h=()=>{l(null)},p=b=>{console.log("Download report:",b)},v=b=>{console.log("View analytics:",b)};return s?a.jsx(Em,{client:s,onBack:h}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex-1 max-w-lg",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(pi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Buscar clientes...",value:r,onChange:b=>i(b.target.value)})]})}),a.jsx("div",{className:"ml-4",children:a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(_s,{className:"h-5 w-5 mr-2 text-gray-400"}),"Filtros"]})})]}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:a.jsx("ul",{className:"divide-y divide-gray-200",children:u.map(b=>a.jsx("li",{children:a.jsxs("div",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:b.name}),a.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:["CNPJ: ",b.cnpj]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{onClick:()=>c(b),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700",children:["Acessar Área",a.jsx(Oh,{className:"ml-2 h-4 w-4"})]}),a.jsx("button",{onClick:()=>p(b.id),className:"p-2 text-gray-400 hover:text-green-600",title:"Baixar relatório",children:a.jsx(An,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>v(b.id),className:"p-2 text-gray-400 hover:text-purple-600",title:"Ver análises",children:a.jsx(Fh,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Responsável"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:b.owner})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:b.mainEmail})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),a.jsx("dd",{className:"mt-1",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.active?"Ativo":"Inativo"})})]})]})]})},b.id))})})]})}function Im({report:n,onClose:e,accountingId:t}){const[r,i]=Ne.useState({razaoSocial:"Empresa Demo LTDA",cnpj:"00.000.000/0001-00",socioNome:"João da Silva",socioCpf:"000.000.000-00"}),[s,l]=Ne.useState({razaoSocial:"Contabilidade Exemplo LTDA",cnpj:"00.000.000/0001-00",contador:"Maria Santos",crc:"CRC-SP 123456/O-0"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(qu,{className:"h-5 w-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-semibold text-gray-800",children:[n.name," - ",n.companyName]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Competência: ",n.competencia]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(An,{className:"h-5 w-5 mr-2"}),"Baixar PDF"]}),a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(Ou,{className:"h-5 w-5 mr-2"}),"Enviar para Cliente"]})]})]}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold",children:n.type}),a.jsxs("p",{className:"text-gray-600",children:["Período: ",n.competencia]})]}),a.jsx("div",{className:"border rounded-lg",children:a.jsx("div",{className:"p-4",children:a.jsx("p",{className:"text-gray-500 italic",children:"Conteúdo do relatório será gerado com base nos lançamentos do período..."})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-8 pt-8 border-t",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Assinatura da Empresa"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:r.razaoSocial}),a.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",r.cnpj]}),a.jsx("p",{className:"text-sm text-gray-600",children:r.socioNome}),a.jsxs("p",{className:"text-sm text-gray-600",children:["CPF: ",r.socioCpf]}),a.jsx("div",{className:"pt-8 border-t border-dashed",children:a.jsx("p",{className:"text-sm text-center",children:"Assinatura do Sócio"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Assinatura da Contabilidade"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:s.razaoSocial}),a.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",s.cnpj]}),a.jsx("p",{className:"text-sm text-gray-600",children:s.contador}),a.jsxs("p",{className:"text-sm text-gray-600",children:["CRC: ",s.crc]}),a.jsx("div",{className:"pt-8 border-t border-dashed",children:a.jsx("p",{className:"text-sm text-center",children:"Assinatura do Contador"})})]})]})]})]})})})]})}function Tm({accountingId:n}){const[e,t]=Ne.useState(null),[r]=Ne.useState([{id:"1",name:"DRE Mensal",type:"DRE",companyName:"Empresa Demo 1",companyId:"company-1",competencia:"2024-03",date:new Date,status:"completed"},{id:"2",name:"Balancete Trimestral",type:"Balancete",companyName:"Empresa Demo 2",companyId:"company-2",competencia:"2024-Q1",date:new Date,status:"pending"}]),i=s=>{t(s)};return e?a.jsx(Im,{report:e,onClose:()=>t(null),accountingId:n}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Relatórios"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(fo,{className:"h-5 w-5 mr-2 text-gray-400"}),"Competência"]}),a.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx(_s,{className:"h-5 w-5 mr-2 text-gray-400"}),"Filtros"]})]})]}),a.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Relatório"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Competência"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"relative px-6 py-3",children:a.jsx("span",{className:"sr-only",children:"Ações"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(s=>a.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>i(s),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(js,{className:"h-5 w-5 text-gray-400 mr-2"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),a.jsx("div",{className:"text-sm text-gray-500",children:s.type})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:s.companyName})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:s.competencia})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status==="completed"?"Concluído":"Pendente"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx("button",{className:"text-gray-400 hover:text-blue-600",children:a.jsx(An,{className:"h-5 w-5"})})})]},s.id))})]})})]})}function Om({accountingId:n}){const[e,t]=Ne.useState({razaoSocial:"Contabilidade Exemplo LTDA",cnpj:"00.000.000/0001-00",endereco:"Rua Exemplo, 123 - Centro",contadorResponsavel:"João da Silva",crc:"CRC-SP 123456/O-0",email:"contato@contabilidade.com",telefone:"(11) 1234-5678"}),r=s=>{s.preventDefault(),console.log("Dados salvos:",e)},i=s=>{t({...e,[s.target.name]:s.target.value})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Dados da Contabilidade"}),a.jsxs("button",{onClick:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(Zl,{className:"h-5 w-5 mr-2"}),"Salvar Alterações"]})]}),a.jsx("form",{onSubmit:r,className:"space-y-6",children:a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsx("div",{className:"p-6 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Razão Social"}),a.jsx("input",{type:"text",name:"razaoSocial",value:e.razaoSocial,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CNPJ"}),a.jsx("input",{type:"text",name:"cnpj",value:e.cnpj,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),a.jsxs("div",{className:"sm:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Endereço"}),a.jsx("input",{type:"text",name:"endereco",value:e.endereco,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Contador Responsável"}),a.jsx("input",{type:"text",name:"contadorResponsavel",value:e.contadorResponsavel,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"CRC"}),a.jsx("input",{type:"text",name:"crc",value:e.crc,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",name:"email",value:e.email,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telefone"}),a.jsx("input",{type:"tel",name:"telefone",value:e.telefone,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]})})})})]})}function Fm({user:n,onLogout:e}){const[t,r]=Ne.useState("clients"),i=localStorage.getItem("systemName")||"Financial Control",s=localStorage.getItem("systemLogo"),l=()=>{switch(t){case"clients":return a.jsx(Iu,{accountingId:n.accountingId});case"reports":return a.jsx(Tm,{accountingId:n.accountingId});case"settings":return a.jsx(Om,{accountingId:n.accountingId});default:return a.jsx(Iu,{accountingId:n.accountingId})}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx("div",{className:"flex items-center",children:s?a.jsx("img",{src:s,alt:i,className:"h-8"}):a.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:i})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-sm text-gray-500",children:n.name}),a.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700",children:a.jsx(Xl,{className:"h-5 w-5"})})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsxs("button",{onClick:()=>r("clients"),className:`group inline-flex items-center px-6 py-4 border-b-2 font-medium text-sm ${t==="clients"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(es,{className:`-ml-1 mr-2 h-5 w-5 ${t==="clients"?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),"Clientes"]}),a.jsxs("button",{onClick:()=>r("reports"),className:`group inline-flex items-center px-6 py-4 border-b-2 font-medium text-sm ${t==="reports"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(js,{className:`-ml-1 mr-2 h-5 w-5 ${t==="reports"?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),"Relatórios"]}),a.jsxs("button",{onClick:()=>r("settings"),className:`group inline-flex items-center px-6 py-4 border-b-2 font-medium text-sm ${t==="settings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(ho,{className:`-ml-1 mr-2 h-5 w-5 ${t==="settings"?"text-blue-500":"text-gray-400 group-hover:text-gray-500"}`}),"Configurações"]})]})}),a.jsx("div",{className:"p-6",children:l()})]})})]})}function Rm(){const[n,e]=Ne.useState(mo),[t,r]=Ne.useState(""),[i,s]=Ne.useState(!1),[l,u]=Ne.useState(null),c=n.filter(v=>v.type==="EXPENSE"&&new Date(v.date)>new Date&&!v.paid),h=v=>{u(v),s(!0)},p=()=>{if(!l)return;const v=n.map(b=>b.id===l.id?{...b,paid:!0,date:new Date().toISOString()}:b);e(v),s(!1),u(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Contas a Pagar"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"month",value:t,onChange:v=>r(v.target.value),className:"px-4 py-2 border rounded-lg pr-10"}),a.jsx(fo,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),a.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg flex items-center space-x-2 hover:bg-gray-200",children:[a.jsx(_s,{className:"h-5 w-5"}),a.jsx("span",{children:"Filtros"})]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Vencimento"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Descrição"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Categoria"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-600",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Ações"})]})}),a.jsx("tbody",{children:c.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(ia,{className:"h-8 w-8 text-gray-400 mb-2"}),a.jsx("p",{children:"Nenhuma conta a pagar encontrada"})]})})}):c.map(v=>a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"px-6 py-4 text-gray-800",children:new Date(v.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:v.description}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:v.category}),a.jsxs("td",{className:"px-6 py-4 text-right text-red-600",children:["R$ ",v.amount.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex justify-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"A Vencer"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>h(v),className:"p-2 text-gray-400 hover:text-green-600",title:"Confirmar pagamento",children:a.jsx(Uu,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600",children:a.jsx(zu,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600",children:a.jsx(js,{className:"h-5 w-5"})})]})})]},v.id))})]})})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirmar Pagamento"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Tem certeza que deseja confirmar o pagamento desta conta?"}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancelar"}),a.jsx("button",{onClick:p,className:"px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700",children:"Confirmar"})]})]})})]})}function Dm(){const[n,e]=Ne.useState(mo),[t,r]=Ne.useState(""),[i,s]=Ne.useState(!1),[l,u]=Ne.useState(null),c=n.filter(v=>v.type==="INCOME"&&new Date(v.date)>new Date&&!v.paid),h=v=>{u(v),s(!0)},p=()=>{if(!l)return;const v=n.map(b=>b.id===l.id?{...b,paid:!0,date:new Date().toISOString()}:b);e(v),s(!1),u(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Contas a Receber"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"month",value:t,onChange:v=>r(v.target.value),className:"px-4 py-2 border rounded-lg pr-10"}),a.jsx(fo,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400"})]}),a.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg flex items-center space-x-2 hover:bg-gray-200",children:[a.jsx(_s,{className:"h-5 w-5"}),a.jsx("span",{children:"Filtros"})]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b",children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Vencimento"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Descrição"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Categoria"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Valor"}),a.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-600",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-600",children:"Ações"})]})}),a.jsx("tbody",{children:c.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(ia,{className:"h-8 w-8 text-gray-400 mb-2"}),a.jsx("p",{children:"Nenhuma conta a receber encontrada"})]})})}):c.map(v=>{var b,m;return a.jsxs("tr",{className:"border-b last:border-0",children:[a.jsx("td",{className:"px-6 py-4 text-gray-800",children:new Date(v.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:((b=v.description.split("-")[1])==null?void 0:b.trim())||"Cliente"}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:(m=v.description.split("-")[0])==null?void 0:m.trim()}),a.jsx("td",{className:"px-6 py-4 text-gray-800",children:v.category}),a.jsxs("td",{className:"px-6 py-4 text-right text-green-600",children:["R$ ",v.amount.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"inline-flex justify-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"A Receber"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>h(v),className:"p-2 text-gray-400 hover:text-green-600",title:"Confirmar recebimento",children:a.jsx(Uu,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600",children:a.jsx(zu,{className:"h-5 w-5"})}),a.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600",children:a.jsx(js,{className:"h-5 w-5"})})]})})]},v.id)})})]})})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirmar Recebimento"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Tem certeza que deseja confirmar o recebimento desta conta?"}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Cancelar"}),a.jsx("button",{onClick:p,className:"px-4 py-2 text-white bg-green-600 rounded-lg hover:bg-green-700",children:"Confirmar"})]})]})})]})}function Mm(){const[n,e]=Ne.useState(Vu),[t,r]=Ne.useState(["1","2"]),[i,s]=Ne.useState(!1),[l,u]=Ne.useState(null),[c,h]=Ne.useState({code:"",name:"",type:"revenue",parentId:""}),p=N=>{r(j=>j.includes(N)?j.filter(x=>x!==N):[...j,N])},v=N=>{if(N.preventDefault(),l){const j=x=>x.map(w=>w.id===l.id?{...w,code:c.code,name:c.name,type:c.type,parentId:c.parentId}:w.children?{...w,children:j(w.children)}:w);e(j(n))}else{const j={id:crypto.randomUUID(),code:c.code,name:c.name,type:c.type,parentId:c.parentId};if(!c.parentId)e([...n,j]);else{const x=w=>w.map(S=>S.id===c.parentId?{...S,children:[...S.children||[],j]}:S.children?{...S,children:x(S.children)}:S);e(x(n))}}s(!1),u(null),h({code:"",name:"",type:"revenue",parentId:""})},b=N=>{u(N),h({code:N.code,name:N.name,type:N.type,parentId:N.parentId||""}),s(!0)},m=(N,j=0)=>N.flatMap(x=>[a.jsx("option",{value:x.id,children:"  ".repeat(j)+x.name},x.id),...x.children?m(x.children,j+1):[]]),_=(N,j=0)=>{const x=N.children&&N.children.length>0,w=t.includes(N.id);return a.jsxs("div",{children:[a.jsxs("div",{className:`
            flex items-center px-4 py-2 hover:bg-gray-50
            ${j>0?"ml-"+j*4:""}
          `,children:[x?a.jsx("button",{onClick:()=>p(N.id),className:"p-1 hover:bg-gray-200 rounded-full mr-2",children:w?a.jsx(Rh,{className:"h-4 w-4"}):a.jsx(Dh,{className:"h-4 w-4"})}):a.jsx("div",{className:"w-6 mr-2"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"text-gray-600 mr-2",children:N.code}),a.jsx("span",{className:"text-gray-900",children:N.name})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`
              px-2 py-1 rounded-full text-xs
              ${N.type==="revenue"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}
            `,children:N.type==="revenue"?"Receita":"Despesa"}),a.jsx("button",{onClick:()=>b(N),className:"p-1 text-gray-400 hover:text-blue-600",children:a.jsx(hi,{className:"h-4 w-4"})})]})]}),x&&w&&a.jsx("div",{children:N.children.map(S=>_(S,j+1))})]},N.id)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Plano de Contas"}),a.jsxs("button",{onClick:()=>{u(null),h({code:"",name:"",type:"revenue",parentId:""}),s(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center space-x-2 hover:bg-blue-700",children:[a.jsx(Ln,{className:"h-5 w-5"}),a.jsx("span",{children:"Nova Conta"})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:l?"Editar Conta":"Nova Conta"}),a.jsx("button",{onClick:()=>{s(!1),u(null)},className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(ns,{className:"h-5 w-5 text-gray-500"})})]}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código"}),a.jsx("input",{type:"text",value:c.code,onChange:N=>h({...c,code:N.target.value}),className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),a.jsx("input",{type:"text",value:c.name,onChange:N=>h({...c,name:N.target.value}),className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),a.jsxs("select",{value:c.type,onChange:N=>h({...c,type:N.target.value}),className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"revenue",children:"Receita"}),a.jsx("option",{value:"expense",children:"Despesa"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta Pai"}),a.jsxs("select",{value:c.parentId,onChange:N=>h({...c,parentId:N.target.value}),className:"w-full px-4 py-2 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Selecione uma conta pai (opcional)"}),m(n)]})]}),a.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{s(!1),u(null)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l?"Salvar Alterações":"Criar Conta"})]})]})]})}),a.jsx("div",{className:"bg-white rounded-xl border",children:a.jsx("div",{className:"divide-y",children:n.map(N=>_(N))})})]})}function Bm(){const[n,e]=Ne.useState("dashboard"),[t,r]=Ne.useState(null),i=c=>{e(c)},s=c=>{r(c)},l=()=>{r(null)};if(!t)return a.jsx(wm,{onLogin:s});if(t.role==="admin")return a.jsx(Cm,{user:t,onLogout:l});if(t.role==="accounting")return a.jsx(Fm,{user:t,onLogout:l});return a.jsx(Gh,{onNavigate:i,currentView:n,user:t,onLogout:l,children:u()});function u(){switch(n){case"dashboard":return a.jsx(lo,{});case"transactions":return a.jsx(Gu,{});case"banks":return a.jsx(Ju,{});case"customers":return a.jsx(ef,{});case"products":return a.jsx(tf,{});case"services":return a.jsx(o0,{});case"quotes":return a.jsx(d0,{});case"reports":return a.jsx(hd,{});case"settings":return a.jsx(h0,{onSave:()=>{}});case"payables":return a.jsx(Rm,{});case"receivables":return a.jsx(Dm,{});case"chart-accounts":return a.jsx(Mm,{});default:return a.jsx(lo,{})}}}const qm="YOUR_GOOGLE_CLIENT_ID";Wu(document.getElementById("root")).render(a.jsx(Ne.StrictMode,{children:a.jsx(Vh,{clientId:qm,children:a.jsx(Bm,{})})}));export{gt as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index.es-CIStrX7M.js","assets/vendor-xyw8oivv.js","assets/ui-CkAohDJP.js","assets/browser-_xnikinW.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
